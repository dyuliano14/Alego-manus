(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function s(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=s(l);fetch(l.href,h)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var i=t.default;if(typeof i=="function"){var s=function o(){var l=!1;try{l=this instanceof o}catch{}return l?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var l=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return t[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={},hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),c=Symbol.iterator;function y(C){return C===null||typeof C!="object"?null:(C=c&&C[c]||C["@@iterator"],typeof C=="function"?C:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,S={};function k(C,N,R){this.props=C,this.context=N,this.refs=S,this.updater=R||x}k.prototype.isReactComponent={},k.prototype.setState=function(C,N){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,N,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function E(){}E.prototype=k.prototype;function I(C,N,R){this.props=C,this.context=N,this.refs=S,this.updater=R||x}var L=I.prototype=new E;L.constructor=I,m(L,k.prototype),L.isPureReactComponent=!0;var z=Array.isArray,j=Object.prototype.hasOwnProperty,F={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function H(C,N,R){var W,B={},A=null,M=null;if(N!=null)for(W in N.ref!==void 0&&(M=N.ref),N.key!==void 0&&(A=""+N.key),N)j.call(N,W)&&!V.hasOwnProperty(W)&&(B[W]=N[W]);var D=arguments.length-2;if(D===1)B.children=R;else if(1<D){for(var U=Array(D),$=0;$<D;$++)U[$]=arguments[$+2];B.children=U}if(C&&C.defaultProps)for(W in D=C.defaultProps,D)B[W]===void 0&&(B[W]=D[W]);return{$$typeof:t,type:C,key:A,ref:M,props:B,_owner:F.current}}function X(C,N){return{$$typeof:t,type:C.type,key:N,ref:C.ref,props:C.props,_owner:C._owner}}function q(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function Q(C){var N={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(R){return N[R]})}var ie=/\/+/g;function te(C,N){return typeof C=="object"&&C!==null&&C.key!=null?Q(""+C.key):N.toString(36)}function ne(C,N,R,W,B){var A=typeof C;(A==="undefined"||A==="boolean")&&(C=null);var M=!1;if(C===null)M=!0;else switch(A){case"string":case"number":M=!0;break;case"object":switch(C.$$typeof){case t:case i:M=!0}}if(M)return M=C,B=B(M),C=W===""?"."+te(M,0):W,z(B)?(R="",C!=null&&(R=C.replace(ie,"$&/")+"/"),ne(B,N,R,"",function($){return $})):B!=null&&(q(B)&&(B=X(B,R+(!B.key||M&&M.key===B.key?"":(""+B.key).replace(ie,"$&/")+"/")+C)),N.push(B)),1;if(M=0,W=W===""?".":W+":",z(C))for(var D=0;D<C.length;D++){A=C[D];var U=W+te(A,D);M+=ne(A,N,R,U,B)}else if(U=y(C),typeof U=="function")for(C=U.call(C),D=0;!(A=C.next()).done;)A=A.value,U=W+te(A,D++),M+=ne(A,N,R,U,B);else if(A==="object")throw N=String(C),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return M}function he(C,N,R){if(C==null)return C;var W=[],B=0;return ne(C,W,"","",function(A){return N.call(R,A,B++)}),W}function ae(C){if(C._status===-1){var N=C._result;N=N(),N.then(function(R){(C._status===0||C._status===-1)&&(C._status=1,C._result=R)},function(R){(C._status===0||C._status===-1)&&(C._status=2,C._result=R)}),C._status===-1&&(C._status=0,C._result=N)}if(C._status===1)return C._result.default;throw C._result}var G={current:null},P={transition:null},T={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:P,ReactCurrentOwner:F};function v(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:he,forEach:function(C,N,R){he(C,function(){N.apply(this,arguments)},R)},count:function(C){var N=0;return he(C,function(){N++}),N},toArray:function(C){return he(C,function(N){return N})||[]},only:function(C){if(!q(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},react_production_min.Component=k,react_production_min.Fragment=s,react_production_min.Profiler=l,react_production_min.PureComponent=I,react_production_min.StrictMode=o,react_production_min.Suspense=w,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,react_production_min.act=v,react_production_min.cloneElement=function(C,N,R){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var W=m({},C.props),B=C.key,A=C.ref,M=C._owner;if(N!=null){if(N.ref!==void 0&&(A=N.ref,M=F.current),N.key!==void 0&&(B=""+N.key),C.type&&C.type.defaultProps)var D=C.type.defaultProps;for(U in N)j.call(N,U)&&!V.hasOwnProperty(U)&&(W[U]=N[U]===void 0&&D!==void 0?D[U]:N[U])}var U=arguments.length-2;if(U===1)W.children=R;else if(1<U){D=Array(U);for(var $=0;$<U;$++)D[$]=arguments[$+2];W.children=D}return{$$typeof:t,type:C.type,key:B,ref:A,props:W,_owner:M}},react_production_min.createContext=function(C){return C={$$typeof:p,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:h,_context:C},C.Consumer=C},react_production_min.createElement=H,react_production_min.createFactory=function(C){var N=H.bind(null,C);return N.type=C,N},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(C){return{$$typeof:g,render:C}},react_production_min.isValidElement=q,react_production_min.lazy=function(C){return{$$typeof:u,_payload:{_status:-1,_result:C},_init:ae}},react_production_min.memo=function(C,N){return{$$typeof:d,type:C,compare:N===void 0?null:N}},react_production_min.startTransition=function(C){var N=P.transition;P.transition={};try{C()}finally{P.transition=N}},react_production_min.unstable_act=v,react_production_min.useCallback=function(C,N){return G.current.useCallback(C,N)},react_production_min.useContext=function(C){return G.current.useContext(C)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(C){return G.current.useDeferredValue(C)},react_production_min.useEffect=function(C,N){return G.current.useEffect(C,N)},react_production_min.useId=function(){return G.current.useId()},react_production_min.useImperativeHandle=function(C,N,R){return G.current.useImperativeHandle(C,N,R)},react_production_min.useInsertionEffect=function(C,N){return G.current.useInsertionEffect(C,N)},react_production_min.useLayoutEffect=function(C,N){return G.current.useLayoutEffect(C,N)},react_production_min.useMemo=function(C,N){return G.current.useMemo(C,N)},react_production_min.useReducer=function(C,N,R){return G.current.useReducer(C,N,R)},react_production_min.useRef=function(C){return G.current.useRef(C)},react_production_min.useState=function(C){return G.current.useState(C)},react_production_min.useSyncExternalStore=function(C,N,R){return G.current.useSyncExternalStore(C,N,R)},react_production_min.useTransition=function(){return G.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function p(g,w,d){var u,c={},y=null,x=null;d!==void 0&&(y=""+d),w.key!==void 0&&(y=""+w.key),w.ref!==void 0&&(x=w.ref);for(u in w)o.call(w,u)&&!h.hasOwnProperty(u)&&(c[u]=w[u]);if(g&&g.defaultProps)for(u in w=g.defaultProps,w)c[u]===void 0&&(c[u]=w[u]);return{$$typeof:i,type:g,key:y,ref:x,props:c,_owner:l.current}}return reactJsxRuntime_production_min.Fragment=s,reactJsxRuntime_production_min.jsx=p,reactJsxRuntime_production_min.jsxs=p,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function i(P,T){var v=P.length;P.push(T);e:for(;0<v;){var C=v-1>>>1,N=P[C];if(0<l(N,T))P[C]=T,P[v]=N,v=C;else break e}}function s(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var T=P[0],v=P.pop();if(v!==T){P[0]=v;e:for(var C=0,N=P.length,R=N>>>1;C<R;){var W=2*(C+1)-1,B=P[W],A=W+1,M=P[A];if(0>l(B,v))A<N&&0>l(M,B)?(P[C]=M,P[A]=v,C=A):(P[C]=B,P[W]=v,C=W);else if(A<N&&0>l(M,v))P[C]=M,P[A]=v,C=A;else break e}}return T}function l(P,T){var v=P.sortIndex-T.sortIndex;return v!==0?v:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;t.unstable_now=function(){return h.now()}}else{var p=Date,g=p.now();t.unstable_now=function(){return p.now()-g}}var w=[],d=[],u=1,c=null,y=3,x=!1,m=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(P){for(var T=s(d);T!==null;){if(T.callback===null)o(d);else if(T.startTime<=P)o(d),T.sortIndex=T.expirationTime,i(w,T);else break;T=s(d)}}function z(P){if(S=!1,L(P),!m)if(s(w)!==null)m=!0,ae(j);else{var T=s(d);T!==null&&G(z,T.startTime-P)}}function j(P,T){m=!1,S&&(S=!1,E(H),H=-1),x=!0;var v=y;try{for(L(T),c=s(w);c!==null&&(!(c.expirationTime>T)||P&&!Q());){var C=c.callback;if(typeof C=="function"){c.callback=null,y=c.priorityLevel;var N=C(c.expirationTime<=T);T=t.unstable_now(),typeof N=="function"?c.callback=N:c===s(w)&&o(w),L(T)}else o(w);c=s(w)}if(c!==null)var R=!0;else{var W=s(d);W!==null&&G(z,W.startTime-T),R=!1}return R}finally{c=null,y=v,x=!1}}var F=!1,V=null,H=-1,X=5,q=-1;function Q(){return!(t.unstable_now()-q<X)}function ie(){if(V!==null){var P=t.unstable_now();q=P;var T=!0;try{T=V(!0,P)}finally{T?te():(F=!1,V=null)}}else F=!1}var te;if(typeof I=="function")te=function(){I(ie)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,he=ne.port2;ne.port1.onmessage=ie,te=function(){he.postMessage(null)}}else te=function(){k(ie,0)};function ae(P){V=P,F||(F=!0,te())}function G(P,T){H=k(function(){P(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||x||(m=!0,ae(j))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return s(w)},t.unstable_next=function(P){switch(y){case 1:case 2:case 3:var T=3;break;default:T=y}var v=y;y=T;try{return P()}finally{y=v}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var v=y;y=P;try{return T()}finally{y=v}},t.unstable_scheduleCallback=function(P,T,v){var C=t.unstable_now();switch(typeof v=="object"&&v!==null?(v=v.delay,v=typeof v=="number"&&0<v?C+v:C):v=C,P){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=v+N,P={id:u++,callback:T,priorityLevel:P,startTime:v,expirationTime:N,sortIndex:-1},v>C?(P.sortIndex=v,i(d,P),s(w)===null&&P===s(d)&&(S?(E(H),H=-1):S=!0,G(z,v-C))):(P.sortIndex=N,i(w,P),m||x||(m=!0,ae(j))),P},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(P){var T=y;return function(){var v=y;y=T;try{return P.apply(this,arguments)}finally{y=v}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),i=requireScheduler();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function h(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},c={};function y(e){return w.call(c,e)?!0:w.call(u,e)?!1:d.test(e)?c[e]=!0:(u[e]=!0,!1)}function x(e,n,a,f){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return f?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m(e,n,a,f){if(n===null||typeof n>"u"||x(e,n,a,f))return!0;if(f)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function S(e,n,a,f,b,_,O){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=f,this.attributeNamespace=b,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=_,this.removeEmptyString=O}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];k[n]=new S(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(E,I);k[n]=new S(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(E,I);k[n]=new S(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(E,I);k[n]=new S(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,n,a,f){var b=k.hasOwnProperty(n)?k[n]:null;(b!==null?b.type!==0:f||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(m(n,a,b,f)&&(a=null),f||b===null?y(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):b.mustUseProperty?e[b.propertyName]=a===null?b.type===3?!1:"":a:(n=b.attributeName,f=b.attributeNamespace,a===null?e.removeAttribute(n):(b=b.type,a=b===3||b===4&&a===!0?"":""+a,f?e.setAttributeNS(f,n,a):e.setAttribute(n,a))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),F=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),P=Symbol.iterator;function T(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var v=Object.assign,C;function N(e){if(C===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+e}var R=!1;function W(e,n){if(!e||R)return"";R=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(de){var f=de}Reflect.construct(e,[],n)}else{try{n.call()}catch(de){f=de}e.call(n.prototype)}else{try{throw Error()}catch(de){f=de}e()}}catch(de){if(de&&f&&typeof de.stack=="string"){for(var b=de.stack.split(`
`),_=f.stack.split(`
`),O=b.length-1,Y=_.length-1;1<=O&&0<=Y&&b[O]!==_[Y];)Y--;for(;1<=O&&0<=Y;O--,Y--)if(b[O]!==_[Y]){if(O!==1||Y!==1)do if(O--,Y--,0>Y||b[O]!==_[Y]){var Z=`
`+b[O].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=O&&0<=Y);break}}}finally{R=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?N(e):""}function B(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1),e;case 11:return e=W(e.type.render,!1),e;case 1:return e=W(e.type,!0),e;default:return""}}function A(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case F:return"Portal";case X:return"Profiler";case H:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case q:return(e._context.displayName||"Context")+".Provider";case ie:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return n=e.displayName||null,n!==null?n:A(e.type)||"Memo";case ae:n=e._payload,e=e._init;try{return A(e(n))}catch{}}return null}function M(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(n);case 8:return n===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function D(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $(e){var n=U(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),f=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var b=a.get,_=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return b.call(this)},set:function(O){f=""+O,_.call(this,O)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function K(e){e._valueTracker||(e._valueTracker=$(e))}function J(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),f="";return e&&(f=U(e)?e.checked?"true":"false":e.value),e=f,e!==a?(n.setValue(e),!0):!1}function ue(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ae(e,n){var a=n.checked;return v({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function ce(e,n){var a=n.defaultValue==null?"":n.defaultValue,f=n.checked!=null?n.checked:n.defaultChecked;a=D(n.value!=null?n.value:a),e._wrapperState={initialChecked:f,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function fe(e,n){n=n.checked,n!=null&&L(e,"checked",n,!1)}function me(e,n){fe(e,n);var a=D(n.value),f=n.type;if(a!=null)f==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(f==="submit"||f==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ye(e,n.type,a):n.hasOwnProperty("defaultValue")&&ye(e,n.type,D(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ge(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var f=n.type;if(!(f!=="submit"&&f!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function ye(e,n,a){(n!=="number"||ue(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var _e=Array.isArray;function Re(e,n,a,f){if(e=e.options,n){n={};for(var b=0;b<a.length;b++)n["$"+a[b]]=!0;for(a=0;a<e.length;a++)b=n.hasOwnProperty("$"+e[a].value),e[a].selected!==b&&(e[a].selected=b),b&&f&&(e[a].defaultSelected=!0)}else{for(a=""+D(a),n=null,b=0;b<e.length;b++){if(e[b].value===a){e[b].selected=!0,f&&(e[b].defaultSelected=!0);return}n!==null||e[b].disabled||(n=e[b])}n!==null&&(n.selected=!0)}}function Ie(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return v({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(s(92));if(_e(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:D(a)}}function Be(e,n){var a=D(n.value),f=D(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),f!=null&&(e.defaultValue=""+f)}function $e(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ut(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ut(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ee,Te=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,f,b){MSApp.execUnsafeLocalFunction(function(){return e(n,a,f,b)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ee=Ee||document.createElement("div"),Ee.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ee.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ze(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];Object.keys(Ue).forEach(function(e){bt.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ue[n]=Ue[e]})});function Rt(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Ue.hasOwnProperty(e)&&Ue[e]?(""+n).trim():n+"px"}function xe(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var f=a.indexOf("--")===0,b=Rt(a,n[a],f);a==="float"&&(a="cssFloat"),f?e.setProperty(a,b):e[a]=b}}var se=v({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(e,n){if(n){if(se[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Se(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=null;function qe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nt=null,Tt=null,Pt=null;function Yt(e){if(e=Or(e)){if(typeof nt!="function")throw Error(s(280));var n=e.stateNode;n&&(n=vi(n),nt(e.stateNode,e.type,n))}}function pt(e){Tt?Pt?Pt.push(e):Pt=[e]:Tt=e}function rn(){if(Tt){var e=Tt,n=Pt;if(Pt=Tt=null,Yt(e),n)for(e=0;e<n.length;e++)Yt(n[e])}}function Ut(e,n){return e(n)}function Ln(){}var et=!1;function Dn(e,n,a){if(et)return e(n,a);et=!0;try{return Ut(e,n,a)}finally{et=!1,(Tt!==null||Pt!==null)&&(Ln(),rn())}}function Kt(e,n){var a=e.stateNode;if(a===null)return null;var f=vi(a);if(f===null)return null;a=f[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Nn=!1;if(g)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Nn=!1}function On(e,n,a,f,b,_,O,Y,Z){var de=Array.prototype.slice.call(arguments,3);try{n.apply(a,de)}catch(be){this.onError(be)}}var ot=!1,Qt=null,mn=!1,is=null,xu={onError:function(e){ot=!0,Qt=e}};function yu(e,n,a,f,b,_,O,Y,Z){ot=!1,Qt=null,On.apply(xu,arguments)}function vu(e,n,a,f,b,_,O,Y,Z){if(yu.apply(this,arguments),ot){if(ot){var de=Qt;ot=!1,Qt=null}else throw Error(s(198));mn||(mn=!0,is=de)}}function zn(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function Bo(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Uo(e){if(zn(e)!==e)throw Error(s(188))}function bu(e){var n=e.alternate;if(!n){if(n=zn(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,f=n;;){var b=a.return;if(b===null)break;var _=b.alternate;if(_===null){if(f=b.return,f!==null){a=f;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===a)return Uo(b),e;if(_===f)return Uo(b),n;_=_.sibling}throw Error(s(188))}if(a.return!==f.return)a=b,f=_;else{for(var O=!1,Y=b.child;Y;){if(Y===a){O=!0,a=b,f=_;break}if(Y===f){O=!0,f=b,a=_;break}Y=Y.sibling}if(!O){for(Y=_.child;Y;){if(Y===a){O=!0,a=_,f=b;break}if(Y===f){O=!0,f=_,a=b;break}Y=Y.sibling}if(!O)throw Error(s(189))}}if(a.alternate!==f)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function Vo(e){return e=bu(e),e!==null?Ho(e):null}function Ho(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ho(e);if(n!==null)return n;e=e.sibling}return null}var $o=i.unstable_scheduleCallback,Wo=i.unstable_cancelCallback,wu=i.unstable_shouldYield,Eu=i.unstable_requestPaint,rt=i.unstable_now,Su=i.unstable_getCurrentPriorityLevel,ss=i.unstable_ImmediatePriority,qo=i.unstable_UserBlockingPriority,Zr=i.unstable_NormalPriority,ku=i.unstable_LowPriority,Go=i.unstable_IdlePriority,ei=null,Jt=null;function Au(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ei,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Ru,_u=Math.log,Cu=Math.LN2;function Ru(e){return e>>>=0,e===0?32:31-(_u(e)/Cu|0)|0}var ti=64,ni=4194304;function br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ri(e,n){var a=e.pendingLanes;if(a===0)return 0;var f=0,b=e.suspendedLanes,_=e.pingedLanes,O=a&268435455;if(O!==0){var Y=O&~b;Y!==0?f=br(Y):(_&=O,_!==0&&(f=br(_)))}else O=a&~b,O!==0?f=br(O):_!==0&&(f=br(_));if(f===0)return 0;if(n!==0&&n!==f&&(n&b)===0&&(b=f&-f,_=n&-n,b>=_||b===16&&(_&4194240)!==0))return n;if((f&4)!==0&&(f|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=f;0<n;)a=31-Vt(n),b=1<<a,f|=e[a],n&=~b;return f}function Tu(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(e,n){for(var a=e.suspendedLanes,f=e.pingedLanes,b=e.expirationTimes,_=e.pendingLanes;0<_;){var O=31-Vt(_),Y=1<<O,Z=b[O];Z===-1?((Y&a)===0||(Y&f)!==0)&&(b[O]=Tu(Y,n)):Z<=n&&(e.expiredLanes|=Y),_&=~Y}}function os(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xo(){var e=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),e}function as(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function wr(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Vt(n),e[n]=a}function ju(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var f=e.eventTimes;for(e=e.expirationTimes;0<a;){var b=31-Vt(a),_=1<<b;n[b]=0,f[b]=-1,e[b]=-1,a&=~_}}function ls(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var f=31-Vt(a),b=1<<f;b&n|e[f]&n&&(e[f]|=n),a&=~b}}var Ge=0;function Yo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ko,us,Qo,Jo,Zo,cs=!1,ii=[],gn=null,xn=null,yn=null,Er=new Map,Sr=new Map,vn=[],Fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ea(e,n){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Er.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(n.pointerId)}}function kr(e,n,a,f,b,_){return e===null||e.nativeEvent!==_?(e={blockedOn:n,domEventName:a,eventSystemFlags:f,nativeEvent:_,targetContainers:[b]},n!==null&&(n=Or(n),n!==null&&us(n)),e):(e.eventSystemFlags|=f,n=e.targetContainers,b!==null&&n.indexOf(b)===-1&&n.push(b),e)}function Mu(e,n,a,f,b){switch(n){case"focusin":return gn=kr(gn,e,n,a,f,b),!0;case"dragenter":return xn=kr(xn,e,n,a,f,b),!0;case"mouseover":return yn=kr(yn,e,n,a,f,b),!0;case"pointerover":var _=b.pointerId;return Er.set(_,kr(Er.get(_)||null,e,n,a,f,b)),!0;case"gotpointercapture":return _=b.pointerId,Sr.set(_,kr(Sr.get(_)||null,e,n,a,f,b)),!0}return!1}function ta(e){var n=Bn(e.target);if(n!==null){var a=zn(n);if(a!==null){if(n=a.tag,n===13){if(n=Bo(a),n!==null){e.blockedOn=n,Zo(e.priority,function(){Qo(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=hs(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var f=new a.constructor(a.type,a);Ve=f,a.target.dispatchEvent(f),Ve=null}else return n=Or(a),n!==null&&us(n),e.blockedOn=a,!1;n.shift()}return!0}function na(e,n,a){si(e)&&a.delete(n)}function Iu(){cs=!1,gn!==null&&si(gn)&&(gn=null),xn!==null&&si(xn)&&(xn=null),yn!==null&&si(yn)&&(yn=null),Er.forEach(na),Sr.forEach(na)}function Ar(e,n){e.blockedOn===n&&(e.blockedOn=null,cs||(cs=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Iu)))}function _r(e){function n(b){return Ar(b,e)}if(0<ii.length){Ar(ii[0],e);for(var a=1;a<ii.length;a++){var f=ii[a];f.blockedOn===e&&(f.blockedOn=null)}}for(gn!==null&&Ar(gn,e),xn!==null&&Ar(xn,e),yn!==null&&Ar(yn,e),Er.forEach(n),Sr.forEach(n),a=0;a<vn.length;a++)f=vn[a],f.blockedOn===e&&(f.blockedOn=null);for(;0<vn.length&&(a=vn[0],a.blockedOn===null);)ta(a),a.blockedOn===null&&vn.shift()}var Jn=z.ReactCurrentBatchConfig,oi=!0;function Lu(e,n,a,f){var b=Ge,_=Jn.transition;Jn.transition=null;try{Ge=1,ds(e,n,a,f)}finally{Ge=b,Jn.transition=_}}function Du(e,n,a,f){var b=Ge,_=Jn.transition;Jn.transition=null;try{Ge=4,ds(e,n,a,f)}finally{Ge=b,Jn.transition=_}}function ds(e,n,a,f){if(oi){var b=hs(e,n,a,f);if(b===null)Ts(e,n,f,ai,a),ea(e,f);else if(Mu(b,e,n,a,f))f.stopPropagation();else if(ea(e,f),n&4&&-1<Fu.indexOf(e)){for(;b!==null;){var _=Or(b);if(_!==null&&Ko(_),_=hs(e,n,a,f),_===null&&Ts(e,n,f,ai,a),_===b)break;b=_}b!==null&&f.stopPropagation()}else Ts(e,n,f,null,a)}}var ai=null;function hs(e,n,a,f){if(ai=null,e=qe(f),e=Bn(e),e!==null)if(n=zn(e),n===null)e=null;else if(a=n.tag,a===13){if(e=Bo(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ai=e,null}function ra(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Su()){case ss:return 1;case qo:return 4;case Zr:case ku:return 16;case Go:return 536870912;default:return 16}default:return 16}}var bn=null,ps=null,li=null;function ia(){if(li)return li;var e,n=ps,a=n.length,f,b="value"in bn?bn.value:bn.textContent,_=b.length;for(e=0;e<a&&n[e]===b[e];e++);var O=a-e;for(f=1;f<=O&&n[a-f]===b[_-f];f++);return li=b.slice(e,1<f?1-f:void 0)}function ui(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function sa(){return!1}function jt(e){function n(a,f,b,_,O){this._reactName=a,this._targetInst=b,this.type=f,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var Y in e)e.hasOwnProperty(Y)&&(a=e[Y],this[Y]=a?a(_):_[Y]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ci:sa,this.isPropagationStopped=sa,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),n}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=jt(Zn),Cr=v({},Zn,{view:0,detail:0}),Nu=jt(Cr),ms,gs,Rr,di=v({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(ms=e.screenX-Rr.screenX,gs=e.screenY-Rr.screenY):gs=ms=0,Rr=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:gs}}),oa=jt(di),Ou=v({},di,{dataTransfer:0}),zu=jt(Ou),Bu=v({},Cr,{relatedTarget:0}),xs=jt(Bu),Uu=v({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=jt(Uu),Hu=v({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$u=jt(Hu),Wu=v({},Zn,{data:0}),aa=jt(Wu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Xu[e])?!!n[e]:!1}function ys(){return Yu}var Ku=v({},Cr,{key:function(e){if(e.key){var n=qu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qu=jt(Ku),Ju=v({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=jt(Ju),Zu=v({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),ec=jt(Zu),tc=v({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=jt(tc),rc=v({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ic=jt(rc),sc=[9,13,27,32],vs=g&&"CompositionEvent"in window,Tr=null;g&&"documentMode"in document&&(Tr=document.documentMode);var oc=g&&"TextEvent"in window&&!Tr,ua=g&&(!vs||Tr&&8<Tr&&11>=Tr),ca=" ",da=!1;function ha(e,n){switch(e){case"keyup":return sc.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var er=!1;function ac(e,n){switch(e){case"compositionend":return pa(n);case"keypress":return n.which!==32?null:(da=!0,ca);case"textInput":return e=n.data,e===ca&&da?null:e;default:return null}}function lc(e,n){if(er)return e==="compositionend"||!vs&&ha(e,n)?(e=ia(),li=ps=bn=null,er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ua&&n.locale!=="ko"?null:n.data;default:return null}}var uc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!uc[e.type]:n==="textarea"}function ma(e,n,a,f){pt(f),n=gi(n,"onChange"),0<n.length&&(a=new fs("onChange","change",null,a,f),e.push({event:a,listeners:n}))}var Pr=null,jr=null;function cc(e){Ma(e,0)}function hi(e){var n=sr(e);if(J(n))return e}function dc(e,n){if(e==="change")return n}var ga=!1;if(g){var bs;if(g){var ws="oninput"in document;if(!ws){var xa=document.createElement("div");xa.setAttribute("oninput","return;"),ws=typeof xa.oninput=="function"}bs=ws}else bs=!1;ga=bs&&(!document.documentMode||9<document.documentMode)}function ya(){Pr&&(Pr.detachEvent("onpropertychange",va),jr=Pr=null)}function va(e){if(e.propertyName==="value"&&hi(jr)){var n=[];ma(n,jr,e,qe(e)),Dn(cc,n)}}function hc(e,n,a){e==="focusin"?(ya(),Pr=n,jr=a,Pr.attachEvent("onpropertychange",va)):e==="focusout"&&ya()}function pc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(jr)}function fc(e,n){if(e==="click")return hi(n)}function mc(e,n){if(e==="input"||e==="change")return hi(n)}function gc(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ht=typeof Object.is=="function"?Object.is:gc;function Fr(e,n){if(Ht(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),f=Object.keys(n);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var b=a[f];if(!w.call(n,b)||!Ht(e[b],n[b]))return!1}return!0}function ba(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wa(e,n){var a=ba(e);e=0;for(var f;a;){if(a.nodeType===3){if(f=e+a.textContent.length,e<=n&&f>=n)return{node:a,offset:n-e};e=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ba(a)}}function Ea(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ea(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sa(){for(var e=window,n=ue();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ue(e.document)}return n}function Es(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function xc(e){var n=Sa(),a=e.focusedElem,f=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&Ea(a.ownerDocument.documentElement,a)){if(f!==null&&Es(a)){if(n=f.start,e=f.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var b=a.textContent.length,_=Math.min(f.start,b);f=f.end===void 0?_:Math.min(f.end,b),!e.extend&&_>f&&(b=f,f=_,_=b),b=wa(a,_);var O=wa(a,f);b&&O&&(e.rangeCount!==1||e.anchorNode!==b.node||e.anchorOffset!==b.offset||e.focusNode!==O.node||e.focusOffset!==O.offset)&&(n=n.createRange(),n.setStart(b.node,b.offset),e.removeAllRanges(),_>f?(e.addRange(n),e.extend(O.node,O.offset)):(n.setEnd(O.node,O.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yc=g&&"documentMode"in document&&11>=document.documentMode,tr=null,Ss=null,Mr=null,ks=!1;function ka(e,n,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ks||tr==null||tr!==ue(f)||(f=tr,"selectionStart"in f&&Es(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Mr&&Fr(Mr,f)||(Mr=f,f=gi(Ss,"onSelect"),0<f.length&&(n=new fs("onSelect","select",null,n,a),e.push({event:n,listeners:f}),n.target=tr)))}function pi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var nr={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionend:pi("Transition","TransitionEnd")},As={},Aa={};g&&(Aa=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function fi(e){if(As[e])return As[e];if(!nr[e])return e;var n=nr[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Aa)return As[e]=n[a];return e}var _a=fi("animationend"),Ca=fi("animationiteration"),Ra=fi("animationstart"),Ta=fi("transitionend"),Pa=new Map,ja="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,n){Pa.set(e,n),h(n,[e])}for(var _s=0;_s<ja.length;_s++){var Cs=ja[_s],vc=Cs.toLowerCase(),bc=Cs[0].toUpperCase()+Cs.slice(1);wn(vc,"on"+bc)}wn(_a,"onAnimationEnd"),wn(Ca,"onAnimationIteration"),wn(Ra,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Ta,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Fa(e,n,a){var f=e.type||"unknown-event";e.currentTarget=a,vu(f,n,void 0,e),e.currentTarget=null}function Ma(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var f=e[a],b=f.event;f=f.listeners;e:{var _=void 0;if(n)for(var O=f.length-1;0<=O;O--){var Y=f[O],Z=Y.instance,de=Y.currentTarget;if(Y=Y.listener,Z!==_&&b.isPropagationStopped())break e;Fa(b,Y,de),_=Z}else for(O=0;O<f.length;O++){if(Y=f[O],Z=Y.instance,de=Y.currentTarget,Y=Y.listener,Z!==_&&b.isPropagationStopped())break e;Fa(b,Y,de),_=Z}}}if(mn)throw e=is,mn=!1,is=null,e}function Ye(e,n){var a=n[Ls];a===void 0&&(a=n[Ls]=new Set);var f=e+"__bubble";a.has(f)||(Ia(n,e,2,!1),a.add(f))}function Rs(e,n,a){var f=0;n&&(f|=4),Ia(a,e,f,n)}var mi="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[mi]){e[mi]=!0,o.forEach(function(a){a!=="selectionchange"&&(wc.has(a)||Rs(a,!1,e),Rs(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mi]||(n[mi]=!0,Rs("selectionchange",!1,n))}}function Ia(e,n,a,f){switch(ra(n)){case 1:var b=Lu;break;case 4:b=Du;break;default:b=ds}a=b.bind(null,n,a,e),b=void 0,!Nn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(b=!0),f?b!==void 0?e.addEventListener(n,a,{capture:!0,passive:b}):e.addEventListener(n,a,!0):b!==void 0?e.addEventListener(n,a,{passive:b}):e.addEventListener(n,a,!1)}function Ts(e,n,a,f,b){var _=f;if((n&1)===0&&(n&2)===0&&f!==null)e:for(;;){if(f===null)return;var O=f.tag;if(O===3||O===4){var Y=f.stateNode.containerInfo;if(Y===b||Y.nodeType===8&&Y.parentNode===b)break;if(O===4)for(O=f.return;O!==null;){var Z=O.tag;if((Z===3||Z===4)&&(Z=O.stateNode.containerInfo,Z===b||Z.nodeType===8&&Z.parentNode===b))return;O=O.return}for(;Y!==null;){if(O=Bn(Y),O===null)return;if(Z=O.tag,Z===5||Z===6){f=_=O;continue e}Y=Y.parentNode}}f=f.return}Dn(function(){var de=_,be=qe(a),we=[];e:{var ve=Pa.get(e);if(ve!==void 0){var Ce=fs,je=e;switch(e){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":Ce=Qu;break;case"focusin":je="focus",Ce=xs;break;case"focusout":je="blur",Ce=xs;break;case"beforeblur":case"afterblur":Ce=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=ec;break;case _a:case Ca:case Ra:Ce=Vu;break;case Ta:Ce=nc;break;case"scroll":Ce=Nu;break;case"wheel":Ce=ic;break;case"copy":case"cut":case"paste":Ce=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=la}var Fe=(n&4)!==0,it=!Fe&&e==="scroll",oe=Fe?ve!==null?ve+"Capture":null:ve;Fe=[];for(var ee=de,le;ee!==null;){le=ee;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,oe!==null&&(ke=Kt(ee,oe),ke!=null&&Fe.push(Dr(ee,ke,le)))),it)break;ee=ee.return}0<Fe.length&&(ve=new Ce(ve,je,null,a,be),we.push({event:ve,listeners:Fe}))}}if((n&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",Ce=e==="mouseout"||e==="pointerout",ve&&a!==Ve&&(je=a.relatedTarget||a.fromElement)&&(Bn(je)||je[on]))break e;if((Ce||ve)&&(ve=be.window===be?be:(ve=be.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ce?(je=a.relatedTarget||a.toElement,Ce=de,je=je?Bn(je):null,je!==null&&(it=zn(je),je!==it||je.tag!==5&&je.tag!==6)&&(je=null)):(Ce=null,je=de),Ce!==je)){if(Fe=oa,ke="onMouseLeave",oe="onMouseEnter",ee="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=la,ke="onPointerLeave",oe="onPointerEnter",ee="pointer"),it=Ce==null?ve:sr(Ce),le=je==null?ve:sr(je),ve=new Fe(ke,ee+"leave",Ce,a,be),ve.target=it,ve.relatedTarget=le,ke=null,Bn(be)===de&&(Fe=new Fe(oe,ee+"enter",je,a,be),Fe.target=le,Fe.relatedTarget=it,ke=Fe),it=ke,Ce&&je)t:{for(Fe=Ce,oe=je,ee=0,le=Fe;le;le=rr(le))ee++;for(le=0,ke=oe;ke;ke=rr(ke))le++;for(;0<ee-le;)Fe=rr(Fe),ee--;for(;0<le-ee;)oe=rr(oe),le--;for(;ee--;){if(Fe===oe||oe!==null&&Fe===oe.alternate)break t;Fe=rr(Fe),oe=rr(oe)}Fe=null}else Fe=null;Ce!==null&&La(we,ve,Ce,Fe,!1),je!==null&&it!==null&&La(we,it,je,Fe,!0)}}e:{if(ve=de?sr(de):window,Ce=ve.nodeName&&ve.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ve.type==="file")var Me=dc;else if(fa(ve))if(ga)Me=mc;else{Me=pc;var Le=hc}else(Ce=ve.nodeName)&&Ce.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Me=fc);if(Me&&(Me=Me(e,de))){ma(we,Me,a,be);break e}Le&&Le(e,ve,de),e==="focusout"&&(Le=ve._wrapperState)&&Le.controlled&&ve.type==="number"&&ye(ve,"number",ve.value)}switch(Le=de?sr(de):window,e){case"focusin":(fa(Le)||Le.contentEditable==="true")&&(tr=Le,Ss=de,Mr=null);break;case"focusout":Mr=Ss=tr=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,ka(we,a,be);break;case"selectionchange":if(yc)break;case"keydown":case"keyup":ka(we,a,be)}var De;if(vs)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else er?ha(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(ua&&a.locale!=="ko"&&(er||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&er&&(De=ia()):(bn=be,ps="value"in bn?bn.value:bn.textContent,er=!0)),Le=gi(de,Oe),0<Le.length&&(Oe=new aa(Oe,e,null,a,be),we.push({event:Oe,listeners:Le}),De?Oe.data=De:(De=pa(a),De!==null&&(Oe.data=De)))),(De=oc?ac(e,a):lc(e,a))&&(de=gi(de,"onBeforeInput"),0<de.length&&(be=new aa("onBeforeInput","beforeinput",null,a,be),we.push({event:be,listeners:de}),be.data=De))}Ma(we,n)})}function Dr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function gi(e,n){for(var a=n+"Capture",f=[];e!==null;){var b=e,_=b.stateNode;b.tag===5&&_!==null&&(b=_,_=Kt(e,a),_!=null&&f.unshift(Dr(e,_,b)),_=Kt(e,n),_!=null&&f.push(Dr(e,_,b))),e=e.return}return f}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function La(e,n,a,f,b){for(var _=n._reactName,O=[];a!==null&&a!==f;){var Y=a,Z=Y.alternate,de=Y.stateNode;if(Z!==null&&Z===f)break;Y.tag===5&&de!==null&&(Y=de,b?(Z=Kt(a,_),Z!=null&&O.unshift(Dr(a,Z,Y))):b||(Z=Kt(a,_),Z!=null&&O.push(Dr(a,Z,Y)))),a=a.return}O.length!==0&&e.push({event:n,listeners:O})}var Ec=/\r\n?/g,Sc=/\u0000|\uFFFD/g;function Da(e){return(typeof e=="string"?e:""+e).replace(Ec,`
`).replace(Sc,"")}function xi(e,n,a){if(n=Da(n),Da(e)!==n&&a)throw Error(s(425))}function yi(){}var Ps=null,js=null;function Fs(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ms=typeof setTimeout=="function"?setTimeout:void 0,kc=typeof clearTimeout=="function"?clearTimeout:void 0,Na=typeof Promise=="function"?Promise:void 0,Ac=typeof queueMicrotask=="function"?queueMicrotask:typeof Na<"u"?function(e){return Na.resolve(null).then(e).catch(_c)}:Ms;function _c(e){setTimeout(function(){throw e})}function Is(e,n){var a=n,f=0;do{var b=a.nextSibling;if(e.removeChild(a),b&&b.nodeType===8)if(a=b.data,a==="/$"){if(f===0){e.removeChild(b),_r(n);return}f--}else a!=="$"&&a!=="$?"&&a!=="$!"||f++;a=b}while(a);_r(n)}function En(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Oa(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ir,Nr="__reactProps$"+ir,on="__reactContainer$"+ir,Ls="__reactEvents$"+ir,Cc="__reactListeners$"+ir,Rc="__reactHandles$"+ir;function Bn(e){var n=e[Zt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[on]||a[Zt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Oa(e);e!==null;){if(a=e[Zt])return a;e=Oa(e)}return n}e=a,a=e.parentNode}return null}function Or(e){return e=e[Zt]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function vi(e){return e[Nr]||null}var Ds=[],or=-1;function Sn(e){return{current:e}}function Ke(e){0>or||(e.current=Ds[or],Ds[or]=null,or--)}function Xe(e,n){or++,Ds[or]=e.current,e.current=n}var kn={},gt=Sn(kn),St=Sn(!1),Un=kn;function ar(e,n){var a=e.type.contextTypes;if(!a)return kn;var f=e.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===n)return f.__reactInternalMemoizedMaskedChildContext;var b={},_;for(_ in a)b[_]=n[_];return f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=b),b}function kt(e){return e=e.childContextTypes,e!=null}function bi(){Ke(St),Ke(gt)}function za(e,n,a){if(gt.current!==kn)throw Error(s(168));Xe(gt,n),Xe(St,a)}function Ba(e,n,a){var f=e.stateNode;if(n=n.childContextTypes,typeof f.getChildContext!="function")return a;f=f.getChildContext();for(var b in f)if(!(b in n))throw Error(s(108,M(e)||"Unknown",b));return v({},a,f)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Un=gt.current,Xe(gt,e),Xe(St,St.current),!0}function Ua(e,n,a){var f=e.stateNode;if(!f)throw Error(s(169));a?(e=Ba(e,n,Un),f.__reactInternalMemoizedMergedChildContext=e,Ke(St),Ke(gt),Xe(gt,e)):Ke(St),Xe(St,a)}var an=null,Ei=!1,Ns=!1;function Va(e){an===null?an=[e]:an.push(e)}function Tc(e){Ei=!0,Va(e)}function An(){if(!Ns&&an!==null){Ns=!0;var e=0,n=Ge;try{var a=an;for(Ge=1;e<a.length;e++){var f=a[e];do f=f(!0);while(f!==null)}an=null,Ei=!1}catch(b){throw an!==null&&(an=an.slice(e+1)),$o(ss,An),b}finally{Ge=n,Ns=!1}}return null}var lr=[],ur=0,Si=null,ki=0,Lt=[],Dt=0,Vn=null,ln=1,un="";function Hn(e,n){lr[ur++]=ki,lr[ur++]=Si,Si=e,ki=n}function Ha(e,n,a){Lt[Dt++]=ln,Lt[Dt++]=un,Lt[Dt++]=Vn,Vn=e;var f=ln;e=un;var b=32-Vt(f)-1;f&=~(1<<b),a+=1;var _=32-Vt(n)+b;if(30<_){var O=b-b%5;_=(f&(1<<O)-1).toString(32),f>>=O,b-=O,ln=1<<32-Vt(n)+b|a<<b|f,un=_+e}else ln=1<<_|a<<b|f,un=e}function Os(e){e.return!==null&&(Hn(e,1),Ha(e,1,0))}function zs(e){for(;e===Si;)Si=lr[--ur],lr[ur]=null,ki=lr[--ur],lr[ur]=null;for(;e===Vn;)Vn=Lt[--Dt],Lt[Dt]=null,un=Lt[--Dt],Lt[Dt]=null,ln=Lt[--Dt],Lt[Dt]=null}var Ft=null,Mt=null,Qe=!1,$t=null;function $a(e,n){var a=Bt(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function Wa(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ft=e,Mt=En(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ft=e,Mt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Vn!==null?{id:ln,overflow:un}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Bt(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,Ft=e,Mt=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(Qe){var n=Mt;if(n){var a=n;if(!Wa(e,n)){if(Bs(e))throw Error(s(418));n=En(a.nextSibling);var f=Ft;n&&Wa(e,n)?$a(f,a):(e.flags=e.flags&-4097|2,Qe=!1,Ft=e)}}else{if(Bs(e))throw Error(s(418));e.flags=e.flags&-4097|2,Qe=!1,Ft=e}}}function qa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function Ai(e){if(e!==Ft)return!1;if(!Qe)return qa(e),Qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Fs(e.type,e.memoizedProps)),n&&(n=Mt)){if(Bs(e))throw Ga(),Error(s(418));for(;n;)$a(e,n),n=En(n.nextSibling)}if(qa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){Mt=En(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}Mt=null}}else Mt=Ft?En(e.stateNode.nextSibling):null;return!0}function Ga(){for(var e=Mt;e;)e=En(e.nextSibling)}function cr(){Mt=Ft=null,Qe=!1}function Vs(e){$t===null?$t=[e]:$t.push(e)}var Pc=z.ReactCurrentBatchConfig;function zr(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var f=a.stateNode}if(!f)throw Error(s(147,e));var b=f,_=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===_?n.ref:(n=function(O){var Y=b.refs;O===null?delete Y[_]:Y[_]=O},n._stringRef=_,n)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function _i(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Xa(e){var n=e._init;return n(e._payload)}function Ya(e){function n(oe,ee){if(e){var le=oe.deletions;le===null?(oe.deletions=[ee],oe.flags|=16):le.push(ee)}}function a(oe,ee){if(!e)return null;for(;ee!==null;)n(oe,ee),ee=ee.sibling;return null}function f(oe,ee){for(oe=new Map;ee!==null;)ee.key!==null?oe.set(ee.key,ee):oe.set(ee.index,ee),ee=ee.sibling;return oe}function b(oe,ee){return oe=Mn(oe,ee),oe.index=0,oe.sibling=null,oe}function _(oe,ee,le){return oe.index=le,e?(le=oe.alternate,le!==null?(le=le.index,le<ee?(oe.flags|=2,ee):le):(oe.flags|=2,ee)):(oe.flags|=1048576,ee)}function O(oe){return e&&oe.alternate===null&&(oe.flags|=2),oe}function Y(oe,ee,le,ke){return ee===null||ee.tag!==6?(ee=Io(le,oe.mode,ke),ee.return=oe,ee):(ee=b(ee,le),ee.return=oe,ee)}function Z(oe,ee,le,ke){var Me=le.type;return Me===V?be(oe,ee,le.props.children,ke,le.key):ee!==null&&(ee.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ae&&Xa(Me)===ee.type)?(ke=b(ee,le.props),ke.ref=zr(oe,ee,le),ke.return=oe,ke):(ke=Ki(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=zr(oe,ee,le),ke.return=oe,ke)}function de(oe,ee,le,ke){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=Lo(le,oe.mode,ke),ee.return=oe,ee):(ee=b(ee,le.children||[]),ee.return=oe,ee)}function be(oe,ee,le,ke,Me){return ee===null||ee.tag!==7?(ee=Qn(le,oe.mode,ke,Me),ee.return=oe,ee):(ee=b(ee,le),ee.return=oe,ee)}function we(oe,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Io(""+ee,oe.mode,le),ee.return=oe,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case j:return le=Ki(ee.type,ee.key,ee.props,null,oe.mode,le),le.ref=zr(oe,null,ee),le.return=oe,le;case F:return ee=Lo(ee,oe.mode,le),ee.return=oe,ee;case ae:var ke=ee._init;return we(oe,ke(ee._payload),le)}if(_e(ee)||T(ee))return ee=Qn(ee,oe.mode,le,null),ee.return=oe,ee;_i(oe,ee)}return null}function ve(oe,ee,le,ke){var Me=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Me!==null?null:Y(oe,ee,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return le.key===Me?Z(oe,ee,le,ke):null;case F:return le.key===Me?de(oe,ee,le,ke):null;case ae:return Me=le._init,ve(oe,ee,Me(le._payload),ke)}if(_e(le)||T(le))return Me!==null?null:be(oe,ee,le,ke,null);_i(oe,le)}return null}function Ce(oe,ee,le,ke,Me){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return oe=oe.get(le)||null,Y(ee,oe,""+ke,Me);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case j:return oe=oe.get(ke.key===null?le:ke.key)||null,Z(ee,oe,ke,Me);case F:return oe=oe.get(ke.key===null?le:ke.key)||null,de(ee,oe,ke,Me);case ae:var Le=ke._init;return Ce(oe,ee,le,Le(ke._payload),Me)}if(_e(ke)||T(ke))return oe=oe.get(le)||null,be(ee,oe,ke,Me,null);_i(ee,ke)}return null}function je(oe,ee,le,ke){for(var Me=null,Le=null,De=ee,Oe=ee=0,ht=null;De!==null&&Oe<le.length;Oe++){De.index>Oe?(ht=De,De=null):ht=De.sibling;var We=ve(oe,De,le[Oe],ke);if(We===null){De===null&&(De=ht);break}e&&De&&We.alternate===null&&n(oe,De),ee=_(We,ee,Oe),Le===null?Me=We:Le.sibling=We,Le=We,De=ht}if(Oe===le.length)return a(oe,De),Qe&&Hn(oe,Oe),Me;if(De===null){for(;Oe<le.length;Oe++)De=we(oe,le[Oe],ke),De!==null&&(ee=_(De,ee,Oe),Le===null?Me=De:Le.sibling=De,Le=De);return Qe&&Hn(oe,Oe),Me}for(De=f(oe,De);Oe<le.length;Oe++)ht=Ce(De,oe,Oe,le[Oe],ke),ht!==null&&(e&&ht.alternate!==null&&De.delete(ht.key===null?Oe:ht.key),ee=_(ht,ee,Oe),Le===null?Me=ht:Le.sibling=ht,Le=ht);return e&&De.forEach(function(In){return n(oe,In)}),Qe&&Hn(oe,Oe),Me}function Fe(oe,ee,le,ke){var Me=T(le);if(typeof Me!="function")throw Error(s(150));if(le=Me.call(le),le==null)throw Error(s(151));for(var Le=Me=null,De=ee,Oe=ee=0,ht=null,We=le.next();De!==null&&!We.done;Oe++,We=le.next()){De.index>Oe?(ht=De,De=null):ht=De.sibling;var In=ve(oe,De,We.value,ke);if(In===null){De===null&&(De=ht);break}e&&De&&In.alternate===null&&n(oe,De),ee=_(In,ee,Oe),Le===null?Me=In:Le.sibling=In,Le=In,De=ht}if(We.done)return a(oe,De),Qe&&Hn(oe,Oe),Me;if(De===null){for(;!We.done;Oe++,We=le.next())We=we(oe,We.value,ke),We!==null&&(ee=_(We,ee,Oe),Le===null?Me=We:Le.sibling=We,Le=We);return Qe&&Hn(oe,Oe),Me}for(De=f(oe,De);!We.done;Oe++,We=le.next())We=Ce(De,oe,Oe,We.value,ke),We!==null&&(e&&We.alternate!==null&&De.delete(We.key===null?Oe:We.key),ee=_(We,ee,Oe),Le===null?Me=We:Le.sibling=We,Le=We);return e&&De.forEach(function(ud){return n(oe,ud)}),Qe&&Hn(oe,Oe),Me}function it(oe,ee,le,ke){if(typeof le=="object"&&le!==null&&le.type===V&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case j:e:{for(var Me=le.key,Le=ee;Le!==null;){if(Le.key===Me){if(Me=le.type,Me===V){if(Le.tag===7){a(oe,Le.sibling),ee=b(Le,le.props.children),ee.return=oe,oe=ee;break e}}else if(Le.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ae&&Xa(Me)===Le.type){a(oe,Le.sibling),ee=b(Le,le.props),ee.ref=zr(oe,Le,le),ee.return=oe,oe=ee;break e}a(oe,Le);break}else n(oe,Le);Le=Le.sibling}le.type===V?(ee=Qn(le.props.children,oe.mode,ke,le.key),ee.return=oe,oe=ee):(ke=Ki(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=zr(oe,ee,le),ke.return=oe,oe=ke)}return O(oe);case F:e:{for(Le=le.key;ee!==null;){if(ee.key===Le)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){a(oe,ee.sibling),ee=b(ee,le.children||[]),ee.return=oe,oe=ee;break e}else{a(oe,ee);break}else n(oe,ee);ee=ee.sibling}ee=Lo(le,oe.mode,ke),ee.return=oe,oe=ee}return O(oe);case ae:return Le=le._init,it(oe,ee,Le(le._payload),ke)}if(_e(le))return je(oe,ee,le,ke);if(T(le))return Fe(oe,ee,le,ke);_i(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,ee!==null&&ee.tag===6?(a(oe,ee.sibling),ee=b(ee,le),ee.return=oe,oe=ee):(a(oe,ee),ee=Io(le,oe.mode,ke),ee.return=oe,oe=ee),O(oe)):a(oe,ee)}return it}var dr=Ya(!0),Ka=Ya(!1),Ci=Sn(null),Ri=null,hr=null,Hs=null;function $s(){Hs=hr=Ri=null}function Ws(e){var n=Ci.current;Ke(Ci),e._currentValue=n}function qs(e,n,a){for(;e!==null;){var f=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,f!==null&&(f.childLanes|=n)):f!==null&&(f.childLanes&n)!==n&&(f.childLanes|=n),e===a)break;e=e.return}}function pr(e,n){Ri=e,Hs=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(At=!0),e.firstContext=null)}function Nt(e){var n=e._currentValue;if(Hs!==e)if(e={context:e,memoizedValue:n,next:null},hr===null){if(Ri===null)throw Error(s(308));hr=e,Ri.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return n}var $n=null;function Gs(e){$n===null?$n=[e]:$n.push(e)}function Qa(e,n,a,f){var b=n.interleaved;return b===null?(a.next=a,Gs(n)):(a.next=b.next,b.next=a),n.interleaved=a,dn(e,f)}function dn(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var _n=!1;function Xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ja(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Cn(e,n,a){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(He&2)!==0){var b=f.pending;return b===null?n.next=n:(n.next=b.next,b.next=n),f.pending=n,dn(e,a)}return b=f.interleaved,b===null?(n.next=n,Gs(f)):(n.next=b.next,b.next=n),f.interleaved=n,dn(e,a)}function Ti(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var f=n.lanes;f&=e.pendingLanes,a|=f,n.lanes=a,ls(e,a)}}function Za(e,n){var a=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var b=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var O={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};_===null?b=_=O:_=_.next=O,a=a.next}while(a!==null);_===null?b=_=n:_=_.next=n}else b=_=n;a={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:f.shared,effects:f.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function Pi(e,n,a,f){var b=e.updateQueue;_n=!1;var _=b.firstBaseUpdate,O=b.lastBaseUpdate,Y=b.shared.pending;if(Y!==null){b.shared.pending=null;var Z=Y,de=Z.next;Z.next=null,O===null?_=de:O.next=de,O=Z;var be=e.alternate;be!==null&&(be=be.updateQueue,Y=be.lastBaseUpdate,Y!==O&&(Y===null?be.firstBaseUpdate=de:Y.next=de,be.lastBaseUpdate=Z))}if(_!==null){var we=b.baseState;O=0,be=de=Z=null,Y=_;do{var ve=Y.lane,Ce=Y.eventTime;if((f&ve)===ve){be!==null&&(be=be.next={eventTime:Ce,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var je=e,Fe=Y;switch(ve=n,Ce=a,Fe.tag){case 1:if(je=Fe.payload,typeof je=="function"){we=je.call(Ce,we,ve);break e}we=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Fe.payload,ve=typeof je=="function"?je.call(Ce,we,ve):je,ve==null)break e;we=v({},we,ve);break e;case 2:_n=!0}}Y.callback!==null&&Y.lane!==0&&(e.flags|=64,ve=b.effects,ve===null?b.effects=[Y]:ve.push(Y))}else Ce={eventTime:Ce,lane:ve,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},be===null?(de=be=Ce,Z=we):be=be.next=Ce,O|=ve;if(Y=Y.next,Y===null){if(Y=b.shared.pending,Y===null)break;ve=Y,Y=ve.next,ve.next=null,b.lastBaseUpdate=ve,b.shared.pending=null}}while(!0);if(be===null&&(Z=we),b.baseState=Z,b.firstBaseUpdate=de,b.lastBaseUpdate=be,n=b.shared.interleaved,n!==null){b=n;do O|=b.lane,b=b.next;while(b!==n)}else _===null&&(b.shared.lanes=0);Gn|=O,e.lanes=O,e.memoizedState=we}}function el(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var f=e[n],b=f.callback;if(b!==null){if(f.callback=null,f=a,typeof b!="function")throw Error(s(191,b));b.call(f)}}}var Br={},en=Sn(Br),Ur=Sn(Br),Vr=Sn(Br);function Wn(e){if(e===Br)throw Error(s(174));return e}function Ys(e,n){switch(Xe(Vr,n),Xe(Ur,e),Xe(en,Br),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:pe(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=pe(n,e)}Ke(en),Xe(en,n)}function fr(){Ke(en),Ke(Ur),Ke(Vr)}function tl(e){Wn(Vr.current);var n=Wn(en.current),a=pe(n,e.type);n!==a&&(Xe(Ur,e),Xe(en,a))}function Ks(e){Ur.current===e&&(Ke(en),Ke(Ur))}var Je=Sn(0);function ji(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qs=[];function Js(){for(var e=0;e<Qs.length;e++)Qs[e]._workInProgressVersionPrimary=null;Qs.length=0}var Fi=z.ReactCurrentDispatcher,Zs=z.ReactCurrentBatchConfig,qn=0,Ze=null,at=null,ct=null,Mi=!1,Hr=!1,$r=0,jc=0;function xt(){throw Error(s(321))}function eo(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ht(e[a],n[a]))return!1;return!0}function to(e,n,a,f,b,_){if(qn=_,Ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Fi.current=e===null||e.memoizedState===null?Lc:Dc,e=a(f,b),Hr){_=0;do{if(Hr=!1,$r=0,25<=_)throw Error(s(301));_+=1,ct=at=null,n.updateQueue=null,Fi.current=Nc,e=a(f,b)}while(Hr)}if(Fi.current=Di,n=at!==null&&at.next!==null,qn=0,ct=at=Ze=null,Mi=!1,n)throw Error(s(300));return e}function no(){var e=$r!==0;return $r=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ze.memoizedState=ct=e:ct=ct.next=e,ct}function Ot(){if(at===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=ct===null?Ze.memoizedState:ct.next;if(n!==null)ct=n,at=e;else{if(e===null)throw Error(s(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Ze.memoizedState=ct=e:ct=ct.next=e}return ct}function Wr(e,n){return typeof n=="function"?n(e):n}function ro(e){var n=Ot(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var f=at,b=f.baseQueue,_=a.pending;if(_!==null){if(b!==null){var O=b.next;b.next=_.next,_.next=O}f.baseQueue=b=_,a.pending=null}if(b!==null){_=b.next,f=f.baseState;var Y=O=null,Z=null,de=_;do{var be=de.lane;if((qn&be)===be)Z!==null&&(Z=Z.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),f=de.hasEagerState?de.eagerState:e(f,de.action);else{var we={lane:be,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Z===null?(Y=Z=we,O=f):Z=Z.next=we,Ze.lanes|=be,Gn|=be}de=de.next}while(de!==null&&de!==_);Z===null?O=f:Z.next=Y,Ht(f,n.memoizedState)||(At=!0),n.memoizedState=f,n.baseState=O,n.baseQueue=Z,a.lastRenderedState=f}if(e=a.interleaved,e!==null){b=e;do _=b.lane,Ze.lanes|=_,Gn|=_,b=b.next;while(b!==e)}else b===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function io(e){var n=Ot(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var f=a.dispatch,b=a.pending,_=n.memoizedState;if(b!==null){a.pending=null;var O=b=b.next;do _=e(_,O.action),O=O.next;while(O!==b);Ht(_,n.memoizedState)||(At=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),a.lastRenderedState=_}return[_,f]}function nl(){}function rl(e,n){var a=Ze,f=Ot(),b=n(),_=!Ht(f.memoizedState,b);if(_&&(f.memoizedState=b,At=!0),f=f.queue,so(ol.bind(null,a,f,e),[e]),f.getSnapshot!==n||_||ct!==null&&ct.memoizedState.tag&1){if(a.flags|=2048,qr(9,sl.bind(null,a,f,b,n),void 0,null),dt===null)throw Error(s(349));(qn&30)!==0||il(a,n,b)}return b}function il(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function sl(e,n,a,f){n.value=a,n.getSnapshot=f,al(n)&&ll(e)}function ol(e,n,a){return a(function(){al(n)&&ll(e)})}function al(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ht(e,a)}catch{return!0}}function ll(e){var n=dn(e,1);n!==null&&Xt(n,e,1,-1)}function ul(e){var n=tn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},n.queue=e,e=e.dispatch=Ic.bind(null,Ze,e),[n.memoizedState,e]}function qr(e,n,a,f){return e={tag:e,create:n,destroy:a,deps:f,next:null},n=Ze.updateQueue,n===null?(n={lastEffect:null,stores:null},Ze.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(f=a.next,a.next=e,e.next=f,n.lastEffect=e)),e}function cl(){return Ot().memoizedState}function Ii(e,n,a,f){var b=tn();Ze.flags|=e,b.memoizedState=qr(1|n,a,void 0,f===void 0?null:f)}function Li(e,n,a,f){var b=Ot();f=f===void 0?null:f;var _=void 0;if(at!==null){var O=at.memoizedState;if(_=O.destroy,f!==null&&eo(f,O.deps)){b.memoizedState=qr(n,a,_,f);return}}Ze.flags|=e,b.memoizedState=qr(1|n,a,_,f)}function dl(e,n){return Ii(8390656,8,e,n)}function so(e,n){return Li(2048,8,e,n)}function hl(e,n){return Li(4,2,e,n)}function pl(e,n){return Li(4,4,e,n)}function fl(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ml(e,n,a){return a=a!=null?a.concat([e]):null,Li(4,4,fl.bind(null,n,e),a)}function oo(){}function gl(e,n){var a=Ot();n=n===void 0?null:n;var f=a.memoizedState;return f!==null&&n!==null&&eo(n,f[1])?f[0]:(a.memoizedState=[e,n],e)}function xl(e,n){var a=Ot();n=n===void 0?null:n;var f=a.memoizedState;return f!==null&&n!==null&&eo(n,f[1])?f[0]:(e=e(),a.memoizedState=[e,n],e)}function yl(e,n,a){return(qn&21)===0?(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=a):(Ht(a,n)||(a=Xo(),Ze.lanes|=a,Gn|=a,e.baseState=!0),n)}function Fc(e,n){var a=Ge;Ge=a!==0&&4>a?a:4,e(!0);var f=Zs.transition;Zs.transition={};try{e(!1),n()}finally{Ge=a,Zs.transition=f}}function vl(){return Ot().memoizedState}function Mc(e,n,a){var f=jn(e);if(a={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null},bl(e))wl(n,a);else if(a=Qa(e,n,a,f),a!==null){var b=Et();Xt(a,e,f,b),El(a,n,f)}}function Ic(e,n,a){var f=jn(e),b={lane:f,action:a,hasEagerState:!1,eagerState:null,next:null};if(bl(e))wl(n,b);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var O=n.lastRenderedState,Y=_(O,a);if(b.hasEagerState=!0,b.eagerState=Y,Ht(Y,O)){var Z=n.interleaved;Z===null?(b.next=b,Gs(n)):(b.next=Z.next,Z.next=b),n.interleaved=b;return}}catch{}finally{}a=Qa(e,n,b,f),a!==null&&(b=Et(),Xt(a,e,f,b),El(a,n,f))}}function bl(e){var n=e.alternate;return e===Ze||n!==null&&n===Ze}function wl(e,n){Hr=Mi=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function El(e,n,a){if((a&4194240)!==0){var f=n.lanes;f&=e.pendingLanes,a|=f,n.lanes=a,ls(e,a)}}var Di={readContext:Nt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Lc={readContext:Nt,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Nt,useEffect:dl,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,Ii(4194308,4,fl.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ii(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ii(4,2,e,n)},useMemo:function(e,n){var a=tn();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var f=tn();return n=a!==void 0?a(n):n,f.memoizedState=f.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},f.queue=e,e=e.dispatch=Mc.bind(null,Ze,e),[f.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:ul,useDebugValue:oo,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=ul(!1),n=e[0];return e=Fc.bind(null,e[1]),tn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var f=Ze,b=tn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),dt===null)throw Error(s(349));(qn&30)!==0||il(f,n,a)}b.memoizedState=a;var _={value:a,getSnapshot:n};return b.queue=_,dl(ol.bind(null,f,_,e),[e]),f.flags|=2048,qr(9,sl.bind(null,f,_,a,n),void 0,null),a},useId:function(){var e=tn(),n=dt.identifierPrefix;if(Qe){var a=un,f=ln;a=(f&~(1<<32-Vt(f)-1)).toString(32)+a,n=":"+n+"R"+a,a=$r++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=jc++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Dc={readContext:Nt,useCallback:gl,useContext:Nt,useEffect:so,useImperativeHandle:ml,useInsertionEffect:hl,useLayoutEffect:pl,useMemo:xl,useReducer:ro,useRef:cl,useState:function(){return ro(Wr)},useDebugValue:oo,useDeferredValue:function(e){var n=Ot();return yl(n,at.memoizedState,e)},useTransition:function(){var e=ro(Wr)[0],n=Ot().memoizedState;return[e,n]},useMutableSource:nl,useSyncExternalStore:rl,useId:vl,unstable_isNewReconciler:!1},Nc={readContext:Nt,useCallback:gl,useContext:Nt,useEffect:so,useImperativeHandle:ml,useInsertionEffect:hl,useLayoutEffect:pl,useMemo:xl,useReducer:io,useRef:cl,useState:function(){return io(Wr)},useDebugValue:oo,useDeferredValue:function(e){var n=Ot();return at===null?n.memoizedState=e:yl(n,at.memoizedState,e)},useTransition:function(){var e=io(Wr)[0],n=Ot().memoizedState;return[e,n]},useMutableSource:nl,useSyncExternalStore:rl,useId:vl,unstable_isNewReconciler:!1};function Wt(e,n){if(e&&e.defaultProps){n=v({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function ao(e,n,a,f){n=e.memoizedState,a=a(f,n),a=a==null?n:v({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ni={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var f=Et(),b=jn(e),_=hn(f,b);_.payload=n,a!=null&&(_.callback=a),n=Cn(e,_,b),n!==null&&(Xt(n,e,b,f),Ti(n,e,b))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var f=Et(),b=jn(e),_=hn(f,b);_.tag=1,_.payload=n,a!=null&&(_.callback=a),n=Cn(e,_,b),n!==null&&(Xt(n,e,b,f),Ti(n,e,b))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Et(),f=jn(e),b=hn(a,f);b.tag=2,n!=null&&(b.callback=n),n=Cn(e,b,f),n!==null&&(Xt(n,e,f,a),Ti(n,e,f))}};function Sl(e,n,a,f,b,_,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,_,O):n.prototype&&n.prototype.isPureReactComponent?!Fr(a,f)||!Fr(b,_):!0}function kl(e,n,a){var f=!1,b=kn,_=n.contextType;return typeof _=="object"&&_!==null?_=Nt(_):(b=kt(n)?Un:gt.current,f=n.contextTypes,_=(f=f!=null)?ar(e,b):kn),n=new n(a,_),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ni,e.stateNode=n,n._reactInternals=e,f&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=b,e.__reactInternalMemoizedMaskedChildContext=_),n}function Al(e,n,a,f){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,f),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,f),n.state!==e&&Ni.enqueueReplaceState(n,n.state,null)}function lo(e,n,a,f){var b=e.stateNode;b.props=a,b.state=e.memoizedState,b.refs={},Xs(e);var _=n.contextType;typeof _=="object"&&_!==null?b.context=Nt(_):(_=kt(n)?Un:gt.current,b.context=ar(e,_)),b.state=e.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(ao(e,n,_,a),b.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(n=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),n!==b.state&&Ni.enqueueReplaceState(b,b.state,null),Pi(e,a,b,f),b.state=e.memoizedState),typeof b.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,n){try{var a="",f=n;do a+=B(f),f=f.return;while(f);var b=a}catch(_){b=`
Error generating stack: `+_.message+`
`+_.stack}return{value:e,source:n,stack:b,digest:null}}function uo(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function co(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Oc=typeof WeakMap=="function"?WeakMap:Map;function _l(e,n,a){a=hn(-1,a),a.tag=3,a.payload={element:null};var f=n.value;return a.callback=function(){$i||($i=!0,_o=f),co(e,n)},a}function Cl(e,n,a){a=hn(-1,a),a.tag=3;var f=e.type.getDerivedStateFromError;if(typeof f=="function"){var b=n.value;a.payload=function(){return f(b)},a.callback=function(){co(e,n)}}var _=e.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){co(e,n),typeof f!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var O=n.stack;this.componentDidCatch(n.value,{componentStack:O!==null?O:""})}),a}function Rl(e,n,a){var f=e.pingCache;if(f===null){f=e.pingCache=new Oc;var b=new Set;f.set(n,b)}else b=f.get(n),b===void 0&&(b=new Set,f.set(n,b));b.has(a)||(b.add(a),e=Jc.bind(null,e,n,a),n.then(e,e))}function Tl(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Pl(e,n,a,f,b){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=hn(-1,1),n.tag=2,Cn(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=b,e)}var zc=z.ReactCurrentOwner,At=!1;function wt(e,n,a,f){n.child=e===null?Ka(n,null,a,f):dr(n,e.child,a,f)}function jl(e,n,a,f,b){a=a.render;var _=n.ref;return pr(n,b),f=to(e,n,a,f,_,b),a=no(),e!==null&&!At?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,pn(e,n,b)):(Qe&&a&&Os(n),n.flags|=1,wt(e,n,f,b),n.child)}function Fl(e,n,a,f,b){if(e===null){var _=a.type;return typeof _=="function"&&!Mo(_)&&_.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=_,Ml(e,n,_,f,b)):(e=Ki(a.type,null,f,n,n.mode,b),e.ref=n.ref,e.return=n,n.child=e)}if(_=e.child,(e.lanes&b)===0){var O=_.memoizedProps;if(a=a.compare,a=a!==null?a:Fr,a(O,f)&&e.ref===n.ref)return pn(e,n,b)}return n.flags|=1,e=Mn(_,f),e.ref=n.ref,e.return=n,n.child=e}function Ml(e,n,a,f,b){if(e!==null){var _=e.memoizedProps;if(Fr(_,f)&&e.ref===n.ref)if(At=!1,n.pendingProps=f=_,(e.lanes&b)!==0)(e.flags&131072)!==0&&(At=!0);else return n.lanes=e.lanes,pn(e,n,b)}return ho(e,n,a,f,b)}function Il(e,n,a){var f=n.pendingProps,b=f.children,_=e!==null?e.memoizedState:null;if(f.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(xr,It),It|=a;else{if((a&1073741824)===0)return e=_!==null?_.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Xe(xr,It),It|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:a,Xe(xr,It),It|=f}else _!==null?(f=_.baseLanes|a,n.memoizedState=null):f=a,Xe(xr,It),It|=f;return wt(e,n,b,a),n.child}function Ll(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function ho(e,n,a,f,b){var _=kt(a)?Un:gt.current;return _=ar(n,_),pr(n,b),a=to(e,n,a,f,_,b),f=no(),e!==null&&!At?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,pn(e,n,b)):(Qe&&f&&Os(n),n.flags|=1,wt(e,n,a,b),n.child)}function Dl(e,n,a,f,b){if(kt(a)){var _=!0;wi(n)}else _=!1;if(pr(n,b),n.stateNode===null)zi(e,n),kl(n,a,f),lo(n,a,f,b),f=!0;else if(e===null){var O=n.stateNode,Y=n.memoizedProps;O.props=Y;var Z=O.context,de=a.contextType;typeof de=="object"&&de!==null?de=Nt(de):(de=kt(a)?Un:gt.current,de=ar(n,de));var be=a.getDerivedStateFromProps,we=typeof be=="function"||typeof O.getSnapshotBeforeUpdate=="function";we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y!==f||Z!==de)&&Al(n,O,f,de),_n=!1;var ve=n.memoizedState;O.state=ve,Pi(n,f,O,b),Z=n.memoizedState,Y!==f||ve!==Z||St.current||_n?(typeof be=="function"&&(ao(n,a,be,f),Z=n.memoizedState),(Y=_n||Sl(n,a,Y,f,ve,Z,de))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(n.flags|=4194308)):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=f,n.memoizedState=Z),O.props=f,O.state=Z,O.context=de,f=Y):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),f=!1)}else{O=n.stateNode,Ja(e,n),Y=n.memoizedProps,de=n.type===n.elementType?Y:Wt(n.type,Y),O.props=de,we=n.pendingProps,ve=O.context,Z=a.contextType,typeof Z=="object"&&Z!==null?Z=Nt(Z):(Z=kt(a)?Un:gt.current,Z=ar(n,Z));var Ce=a.getDerivedStateFromProps;(be=typeof Ce=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y!==we||ve!==Z)&&Al(n,O,f,Z),_n=!1,ve=n.memoizedState,O.state=ve,Pi(n,f,O,b);var je=n.memoizedState;Y!==we||ve!==je||St.current||_n?(typeof Ce=="function"&&(ao(n,a,Ce,f),je=n.memoizedState),(de=_n||Sl(n,a,de,f,ve,je,Z)||!1)?(be||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(f,je,Z),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(f,je,Z)),typeof O.componentDidUpdate=="function"&&(n.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof O.componentDidUpdate!="function"||Y===e.memoizedProps&&ve===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&ve===e.memoizedState||(n.flags|=1024),n.memoizedProps=f,n.memoizedState=je),O.props=f,O.state=je,O.context=Z,f=de):(typeof O.componentDidUpdate!="function"||Y===e.memoizedProps&&ve===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&ve===e.memoizedState||(n.flags|=1024),f=!1)}return po(e,n,a,f,_,b)}function po(e,n,a,f,b,_){Ll(e,n);var O=(n.flags&128)!==0;if(!f&&!O)return b&&Ua(n,a,!1),pn(e,n,_);f=n.stateNode,zc.current=n;var Y=O&&typeof a.getDerivedStateFromError!="function"?null:f.render();return n.flags|=1,e!==null&&O?(n.child=dr(n,e.child,null,_),n.child=dr(n,null,Y,_)):wt(e,n,Y,_),n.memoizedState=f.state,b&&Ua(n,a,!0),n.child}function Nl(e){var n=e.stateNode;n.pendingContext?za(e,n.pendingContext,n.pendingContext!==n.context):n.context&&za(e,n.context,!1),Ys(e,n.containerInfo)}function Ol(e,n,a,f,b){return cr(),Vs(b),n.flags|=256,wt(e,n,a,f),n.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zl(e,n,a){var f=n.pendingProps,b=Je.current,_=!1,O=(n.flags&128)!==0,Y;if((Y=O)||(Y=e!==null&&e.memoizedState===null?!1:(b&2)!==0),Y?(_=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(b|=1),Xe(Je,b&1),e===null)return Us(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(O=f.children,e=f.fallback,_?(f=n.mode,_=n.child,O={mode:"hidden",children:O},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=O):_=Qi(O,f,0,null),e=Qn(e,f,a,null),_.return=n,e.return=n,_.sibling=e,n.child=_,n.child.memoizedState=mo(a),n.memoizedState=fo,e):go(n,O));if(b=e.memoizedState,b!==null&&(Y=b.dehydrated,Y!==null))return Bc(e,n,O,f,Y,b,a);if(_){_=f.fallback,O=n.mode,b=e.child,Y=b.sibling;var Z={mode:"hidden",children:f.children};return(O&1)===0&&n.child!==b?(f=n.child,f.childLanes=0,f.pendingProps=Z,n.deletions=null):(f=Mn(b,Z),f.subtreeFlags=b.subtreeFlags&14680064),Y!==null?_=Mn(Y,_):(_=Qn(_,O,a,null),_.flags|=2),_.return=n,f.return=n,f.sibling=_,n.child=f,f=_,_=n.child,O=e.child.memoizedState,O=O===null?mo(a):{baseLanes:O.baseLanes|a,cachePool:null,transitions:O.transitions},_.memoizedState=O,_.childLanes=e.childLanes&~a,n.memoizedState=fo,f}return _=e.child,e=_.sibling,f=Mn(_,{mode:"visible",children:f.children}),(n.mode&1)===0&&(f.lanes=a),f.return=n,f.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=f,n.memoizedState=null,f}function go(e,n){return n=Qi({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Oi(e,n,a,f){return f!==null&&Vs(f),dr(n,e.child,null,a),e=go(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Bc(e,n,a,f,b,_,O){if(a)return n.flags&256?(n.flags&=-257,f=uo(Error(s(422))),Oi(e,n,O,f)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(_=f.fallback,b=n.mode,f=Qi({mode:"visible",children:f.children},b,0,null),_=Qn(_,b,O,null),_.flags|=2,f.return=n,_.return=n,f.sibling=_,n.child=f,(n.mode&1)!==0&&dr(n,e.child,null,O),n.child.memoizedState=mo(O),n.memoizedState=fo,_);if((n.mode&1)===0)return Oi(e,n,O,null);if(b.data==="$!"){if(f=b.nextSibling&&b.nextSibling.dataset,f)var Y=f.dgst;return f=Y,_=Error(s(419)),f=uo(_,f,void 0),Oi(e,n,O,f)}if(Y=(O&e.childLanes)!==0,At||Y){if(f=dt,f!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(f.suspendedLanes|O))!==0?0:b,b!==0&&b!==_.retryLane&&(_.retryLane=b,dn(e,b),Xt(f,e,b,-1))}return Fo(),f=uo(Error(s(421))),Oi(e,n,O,f)}return b.data==="$?"?(n.flags|=128,n.child=e.child,n=Zc.bind(null,e),b._reactRetry=n,null):(e=_.treeContext,Mt=En(b.nextSibling),Ft=n,Qe=!0,$t=null,e!==null&&(Lt[Dt++]=ln,Lt[Dt++]=un,Lt[Dt++]=Vn,ln=e.id,un=e.overflow,Vn=n),n=go(n,f.children),n.flags|=4096,n)}function Bl(e,n,a){e.lanes|=n;var f=e.alternate;f!==null&&(f.lanes|=n),qs(e.return,n,a)}function xo(e,n,a,f,b){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:b}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=a,_.tailMode=b)}function Ul(e,n,a){var f=n.pendingProps,b=f.revealOrder,_=f.tail;if(wt(e,n,f.children,a),f=Je.current,(f&2)!==0)f=f&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,a,n);else if(e.tag===19)Bl(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}f&=1}if(Xe(Je,f),(n.mode&1)===0)n.memoizedState=null;else switch(b){case"forwards":for(a=n.child,b=null;a!==null;)e=a.alternate,e!==null&&ji(e)===null&&(b=a),a=a.sibling;a=b,a===null?(b=n.child,n.child=null):(b=a.sibling,a.sibling=null),xo(n,!1,b,a,_);break;case"backwards":for(a=null,b=n.child,n.child=null;b!==null;){if(e=b.alternate,e!==null&&ji(e)===null){n.child=b;break}e=b.sibling,b.sibling=a,a=b,b=e}xo(n,!0,a,null,_);break;case"together":xo(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function pn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Gn|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Mn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Mn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Uc(e,n,a){switch(n.tag){case 3:Nl(n),cr();break;case 5:tl(n);break;case 1:kt(n.type)&&wi(n);break;case 4:Ys(n,n.stateNode.containerInfo);break;case 10:var f=n.type._context,b=n.memoizedProps.value;Xe(Ci,f._currentValue),f._currentValue=b;break;case 13:if(f=n.memoizedState,f!==null)return f.dehydrated!==null?(Xe(Je,Je.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?zl(e,n,a):(Xe(Je,Je.current&1),e=pn(e,n,a),e!==null?e.sibling:null);Xe(Je,Je.current&1);break;case 19:if(f=(a&n.childLanes)!==0,(e.flags&128)!==0){if(f)return Ul(e,n,a);n.flags|=128}if(b=n.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Xe(Je,Je.current),f)break;return null;case 22:case 23:return n.lanes=0,Il(e,n,a)}return pn(e,n,a)}var Vl,yo,Hl,$l;Vl=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},yo=function(){},Hl=function(e,n,a,f){var b=e.memoizedProps;if(b!==f){e=n.stateNode,Wn(en.current);var _=null;switch(a){case"input":b=Ae(e,b),f=Ae(e,f),_=[];break;case"select":b=v({},b,{value:void 0}),f=v({},f,{value:void 0}),_=[];break;case"textarea":b=Ie(e,b),f=Ie(e,f),_=[];break;default:typeof b.onClick!="function"&&typeof f.onClick=="function"&&(e.onclick=yi)}re(a,f);var O;a=null;for(de in b)if(!f.hasOwnProperty(de)&&b.hasOwnProperty(de)&&b[de]!=null)if(de==="style"){var Y=b[de];for(O in Y)Y.hasOwnProperty(O)&&(a||(a={}),a[O]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(l.hasOwnProperty(de)?_||(_=[]):(_=_||[]).push(de,null));for(de in f){var Z=f[de];if(Y=b?.[de],f.hasOwnProperty(de)&&Z!==Y&&(Z!=null||Y!=null))if(de==="style")if(Y){for(O in Y)!Y.hasOwnProperty(O)||Z&&Z.hasOwnProperty(O)||(a||(a={}),a[O]="");for(O in Z)Z.hasOwnProperty(O)&&Y[O]!==Z[O]&&(a||(a={}),a[O]=Z[O])}else a||(_||(_=[]),_.push(de,a)),a=Z;else de==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Y=Y?Y.__html:void 0,Z!=null&&Y!==Z&&(_=_||[]).push(de,Z)):de==="children"?typeof Z!="string"&&typeof Z!="number"||(_=_||[]).push(de,""+Z):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(l.hasOwnProperty(de)?(Z!=null&&de==="onScroll"&&Ye("scroll",e),_||Y===Z||(_=[])):(_=_||[]).push(de,Z))}a&&(_=_||[]).push("style",a);var de=_;(n.updateQueue=de)&&(n.flags|=4)}},$l=function(e,n,a,f){a!==f&&(n.flags|=4)};function Gr(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,f=0;if(n)for(var b=e.child;b!==null;)a|=b.lanes|b.childLanes,f|=b.subtreeFlags&14680064,f|=b.flags&14680064,b.return=e,b=b.sibling;else for(b=e.child;b!==null;)a|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=e,b=b.sibling;return e.subtreeFlags|=f,e.childLanes=a,n}function Vc(e,n,a){var f=n.pendingProps;switch(zs(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return kt(n.type)&&bi(),yt(n),null;case 3:return f=n.stateNode,fr(),Ke(St),Ke(gt),Js(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(e===null||e.child===null)&&(Ai(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$t!==null&&(To($t),$t=null))),yo(e,n),yt(n),null;case 5:Ks(n);var b=Wn(Vr.current);if(a=n.type,e!==null&&n.stateNode!=null)Hl(e,n,a,f,b),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!f){if(n.stateNode===null)throw Error(s(166));return yt(n),null}if(e=Wn(en.current),Ai(n)){f=n.stateNode,a=n.type;var _=n.memoizedProps;switch(f[Zt]=n,f[Nr]=_,e=(n.mode&1)!==0,a){case"dialog":Ye("cancel",f),Ye("close",f);break;case"iframe":case"object":case"embed":Ye("load",f);break;case"video":case"audio":for(b=0;b<Ir.length;b++)Ye(Ir[b],f);break;case"source":Ye("error",f);break;case"img":case"image":case"link":Ye("error",f),Ye("load",f);break;case"details":Ye("toggle",f);break;case"input":ce(f,_),Ye("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ye("invalid",f);break;case"textarea":Ne(f,_),Ye("invalid",f)}re(a,_),b=null;for(var O in _)if(_.hasOwnProperty(O)){var Y=_[O];O==="children"?typeof Y=="string"?f.textContent!==Y&&(_.suppressHydrationWarning!==!0&&xi(f.textContent,Y,e),b=["children",Y]):typeof Y=="number"&&f.textContent!==""+Y&&(_.suppressHydrationWarning!==!0&&xi(f.textContent,Y,e),b=["children",""+Y]):l.hasOwnProperty(O)&&Y!=null&&O==="onScroll"&&Ye("scroll",f)}switch(a){case"input":K(f),ge(f,_,!0);break;case"textarea":K(f),$e(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=yi)}f=b,n.updateQueue=f,f!==null&&(n.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ut(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=O.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof f.is=="string"?e=O.createElement(a,{is:f.is}):(e=O.createElement(a),a==="select"&&(O=e,f.multiple?O.multiple=!0:f.size&&(O.size=f.size))):e=O.createElementNS(e,a),e[Zt]=n,e[Nr]=f,Vl(e,n,!1,!1),n.stateNode=e;e:{switch(O=Se(a,f),a){case"dialog":Ye("cancel",e),Ye("close",e),b=f;break;case"iframe":case"object":case"embed":Ye("load",e),b=f;break;case"video":case"audio":for(b=0;b<Ir.length;b++)Ye(Ir[b],e);b=f;break;case"source":Ye("error",e),b=f;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),b=f;break;case"details":Ye("toggle",e),b=f;break;case"input":ce(e,f),b=Ae(e,f),Ye("invalid",e);break;case"option":b=f;break;case"select":e._wrapperState={wasMultiple:!!f.multiple},b=v({},f,{value:void 0}),Ye("invalid",e);break;case"textarea":Ne(e,f),b=Ie(e,f),Ye("invalid",e);break;default:b=f}re(a,b),Y=b;for(_ in Y)if(Y.hasOwnProperty(_)){var Z=Y[_];_==="style"?xe(e,Z):_==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Te(e,Z)):_==="children"?typeof Z=="string"?(a!=="textarea"||Z!=="")&&ze(e,Z):typeof Z=="number"&&ze(e,""+Z):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(l.hasOwnProperty(_)?Z!=null&&_==="onScroll"&&Ye("scroll",e):Z!=null&&L(e,_,Z,O))}switch(a){case"input":K(e),ge(e,f,!1);break;case"textarea":K(e),$e(e);break;case"option":f.value!=null&&e.setAttribute("value",""+D(f.value));break;case"select":e.multiple=!!f.multiple,_=f.value,_!=null?Re(e,!!f.multiple,_,!1):f.defaultValue!=null&&Re(e,!!f.multiple,f.defaultValue,!0);break;default:typeof b.onClick=="function"&&(e.onclick=yi)}switch(a){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return yt(n),null;case 6:if(e&&n.stateNode!=null)$l(e,n,e.memoizedProps,f);else{if(typeof f!="string"&&n.stateNode===null)throw Error(s(166));if(a=Wn(Vr.current),Wn(en.current),Ai(n)){if(f=n.stateNode,a=n.memoizedProps,f[Zt]=n,(_=f.nodeValue!==a)&&(e=Ft,e!==null))switch(e.tag){case 3:xi(f.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xi(f.nodeValue,a,(e.mode&1)!==0)}_&&(n.flags|=4)}else f=(a.nodeType===9?a:a.ownerDocument).createTextNode(f),f[Zt]=n,n.stateNode=f}return yt(n),null;case 13:if(Ke(Je),f=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Mt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Ga(),cr(),n.flags|=98560,_=!1;else if(_=Ai(n),f!==null&&f.dehydrated!==null){if(e===null){if(!_)throw Error(s(318));if(_=n.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));_[Zt]=n}else cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),_=!1}else $t!==null&&(To($t),$t=null),_=!0;if(!_)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(f=f!==null,f!==(e!==null&&e.memoizedState!==null)&&f&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Je.current&1)!==0?lt===0&&(lt=3):Fo())),n.updateQueue!==null&&(n.flags|=4),yt(n),null);case 4:return fr(),yo(e,n),e===null&&Lr(n.stateNode.containerInfo),yt(n),null;case 10:return Ws(n.type._context),yt(n),null;case 17:return kt(n.type)&&bi(),yt(n),null;case 19:if(Ke(Je),_=n.memoizedState,_===null)return yt(n),null;if(f=(n.flags&128)!==0,O=_.rendering,O===null)if(f)Gr(_,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(O=ji(e),O!==null){for(n.flags|=128,Gr(_,!1),f=O.updateQueue,f!==null&&(n.updateQueue=f,n.flags|=4),n.subtreeFlags=0,f=a,a=n.child;a!==null;)_=a,e=f,_.flags&=14680066,O=_.alternate,O===null?(_.childLanes=0,_.lanes=e,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=O.childLanes,_.lanes=O.lanes,_.child=O.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=O.memoizedProps,_.memoizedState=O.memoizedState,_.updateQueue=O.updateQueue,_.type=O.type,e=O.dependencies,_.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Xe(Je,Je.current&1|2),n.child}e=e.sibling}_.tail!==null&&rt()>yr&&(n.flags|=128,f=!0,Gr(_,!1),n.lanes=4194304)}else{if(!f)if(e=ji(O),e!==null){if(n.flags|=128,f=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Gr(_,!0),_.tail===null&&_.tailMode==="hidden"&&!O.alternate&&!Qe)return yt(n),null}else 2*rt()-_.renderingStartTime>yr&&a!==1073741824&&(n.flags|=128,f=!0,Gr(_,!1),n.lanes=4194304);_.isBackwards?(O.sibling=n.child,n.child=O):(a=_.last,a!==null?a.sibling=O:n.child=O,_.last=O)}return _.tail!==null?(n=_.tail,_.rendering=n,_.tail=n.sibling,_.renderingStartTime=rt(),n.sibling=null,a=Je.current,Xe(Je,f?a&1|2:a&1),n):(yt(n),null);case 22:case 23:return jo(),f=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==f&&(n.flags|=8192),f&&(n.mode&1)!==0?(It&1073741824)!==0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Hc(e,n){switch(zs(n),n.tag){case 1:return kt(n.type)&&bi(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fr(),Ke(St),Ke(gt),Js(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ks(n),null;case 13:if(Ke(Je),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ke(Je),null;case 4:return fr(),null;case 10:return Ws(n.type._context),null;case 22:case 23:return jo(),null;case 24:return null;default:return null}}var Bi=!1,vt=!1,$c=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function gr(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(f){tt(e,n,f)}else a.current=null}function vo(e,n,a){try{a()}catch(f){tt(e,n,f)}}var Wl=!1;function Wc(e,n){if(Ps=oi,e=Sa(),Es(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var b=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var O=0,Y=-1,Z=-1,de=0,be=0,we=e,ve=null;t:for(;;){for(var Ce;we!==a||b!==0&&we.nodeType!==3||(Y=O+b),we!==_||f!==0&&we.nodeType!==3||(Z=O+f),we.nodeType===3&&(O+=we.nodeValue.length),(Ce=we.firstChild)!==null;)ve=we,we=Ce;for(;;){if(we===e)break t;if(ve===a&&++de===b&&(Y=O),ve===_&&++be===f&&(Z=O),(Ce=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Ce}a=Y===-1||Z===-1?null:{start:Y,end:Z}}else a=null}a=a||{start:0,end:0}}else a=null;for(js={focusedElem:e,selectionRange:a},oi=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){n=Pe;try{var je=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Fe=je.memoizedProps,it=je.memoizedState,oe=n.stateNode,ee=oe.getSnapshotBeforeUpdate(n.elementType===n.type?Fe:Wt(n.type,Fe),it);oe.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var le=n.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ke){tt(n,n.return,ke)}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}return je=Wl,Wl=!1,je}function Xr(e,n,a){var f=n.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var b=f=f.next;do{if((b.tag&e)===e){var _=b.destroy;b.destroy=void 0,_!==void 0&&vo(n,a,_)}b=b.next}while(b!==f)}}function Ui(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var f=a.create;a.destroy=f()}a=a.next}while(a!==n)}}function bo(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function ql(e){var n=e.alternate;n!==null&&(e.alternate=null,ql(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Zt],delete n[Nr],delete n[Ls],delete n[Cc],delete n[Rc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gl(e){return e.tag===5||e.tag===3||e.tag===4}function Xl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,n,a){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=yi));else if(f!==4&&(e=e.child,e!==null))for(wo(e,n,a),e=e.sibling;e!==null;)wo(e,n,a),e=e.sibling}function Eo(e,n,a){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(f!==4&&(e=e.child,e!==null))for(Eo(e,n,a),e=e.sibling;e!==null;)Eo(e,n,a),e=e.sibling}var ft=null,qt=!1;function Rn(e,n,a){for(a=a.child;a!==null;)Yl(e,n,a),a=a.sibling}function Yl(e,n,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 5:vt||gr(a,n);case 6:var f=ft,b=qt;ft=null,Rn(e,n,a),ft=f,qt=b,ft!==null&&(qt?(e=ft,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):ft.removeChild(a.stateNode));break;case 18:ft!==null&&(qt?(e=ft,a=a.stateNode,e.nodeType===8?Is(e.parentNode,a):e.nodeType===1&&Is(e,a),_r(e)):Is(ft,a.stateNode));break;case 4:f=ft,b=qt,ft=a.stateNode.containerInfo,qt=!0,Rn(e,n,a),ft=f,qt=b;break;case 0:case 11:case 14:case 15:if(!vt&&(f=a.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){b=f=f.next;do{var _=b,O=_.destroy;_=_.tag,O!==void 0&&((_&2)!==0||(_&4)!==0)&&vo(a,n,O),b=b.next}while(b!==f)}Rn(e,n,a);break;case 1:if(!vt&&(gr(a,n),f=a.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=a.memoizedProps,f.state=a.memoizedState,f.componentWillUnmount()}catch(Y){tt(a,n,Y)}Rn(e,n,a);break;case 21:Rn(e,n,a);break;case 22:a.mode&1?(vt=(f=vt)||a.memoizedState!==null,Rn(e,n,a),vt=f):Rn(e,n,a);break;default:Rn(e,n,a)}}function Kl(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new $c),n.forEach(function(f){var b=ed.bind(null,e,f);a.has(f)||(a.add(f),f.then(b,b))})}}function Gt(e,n){var a=n.deletions;if(a!==null)for(var f=0;f<a.length;f++){var b=a[f];try{var _=e,O=n,Y=O;e:for(;Y!==null;){switch(Y.tag){case 5:ft=Y.stateNode,qt=!1;break e;case 3:ft=Y.stateNode.containerInfo,qt=!0;break e;case 4:ft=Y.stateNode.containerInfo,qt=!0;break e}Y=Y.return}if(ft===null)throw Error(s(160));Yl(_,O,b),ft=null,qt=!1;var Z=b.alternate;Z!==null&&(Z.return=null),b.return=null}catch(de){tt(b,n,de)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ql(n,e),n=n.sibling}function Ql(e,n){var a=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(n,e),nn(e),f&4){try{Xr(3,e,e.return),Ui(3,e)}catch(Fe){tt(e,e.return,Fe)}try{Xr(5,e,e.return)}catch(Fe){tt(e,e.return,Fe)}}break;case 1:Gt(n,e),nn(e),f&512&&a!==null&&gr(a,a.return);break;case 5:if(Gt(n,e),nn(e),f&512&&a!==null&&gr(a,a.return),e.flags&32){var b=e.stateNode;try{ze(b,"")}catch(Fe){tt(e,e.return,Fe)}}if(f&4&&(b=e.stateNode,b!=null)){var _=e.memoizedProps,O=a!==null?a.memoizedProps:_,Y=e.type,Z=e.updateQueue;if(e.updateQueue=null,Z!==null)try{Y==="input"&&_.type==="radio"&&_.name!=null&&fe(b,_),Se(Y,O);var de=Se(Y,_);for(O=0;O<Z.length;O+=2){var be=Z[O],we=Z[O+1];be==="style"?xe(b,we):be==="dangerouslySetInnerHTML"?Te(b,we):be==="children"?ze(b,we):L(b,be,we,de)}switch(Y){case"input":me(b,_);break;case"textarea":Be(b,_);break;case"select":var ve=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!_.multiple;var Ce=_.value;Ce!=null?Re(b,!!_.multiple,Ce,!1):ve!==!!_.multiple&&(_.defaultValue!=null?Re(b,!!_.multiple,_.defaultValue,!0):Re(b,!!_.multiple,_.multiple?[]:"",!1))}b[Nr]=_}catch(Fe){tt(e,e.return,Fe)}}break;case 6:if(Gt(n,e),nn(e),f&4){if(e.stateNode===null)throw Error(s(162));b=e.stateNode,_=e.memoizedProps;try{b.nodeValue=_}catch(Fe){tt(e,e.return,Fe)}}break;case 3:if(Gt(n,e),nn(e),f&4&&a!==null&&a.memoizedState.isDehydrated)try{_r(n.containerInfo)}catch(Fe){tt(e,e.return,Fe)}break;case 4:Gt(n,e),nn(e);break;case 13:Gt(n,e),nn(e),b=e.child,b.flags&8192&&(_=b.memoizedState!==null,b.stateNode.isHidden=_,!_||b.alternate!==null&&b.alternate.memoizedState!==null||(Ao=rt())),f&4&&Kl(e);break;case 22:if(be=a!==null&&a.memoizedState!==null,e.mode&1?(vt=(de=vt)||be,Gt(n,e),vt=de):Gt(n,e),nn(e),f&8192){if(de=e.memoizedState!==null,(e.stateNode.isHidden=de)&&!be&&(e.mode&1)!==0)for(Pe=e,be=e.child;be!==null;){for(we=Pe=be;Pe!==null;){switch(ve=Pe,Ce=ve.child,ve.tag){case 0:case 11:case 14:case 15:Xr(4,ve,ve.return);break;case 1:gr(ve,ve.return);var je=ve.stateNode;if(typeof je.componentWillUnmount=="function"){f=ve,a=ve.return;try{n=f,je.props=n.memoizedProps,je.state=n.memoizedState,je.componentWillUnmount()}catch(Fe){tt(f,a,Fe)}}break;case 5:gr(ve,ve.return);break;case 22:if(ve.memoizedState!==null){eu(we);continue}}Ce!==null?(Ce.return=ve,Pe=Ce):eu(we)}be=be.sibling}e:for(be=null,we=e;;){if(we.tag===5){if(be===null){be=we;try{b=we.stateNode,de?(_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(Y=we.stateNode,Z=we.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Y.style.display=Rt("display",O))}catch(Fe){tt(e,e.return,Fe)}}}else if(we.tag===6){if(be===null)try{we.stateNode.nodeValue=de?"":we.memoizedProps}catch(Fe){tt(e,e.return,Fe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===e)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===e)break e;for(;we.sibling===null;){if(we.return===null||we.return===e)break e;be===we&&(be=null),we=we.return}be===we&&(be=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Gt(n,e),nn(e),f&4&&Kl(e);break;case 21:break;default:Gt(n,e),nn(e)}}function nn(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(Gl(a)){var f=a;break e}a=a.return}throw Error(s(160))}switch(f.tag){case 5:var b=f.stateNode;f.flags&32&&(ze(b,""),f.flags&=-33);var _=Xl(e);Eo(e,_,b);break;case 3:case 4:var O=f.stateNode.containerInfo,Y=Xl(e);wo(e,Y,O);break;default:throw Error(s(161))}}catch(Z){tt(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qc(e,n,a){Pe=e,Jl(e)}function Jl(e,n,a){for(var f=(e.mode&1)!==0;Pe!==null;){var b=Pe,_=b.child;if(b.tag===22&&f){var O=b.memoizedState!==null||Bi;if(!O){var Y=b.alternate,Z=Y!==null&&Y.memoizedState!==null||vt;Y=Bi;var de=vt;if(Bi=O,(vt=Z)&&!de)for(Pe=b;Pe!==null;)O=Pe,Z=O.child,O.tag===22&&O.memoizedState!==null?tu(b):Z!==null?(Z.return=O,Pe=Z):tu(b);for(;_!==null;)Pe=_,Jl(_),_=_.sibling;Pe=b,Bi=Y,vt=de}Zl(e)}else(b.subtreeFlags&8772)!==0&&_!==null?(_.return=b,Pe=_):Zl(e)}}function Zl(e){for(;Pe!==null;){var n=Pe;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:vt||Ui(5,n);break;case 1:var f=n.stateNode;if(n.flags&4&&!vt)if(a===null)f.componentDidMount();else{var b=n.elementType===n.type?a.memoizedProps:Wt(n.type,a.memoizedProps);f.componentDidUpdate(b,a.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=n.updateQueue;_!==null&&el(n,_,f);break;case 3:var O=n.updateQueue;if(O!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}el(n,O,a)}break;case 5:var Y=n.stateNode;if(a===null&&n.flags&4){a=Y;var Z=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&a.focus();break;case"img":Z.src&&(a.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var de=n.alternate;if(de!==null){var be=de.memoizedState;if(be!==null){var we=be.dehydrated;we!==null&&_r(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vt||n.flags&512&&bo(n)}catch(ve){tt(n,n.return,ve)}}if(n===e){Pe=null;break}if(a=n.sibling,a!==null){a.return=n.return,Pe=a;break}Pe=n.return}}function eu(e){for(;Pe!==null;){var n=Pe;if(n===e){Pe=null;break}var a=n.sibling;if(a!==null){a.return=n.return,Pe=a;break}Pe=n.return}}function tu(e){for(;Pe!==null;){var n=Pe;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Ui(4,n)}catch(Z){tt(n,a,Z)}break;case 1:var f=n.stateNode;if(typeof f.componentDidMount=="function"){var b=n.return;try{f.componentDidMount()}catch(Z){tt(n,b,Z)}}var _=n.return;try{bo(n)}catch(Z){tt(n,_,Z)}break;case 5:var O=n.return;try{bo(n)}catch(Z){tt(n,O,Z)}}}catch(Z){tt(n,n.return,Z)}if(n===e){Pe=null;break}var Y=n.sibling;if(Y!==null){Y.return=n.return,Pe=Y;break}Pe=n.return}}var Gc=Math.ceil,Vi=z.ReactCurrentDispatcher,So=z.ReactCurrentOwner,zt=z.ReactCurrentBatchConfig,He=0,dt=null,st=null,mt=0,It=0,xr=Sn(0),lt=0,Yr=null,Gn=0,Hi=0,ko=0,Kr=null,_t=null,Ao=0,yr=1/0,fn=null,$i=!1,_o=null,Tn=null,Wi=!1,Pn=null,qi=0,Qr=0,Co=null,Gi=-1,Xi=0;function Et(){return(He&6)!==0?rt():Gi!==-1?Gi:Gi=rt()}function jn(e){return(e.mode&1)===0?1:(He&2)!==0&&mt!==0?mt&-mt:Pc.transition!==null?(Xi===0&&(Xi=Xo()),Xi):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:ra(e.type)),e)}function Xt(e,n,a,f){if(50<Qr)throw Qr=0,Co=null,Error(s(185));wr(e,a,f),((He&2)===0||e!==dt)&&(e===dt&&((He&2)===0&&(Hi|=a),lt===4&&Fn(e,mt)),Ct(e,f),a===1&&He===0&&(n.mode&1)===0&&(yr=rt()+500,Ei&&An()))}function Ct(e,n){var a=e.callbackNode;Pu(e,n);var f=ri(e,e===dt?mt:0);if(f===0)a!==null&&Wo(a),e.callbackNode=null,e.callbackPriority=0;else if(n=f&-f,e.callbackPriority!==n){if(a!=null&&Wo(a),n===1)e.tag===0?Tc(ru.bind(null,e)):Va(ru.bind(null,e)),Ac(function(){(He&6)===0&&An()}),a=null;else{switch(Yo(f)){case 1:a=ss;break;case 4:a=qo;break;case 16:a=Zr;break;case 536870912:a=Go;break;default:a=Zr}a=du(a,nu.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function nu(e,n){if(Gi=-1,Xi=0,(He&6)!==0)throw Error(s(327));var a=e.callbackNode;if(vr()&&e.callbackNode!==a)return null;var f=ri(e,e===dt?mt:0);if(f===0)return null;if((f&30)!==0||(f&e.expiredLanes)!==0||n)n=Yi(e,f);else{n=f;var b=He;He|=2;var _=su();(dt!==e||mt!==n)&&(fn=null,yr=rt()+500,Yn(e,n));do try{Kc();break}catch(Y){iu(e,Y)}while(!0);$s(),Vi.current=_,He=b,st!==null?n=0:(dt=null,mt=0,n=lt)}if(n!==0){if(n===2&&(b=os(e),b!==0&&(f=b,n=Ro(e,b))),n===1)throw a=Yr,Yn(e,0),Fn(e,f),Ct(e,rt()),a;if(n===6)Fn(e,f);else{if(b=e.current.alternate,(f&30)===0&&!Xc(b)&&(n=Yi(e,f),n===2&&(_=os(e),_!==0&&(f=_,n=Ro(e,_))),n===1))throw a=Yr,Yn(e,0),Fn(e,f),Ct(e,rt()),a;switch(e.finishedWork=b,e.finishedLanes=f,n){case 0:case 1:throw Error(s(345));case 2:Kn(e,_t,fn);break;case 3:if(Fn(e,f),(f&130023424)===f&&(n=Ao+500-rt(),10<n)){if(ri(e,0)!==0)break;if(b=e.suspendedLanes,(b&f)!==f){Et(),e.pingedLanes|=e.suspendedLanes&b;break}e.timeoutHandle=Ms(Kn.bind(null,e,_t,fn),n);break}Kn(e,_t,fn);break;case 4:if(Fn(e,f),(f&4194240)===f)break;for(n=e.eventTimes,b=-1;0<f;){var O=31-Vt(f);_=1<<O,O=n[O],O>b&&(b=O),f&=~_}if(f=b,f=rt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Gc(f/1960))-f,10<f){e.timeoutHandle=Ms(Kn.bind(null,e,_t,fn),f);break}Kn(e,_t,fn);break;case 5:Kn(e,_t,fn);break;default:throw Error(s(329))}}}return Ct(e,rt()),e.callbackNode===a?nu.bind(null,e):null}function Ro(e,n){var a=Kr;return e.current.memoizedState.isDehydrated&&(Yn(e,n).flags|=256),e=Yi(e,n),e!==2&&(n=_t,_t=a,n!==null&&To(n)),e}function To(e){_t===null?_t=e:_t.push.apply(_t,e)}function Xc(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var f=0;f<a.length;f++){var b=a[f],_=b.getSnapshot;b=b.value;try{if(!Ht(_(),b))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fn(e,n){for(n&=~ko,n&=~Hi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-Vt(n),f=1<<a;e[a]=-1,n&=~f}}function ru(e){if((He&6)!==0)throw Error(s(327));vr();var n=ri(e,0);if((n&1)===0)return Ct(e,rt()),null;var a=Yi(e,n);if(e.tag!==0&&a===2){var f=os(e);f!==0&&(n=f,a=Ro(e,f))}if(a===1)throw a=Yr,Yn(e,0),Fn(e,n),Ct(e,rt()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Kn(e,_t,fn),Ct(e,rt()),null}function Po(e,n){var a=He;He|=1;try{return e(n)}finally{He=a,He===0&&(yr=rt()+500,Ei&&An())}}function Xn(e){Pn!==null&&Pn.tag===0&&(He&6)===0&&vr();var n=He;He|=1;var a=zt.transition,f=Ge;try{if(zt.transition=null,Ge=1,e)return e()}finally{Ge=f,zt.transition=a,He=n,(He&6)===0&&An()}}function jo(){It=xr.current,Ke(xr)}function Yn(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,kc(a)),st!==null)for(a=st.return;a!==null;){var f=a;switch(zs(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&bi();break;case 3:fr(),Ke(St),Ke(gt),Js();break;case 5:Ks(f);break;case 4:fr();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:Ws(f.type._context);break;case 22:case 23:jo()}a=a.return}if(dt=e,st=e=Mn(e.current,null),mt=It=n,lt=0,Yr=null,ko=Hi=Gn=0,_t=Kr=null,$n!==null){for(n=0;n<$n.length;n++)if(a=$n[n],f=a.interleaved,f!==null){a.interleaved=null;var b=f.next,_=a.pending;if(_!==null){var O=_.next;_.next=b,f.next=O}a.pending=f}$n=null}return e}function iu(e,n){do{var a=st;try{if($s(),Fi.current=Di,Mi){for(var f=Ze.memoizedState;f!==null;){var b=f.queue;b!==null&&(b.pending=null),f=f.next}Mi=!1}if(qn=0,ct=at=Ze=null,Hr=!1,$r=0,So.current=null,a===null||a.return===null){lt=1,Yr=n,st=null;break}e:{var _=e,O=a.return,Y=a,Z=n;if(n=mt,Y.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var de=Z,be=Y,we=be.tag;if((be.mode&1)===0&&(we===0||we===11||we===15)){var ve=be.alternate;ve?(be.updateQueue=ve.updateQueue,be.memoizedState=ve.memoizedState,be.lanes=ve.lanes):(be.updateQueue=null,be.memoizedState=null)}var Ce=Tl(O);if(Ce!==null){Ce.flags&=-257,Pl(Ce,O,Y,_,n),Ce.mode&1&&Rl(_,de,n),n=Ce,Z=de;var je=n.updateQueue;if(je===null){var Fe=new Set;Fe.add(Z),n.updateQueue=Fe}else je.add(Z);break e}else{if((n&1)===0){Rl(_,de,n),Fo();break e}Z=Error(s(426))}}else if(Qe&&Y.mode&1){var it=Tl(O);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Pl(it,O,Y,_,n),Vs(mr(Z,Y));break e}}_=Z=mr(Z,Y),lt!==4&&(lt=2),Kr===null?Kr=[_]:Kr.push(_),_=O;do{switch(_.tag){case 3:_.flags|=65536,n&=-n,_.lanes|=n;var oe=_l(_,Z,n);Za(_,oe);break e;case 1:Y=Z;var ee=_.type,le=_.stateNode;if((_.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Tn===null||!Tn.has(le)))){_.flags|=65536,n&=-n,_.lanes|=n;var ke=Cl(_,Y,n);Za(_,ke);break e}}_=_.return}while(_!==null)}au(a)}catch(Me){n=Me,st===a&&a!==null&&(st=a=a.return);continue}break}while(!0)}function su(){var e=Vi.current;return Vi.current=Di,e===null?Di:e}function Fo(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(Gn&268435455)===0&&(Hi&268435455)===0||Fn(dt,mt)}function Yi(e,n){var a=He;He|=2;var f=su();(dt!==e||mt!==n)&&(fn=null,Yn(e,n));do try{Yc();break}catch(b){iu(e,b)}while(!0);if($s(),He=a,Vi.current=f,st!==null)throw Error(s(261));return dt=null,mt=0,lt}function Yc(){for(;st!==null;)ou(st)}function Kc(){for(;st!==null&&!wu();)ou(st)}function ou(e){var n=cu(e.alternate,e,It);e.memoizedProps=e.pendingProps,n===null?au(e):st=n,So.current=null}function au(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=Vc(a,n,It),a!==null){st=a;return}}else{if(a=Hc(a,n),a!==null){a.flags&=32767,st=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}if(n=n.sibling,n!==null){st=n;return}st=n=e}while(n!==null);lt===0&&(lt=5)}function Kn(e,n,a){var f=Ge,b=zt.transition;try{zt.transition=null,Ge=1,Qc(e,n,a,f)}finally{zt.transition=b,Ge=f}return null}function Qc(e,n,a,f){do vr();while(Pn!==null);if((He&6)!==0)throw Error(s(327));a=e.finishedWork;var b=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var _=a.lanes|a.childLanes;if(ju(e,_),e===dt&&(st=dt=null,mt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Wi||(Wi=!0,du(Zr,function(){return vr(),null})),_=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||_){_=zt.transition,zt.transition=null;var O=Ge;Ge=1;var Y=He;He|=4,So.current=null,Wc(e,a),Ql(a,e),xc(js),oi=!!Ps,js=Ps=null,e.current=a,qc(a),Eu(),He=Y,Ge=O,zt.transition=_}else e.current=a;if(Wi&&(Wi=!1,Pn=e,qi=b),_=e.pendingLanes,_===0&&(Tn=null),Au(a.stateNode),Ct(e,rt()),n!==null)for(f=e.onRecoverableError,a=0;a<n.length;a++)b=n[a],f(b.value,{componentStack:b.stack,digest:b.digest});if($i)throw $i=!1,e=_o,_o=null,e;return(qi&1)!==0&&e.tag!==0&&vr(),_=e.pendingLanes,(_&1)!==0?e===Co?Qr++:(Qr=0,Co=e):Qr=0,An(),null}function vr(){if(Pn!==null){var e=Yo(qi),n=zt.transition,a=Ge;try{if(zt.transition=null,Ge=16>e?16:e,Pn===null)var f=!1;else{if(e=Pn,Pn=null,qi=0,(He&6)!==0)throw Error(s(331));var b=He;for(He|=4,Pe=e.current;Pe!==null;){var _=Pe,O=_.child;if((Pe.flags&16)!==0){var Y=_.deletions;if(Y!==null){for(var Z=0;Z<Y.length;Z++){var de=Y[Z];for(Pe=de;Pe!==null;){var be=Pe;switch(be.tag){case 0:case 11:case 15:Xr(8,be,_)}var we=be.child;if(we!==null)we.return=be,Pe=we;else for(;Pe!==null;){be=Pe;var ve=be.sibling,Ce=be.return;if(ql(be),be===de){Pe=null;break}if(ve!==null){ve.return=Ce,Pe=ve;break}Pe=Ce}}}var je=_.alternate;if(je!==null){var Fe=je.child;if(Fe!==null){je.child=null;do{var it=Fe.sibling;Fe.sibling=null,Fe=it}while(Fe!==null)}}Pe=_}}if((_.subtreeFlags&2064)!==0&&O!==null)O.return=_,Pe=O;else e:for(;Pe!==null;){if(_=Pe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Xr(9,_,_.return)}var oe=_.sibling;if(oe!==null){oe.return=_.return,Pe=oe;break e}Pe=_.return}}var ee=e.current;for(Pe=ee;Pe!==null;){O=Pe;var le=O.child;if((O.subtreeFlags&2064)!==0&&le!==null)le.return=O,Pe=le;else e:for(O=ee;Pe!==null;){if(Y=Pe,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Ui(9,Y)}}catch(Me){tt(Y,Y.return,Me)}if(Y===O){Pe=null;break e}var ke=Y.sibling;if(ke!==null){ke.return=Y.return,Pe=ke;break e}Pe=Y.return}}if(He=b,An(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ei,e)}catch{}f=!0}return f}finally{Ge=a,zt.transition=n}}return!1}function lu(e,n,a){n=mr(a,n),n=_l(e,n,1),e=Cn(e,n,1),n=Et(),e!==null&&(wr(e,1,n),Ct(e,n))}function tt(e,n,a){if(e.tag===3)lu(e,e,a);else for(;n!==null;){if(n.tag===3){lu(n,e,a);break}else if(n.tag===1){var f=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Tn===null||!Tn.has(f))){e=mr(a,e),e=Cl(n,e,1),n=Cn(n,e,1),e=Et(),n!==null&&(wr(n,1,e),Ct(n,e));break}}n=n.return}}function Jc(e,n,a){var f=e.pingCache;f!==null&&f.delete(n),n=Et(),e.pingedLanes|=e.suspendedLanes&a,dt===e&&(mt&a)===a&&(lt===4||lt===3&&(mt&130023424)===mt&&500>rt()-Ao?Yn(e,0):ko|=a),Ct(e,n)}function uu(e,n){n===0&&((e.mode&1)===0?n=1:(n=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var a=Et();e=dn(e,n),e!==null&&(wr(e,n,a),Ct(e,a))}function Zc(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),uu(e,a)}function ed(e,n){var a=0;switch(e.tag){case 13:var f=e.stateNode,b=e.memoizedState;b!==null&&(a=b.retryLane);break;case 19:f=e.stateNode;break;default:throw Error(s(314))}f!==null&&f.delete(n),uu(e,a)}var cu;cu=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||St.current)At=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return At=!1,Uc(e,n,a);At=(e.flags&131072)!==0}else At=!1,Qe&&(n.flags&1048576)!==0&&Ha(n,ki,n.index);switch(n.lanes=0,n.tag){case 2:var f=n.type;zi(e,n),e=n.pendingProps;var b=ar(n,gt.current);pr(n,a),b=to(null,n,f,e,b,a);var _=no();return n.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,kt(f)?(_=!0,wi(n)):_=!1,n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Xs(n),b.updater=Ni,n.stateNode=b,b._reactInternals=n,lo(n,f,e,a),n=po(null,n,f,!0,_,a)):(n.tag=0,Qe&&_&&Os(n),wt(null,n,b,a),n=n.child),n;case 16:f=n.elementType;e:{switch(zi(e,n),e=n.pendingProps,b=f._init,f=b(f._payload),n.type=f,b=n.tag=nd(f),e=Wt(f,e),b){case 0:n=ho(null,n,f,e,a);break e;case 1:n=Dl(null,n,f,e,a);break e;case 11:n=jl(null,n,f,e,a);break e;case 14:n=Fl(null,n,f,Wt(f.type,e),a);break e}throw Error(s(306,f,""))}return n;case 0:return f=n.type,b=n.pendingProps,b=n.elementType===f?b:Wt(f,b),ho(e,n,f,b,a);case 1:return f=n.type,b=n.pendingProps,b=n.elementType===f?b:Wt(f,b),Dl(e,n,f,b,a);case 3:e:{if(Nl(n),e===null)throw Error(s(387));f=n.pendingProps,_=n.memoizedState,b=_.element,Ja(e,n),Pi(n,f,null,a);var O=n.memoizedState;if(f=O.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){b=mr(Error(s(423)),n),n=Ol(e,n,f,a,b);break e}else if(f!==b){b=mr(Error(s(424)),n),n=Ol(e,n,f,a,b);break e}else for(Mt=En(n.stateNode.containerInfo.firstChild),Ft=n,Qe=!0,$t=null,a=Ka(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(cr(),f===b){n=pn(e,n,a);break e}wt(e,n,f,a)}n=n.child}return n;case 5:return tl(n),e===null&&Us(n),f=n.type,b=n.pendingProps,_=e!==null?e.memoizedProps:null,O=b.children,Fs(f,b)?O=null:_!==null&&Fs(f,_)&&(n.flags|=32),Ll(e,n),wt(e,n,O,a),n.child;case 6:return e===null&&Us(n),null;case 13:return zl(e,n,a);case 4:return Ys(n,n.stateNode.containerInfo),f=n.pendingProps,e===null?n.child=dr(n,null,f,a):wt(e,n,f,a),n.child;case 11:return f=n.type,b=n.pendingProps,b=n.elementType===f?b:Wt(f,b),jl(e,n,f,b,a);case 7:return wt(e,n,n.pendingProps,a),n.child;case 8:return wt(e,n,n.pendingProps.children,a),n.child;case 12:return wt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(f=n.type._context,b=n.pendingProps,_=n.memoizedProps,O=b.value,Xe(Ci,f._currentValue),f._currentValue=O,_!==null)if(Ht(_.value,O)){if(_.children===b.children&&!St.current){n=pn(e,n,a);break e}}else for(_=n.child,_!==null&&(_.return=n);_!==null;){var Y=_.dependencies;if(Y!==null){O=_.child;for(var Z=Y.firstContext;Z!==null;){if(Z.context===f){if(_.tag===1){Z=hn(-1,a&-a),Z.tag=2;var de=_.updateQueue;if(de!==null){de=de.shared;var be=de.pending;be===null?Z.next=Z:(Z.next=be.next,be.next=Z),de.pending=Z}}_.lanes|=a,Z=_.alternate,Z!==null&&(Z.lanes|=a),qs(_.return,a,n),Y.lanes|=a;break}Z=Z.next}}else if(_.tag===10)O=_.type===n.type?null:_.child;else if(_.tag===18){if(O=_.return,O===null)throw Error(s(341));O.lanes|=a,Y=O.alternate,Y!==null&&(Y.lanes|=a),qs(O,a,n),O=_.sibling}else O=_.child;if(O!==null)O.return=_;else for(O=_;O!==null;){if(O===n){O=null;break}if(_=O.sibling,_!==null){_.return=O.return,O=_;break}O=O.return}_=O}wt(e,n,b.children,a),n=n.child}return n;case 9:return b=n.type,f=n.pendingProps.children,pr(n,a),b=Nt(b),f=f(b),n.flags|=1,wt(e,n,f,a),n.child;case 14:return f=n.type,b=Wt(f,n.pendingProps),b=Wt(f.type,b),Fl(e,n,f,b,a);case 15:return Ml(e,n,n.type,n.pendingProps,a);case 17:return f=n.type,b=n.pendingProps,b=n.elementType===f?b:Wt(f,b),zi(e,n),n.tag=1,kt(f)?(e=!0,wi(n)):e=!1,pr(n,a),kl(n,f,b),lo(n,f,b,a),po(null,n,f,!0,e,a);case 19:return Ul(e,n,a);case 22:return Il(e,n,a)}throw Error(s(156,n.tag))};function du(e,n){return $o(e,n)}function td(e,n,a,f){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,n,a,f){return new td(e,n,a,f)}function Mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nd(e){if(typeof e=="function")return Mo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ie)return 11;if(e===he)return 14}return 2}function Mn(e,n){var a=e.alternate;return a===null?(a=Bt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Ki(e,n,a,f,b,_){var O=2;if(f=e,typeof e=="function")Mo(e)&&(O=1);else if(typeof e=="string")O=5;else e:switch(e){case V:return Qn(a.children,b,_,n);case H:O=8,b|=8;break;case X:return e=Bt(12,a,n,b|2),e.elementType=X,e.lanes=_,e;case te:return e=Bt(13,a,n,b),e.elementType=te,e.lanes=_,e;case ne:return e=Bt(19,a,n,b),e.elementType=ne,e.lanes=_,e;case G:return Qi(a,b,_,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:O=10;break e;case Q:O=9;break e;case ie:O=11;break e;case he:O=14;break e;case ae:O=16,f=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Bt(O,a,n,b),n.elementType=e,n.type=f,n.lanes=_,n}function Qn(e,n,a,f){return e=Bt(7,e,f,n),e.lanes=a,e}function Qi(e,n,a,f){return e=Bt(22,e,f,n),e.elementType=G,e.lanes=a,e.stateNode={isHidden:!1},e}function Io(e,n,a){return e=Bt(6,e,null,n),e.lanes=a,e}function Lo(e,n,a){return n=Bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function rd(e,n,a,f,b){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=f,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Do(e,n,a,f,b,_,O,Y,Z){return e=new rd(e,n,a,Y,Z),n===1?(n=1,_===!0&&(n|=8)):n=0,_=Bt(3,null,null,n),e.current=_,_.stateNode=e,_.memoizedState={element:f,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xs(_),e}function id(e,n,a){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:e,containerInfo:n,implementation:a}}function hu(e){if(!e)return kn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(kt(a))return Ba(e,a,n)}return n}function pu(e,n,a,f,b,_,O,Y,Z){return e=Do(a,f,!0,e,b,_,O,Y,Z),e.context=hu(null),a=e.current,f=Et(),b=jn(a),_=hn(f,b),_.callback=n??null,Cn(a,_,b),e.current.lanes=b,wr(e,b,f),Ct(e,f),e}function Ji(e,n,a,f){var b=n.current,_=Et(),O=jn(b);return a=hu(a),n.context===null?n.context=a:n.pendingContext=a,n=hn(_,O),n.payload={element:e},f=f===void 0?null:f,f!==null&&(n.callback=f),e=Cn(b,n,O),e!==null&&(Xt(e,b,O,_),Ti(e,b,O)),O}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fu(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function No(e,n){fu(e,n),(e=e.alternate)&&fu(e,n)}function sd(){return null}var mu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oo(e){this._internalRoot=e}es.prototype.render=Oo.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Ji(e,n,null,null)},es.prototype.unmount=Oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xn(function(){Ji(null,e,null,null)}),n[on]=null}};function es(e){this._internalRoot=e}es.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jo();e={blockedOn:null,target:e,priority:n};for(var a=0;a<vn.length&&n!==0&&n<vn[a].priority;a++);vn.splice(a,0,e),a===0&&ta(e)}};function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ts(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gu(){}function od(e,n,a,f,b){if(b){if(typeof f=="function"){var _=f;f=function(){var de=Zi(O);_.call(de)}}var O=pu(n,f,e,0,null,!1,!1,"",gu);return e._reactRootContainer=O,e[on]=O.current,Lr(e.nodeType===8?e.parentNode:e),Xn(),O}for(;b=e.lastChild;)e.removeChild(b);if(typeof f=="function"){var Y=f;f=function(){var de=Zi(Z);Y.call(de)}}var Z=Do(e,0,!1,null,null,!1,!1,"",gu);return e._reactRootContainer=Z,e[on]=Z.current,Lr(e.nodeType===8?e.parentNode:e),Xn(function(){Ji(n,Z,a,f)}),Z}function ns(e,n,a,f,b){var _=a._reactRootContainer;if(_){var O=_;if(typeof b=="function"){var Y=b;b=function(){var Z=Zi(O);Y.call(Z)}}Ji(n,O,e,b)}else O=od(a,n,e,b,f);return Zi(O)}Ko=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=br(n.pendingLanes);a!==0&&(ls(n,a|1),Ct(n,rt()),(He&6)===0&&(yr=rt()+500,An()))}break;case 13:Xn(function(){var f=dn(e,1);if(f!==null){var b=Et();Xt(f,e,1,b)}}),No(e,1)}},us=function(e){if(e.tag===13){var n=dn(e,134217728);if(n!==null){var a=Et();Xt(n,e,134217728,a)}No(e,134217728)}},Qo=function(e){if(e.tag===13){var n=jn(e),a=dn(e,n);if(a!==null){var f=Et();Xt(a,e,n,f)}No(e,n)}},Jo=function(){return Ge},Zo=function(e,n){var a=Ge;try{return Ge=e,n()}finally{Ge=a}},nt=function(e,n,a){switch(n){case"input":if(me(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var f=a[n];if(f!==e&&f.form===e.form){var b=vi(f);if(!b)throw Error(s(90));J(f),me(f,b)}}}break;case"textarea":Be(e,a);break;case"select":n=a.value,n!=null&&Re(e,!!a.multiple,n,!1)}},Ut=Po,Ln=Xn;var ad={usingClientEntryPoint:!1,Events:[Or,sr,vi,pt,rn,Po]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ld={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vo(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||sd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{ei=rs.inject(ld),Jt=rs}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ad,reactDom_production_min.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zo(n))throw Error(s(200));return id(e,n,null,a)},reactDom_production_min.createRoot=function(e,n){if(!zo(e))throw Error(s(299));var a=!1,f="",b=mu;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Do(e,1,!1,null,null,a,!1,f,b),e[on]=n.current,Lr(e.nodeType===8?e.parentNode:e),new Oo(n)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Vo(n),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return Xn(e)},reactDom_production_min.hydrate=function(e,n,a){if(!ts(n))throw Error(s(200));return ns(null,e,n,!0,a)},reactDom_production_min.hydrateRoot=function(e,n,a){if(!zo(e))throw Error(s(405));var f=a!=null&&a.hydratedSources||null,b=!1,_="",O=mu;if(a!=null&&(a.unstable_strictMode===!0&&(b=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onRecoverableError!==void 0&&(O=a.onRecoverableError)),n=pu(n,null,e,1,a??null,b,!1,_,O),e[on]=n.current,Lr(e),f)for(e=0;e<f.length;e++)a=f[e],b=a._getVersion,b=b(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,b]:n.mutableSourceEagerHydrationData.push(a,b);return new es(n)},reactDom_production_min.render=function(e,n,a){if(!ts(n))throw Error(s(200));return ns(null,e,n,!1,a)},reactDom_production_min.unmountComponentAtNode=function(e){if(!ts(e))throw Error(s(40));return e._reactRootContainer?(Xn(function(){ns(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Po,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,n,a,f){if(!ts(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ns(e,n,a,!1,f)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),Header=({currentPage:t,setCurrentPage:i})=>{const[s,o]=reactExports.useState(!1),l=[{label:"Início",page:"home",icon:"🏠"},{label:"Dashboard",page:"dashboard",icon:"📊"},{label:"Cursos",page:"cursos",icon:"📚"},{label:"Admin",page:"admin",icon:"⚙️"}];return console.log("Menu state:",s),jsxRuntimeExports.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("h1",{className:"text-white font-bold text-lg sm:text-xl",children:"📚 Controlador de estudos"})})}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("div",{className:"ml-10 flex items-baseline space-x-6",children:l.map(({label:h,page:p,icon:g})=>jsxRuntimeExports.jsxs("button",{onClick:()=>i(p),className:`px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${t===p?"bg-black/20 text-white/95 shadow-md transform scale-105":"text-white hover:bg-blue/15 hover:text-gray hover:scale-105"}`,children:[jsxRuntimeExports.jsx("span",{className:"mr-2",children:g}),h]},p))})}),jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>{console.log("Botão clicado! Estado atual:",s),o(!s),console.log("Novo estado:",!s)},className:"inline-flex items-center justify-center p-3 rounded-lg text-white hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-gray/30 transition-all duration-200","aria-label":s?"Fechar menu":"Abrir menu",children:jsxRuntimeExports.jsx("svg",{className:"h-7 w-7",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s?jsxRuntimeExports.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):jsxRuntimeExports.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]}),s&&jsxRuntimeExports.jsx("div",{className:"mobile-menu-visible md:hidden",children:jsxRuntimeExports.jsx("div",{className:"px-2 pt-2 pb-3 space-y-3 sm:px-3",children:l.map(({label:h,page:p,icon:g})=>jsxRuntimeExports.jsxs("button",{onClick:()=>{i(p),o(!1)},className:`mobile-menu-button ${t===p?"active":""}`,children:[jsxRuntimeExports.jsx("span",{className:"mr-3 text-lg",children:g}),h]},p))})})]})})},Main=({children:t})=>jsxRuntimeExports.jsx("main",{className:"flex-1 bg-gray-50 min-h-screen",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:t})})}),Footer=()=>jsxRuntimeExports.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-auto",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 md:mb-0 flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0",children:[jsxRuntimeExports.jsx("img",{src:"/alego-manus/site/alego-estudos-app/logo.png",alt:"Alego Estudos Logo",className:"h-12 w-auto",onError:t=>{t.currentTarget.style.display="none";const i=t.currentTarget.nextElementSibling;i&&(i.style.display="block")}}),jsxRuntimeExports.jsx("div",{className:"text-3xl hidden",children:"📚"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Controlador de estudos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Plataforma completa para preparação de concursos"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Desenvolvido com ❤️ para auxiliar na sua preparação"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"© 2025 Controlador de estudos."})]})]})})}),sections=[{title:"Dashboard",page:"dashboard",emoji:"📊",color:"from-blue-500 to-blue-600",description:"Visualize seu progresso e estatísticas de estudo"},{title:"Cursos",page:"cursos",emoji:"📚",color:"from-green-500 to-green-600",description:"Explore nossos cursos estruturados e organizados"},{title:"Flashcards",page:"flashcards",emoji:"🧠",color:"from-yellow-500 to-yellow-600",description:"Pratique com cartões de memorização inteligentes"},{title:"Simulados",page:"simulado",emoji:"📝",color:"from-purple-500 to-purple-600",description:"Teste seus conhecimentos com simulados realistas"},{title:"Resumos",page:"markdown",emoji:"📄",color:"from-indigo-500 to-indigo-600",description:"Crie e organize seus resumos e anotações"},{title:"PDFs",page:"pdf",emoji:"📖",color:"from-red-500 to-red-600",description:"Visualize e anote seus documentos PDF"}],AppHome=({setCurrentPage:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Bem-vindo ao Controle de estudos para concursos."}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Sua plataforma completa para organizar, estudar e acompanhar seu progresso nos estudos para concursos."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:sections.map(({title:i,page:s,emoji:o,color:l,description:h})=>jsxRuntimeExports.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),jsxRuntimeExports.jsxs("div",{className:"relative p-8",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-6 transform group-hover:scale-110 transition-transform duration-300",children:o}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-gray-700 transition-colors duration-300",children:i}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:h}),jsxRuntimeExports.jsxs("button",{onClick:()=>t(s),className:`w-full bg-gradient-to-r ${l} text-white py-4 px-6 rounded-xl font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300/50 touch-manipulation min-h-[50px] text-base`,children:["Acessar ",i]})]})]},s))}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-8 mt-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"6"}),jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:"Módulos Disponíveis"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"100%"}),jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:"Gratuito"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"24/7"}),jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:"Acesso Ilimitado"})]})]})})]}),Flashcards=()=>{const[t,i]=reactExports.useState(0),[s,o]=reactExports.useState(!1),[l,h]=reactExports.useState(null),p=[{id:1,titulo:"Resolução nº 1.073 - Regulamento Administrativo",quantidade:20,progresso:65,ultimoEstudo:"01/06/2025"},{id:2,titulo:"Resolução nº 1.218 - Regimento Interno",quantidade:30,progresso:40,ultimoEstudo:"31/05/2025"},{id:3,titulo:"Resolução nº 1.771 - Polícia Legislativa",quantidade:20,progresso:25,ultimoEstudo:"30/05/2025"},{id:4,titulo:"Resolução nº 1.007 - Estrutura Administrativa",quantidade:25,progresso:10,ultimoEstudo:"29/05/2025"}],g=[{pergunta:"Quem exerce a administração da Assembleia Legislativa do Estado de Goiás?",resposta:"A administração da Assembleia Legislativa é exercida pela Mesa Diretora, com o apoio dos órgãos de assessoramento, coordenação e execução."},{pergunta:"Quais são os sistemas administrativos que compõem a estrutura da ALEGO?",resposta:"Sistema de Planejamento e Orçamento; Sistema de Administração Financeira; Sistema de Contabilidade; Sistema de Administração de Material e Patrimônio; Sistema de Administração de Serviços Gerais; Sistema de Administração de Recursos Humanos; Sistema de Modernização Administrativa."},{pergunta:"O que são os cargos em comissão na ALEGO?",resposta:"São cargos de livre nomeação e exoneração, destinados às atribuições de direção, chefia e assessoramento, providos por ato do Presidente da Assembleia."},{pergunta:"Quem pode exercer funções especiais de confiança na ALEGO?",resposta:"As funções especiais de confiança são exercidas exclusivamente por servidores ocupantes de cargo efetivo, designados para atribuições de direção, chefia e assessoramento."},{pergunta:"Qual é a restrição para nomeação de parentes para cargos em comissão na ALEGO?",resposta:"É vedada a nomeação para cargo em comissão ou a designação para função especial de confiança de cônjuge, companheiro ou parente até o terceiro grau civil dos membros da Mesa Diretora, salvo se servidor efetivo da Assembleia."}],w=y=>{h(y),i(0),o(!1)},d=()=>{t<g.length-1&&(i(t+1),o(!1))},u=()=>{t>0&&(i(t-1),o(!1))},c=()=>{console.log("Criando nova coleção de flashcards"),alert("Funcionalidade de criação de coleção será implementada na versão final")};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0,border:"none",padding:0},children:"📚 Flashcards"}),jsxRuntimeExports.jsx("button",{className:"simple-btn",onClick:c,children:"Nova Coleção"})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid",style:{gridTemplateColumns:"1fr 2fr",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Minhas Coleções"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},children:p.map(y=>jsxRuntimeExports.jsxs("div",{className:`${l?.id===y.id?"simple-card":""}`,style:{padding:"1rem",cursor:"pointer",border:l?.id===y.id?"2px solid var(--primary-blue)":"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:l?.id===y.id?"rgba(59, 130, 246, 0.05)":"transparent",transition:"all 0.2s ease"},onClick:()=>w(y),children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1rem",margin:"0 0 0.5rem 0",fontWeight:"600"},children:y.titulo}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:"0 0 0.75rem 0"},children:[y.quantidade," cartões"]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"0.75rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginBottom:"0.25rem"},children:[jsxRuntimeExports.jsx("span",{children:"Progresso"}),jsxRuntimeExports.jsxs("span",{children:[y.progresso,"%"]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#e2e8f0",borderRadius:"2px",overflow:"hidden"},children:jsxRuntimeExports.jsx("div",{style:{width:`${y.progresso}%`,height:"100%",backgroundColor:"var(--primary-blue)",transition:"width 0.3s ease"}})})]}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:["Último estudo: ",y.ultimoEstudo]})]},y.id))})]}),jsxRuntimeExports.jsx("div",{children:l?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0},children:l.titulo}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[jsxRuntimeExports.jsx("button",{className:"simple-btn",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"Modo Estudo"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"Modo Teste"})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",style:{border:"2px solid var(--border-color)",minHeight:"350px"},children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center",minHeight:"300px"},children:s?jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-secondary)",margin:0},children:"Resposta:"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.6",margin:0},children:g[t].resposta})]}):jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",margin:0},children:"Pergunta:"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.6",margin:0},children:g[t].pergunta})]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid var(--border-color)",padding:"1rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",onClick:u,disabled:t===0,style:{padding:"0.5rem 1rem",opacity:t===0?.5:1,cursor:t===0?"not-allowed":"pointer"},children:"← Anterior"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",onClick:d,disabled:t===g.length-1,style:{padding:"0.5rem 1rem",opacity:t===g.length-1?.5:1,cursor:t===g.length-1?"not-allowed":"pointer"},children:"Próximo →"})]}),jsxRuntimeExports.jsx("button",{className:"simple-btn",onClick:()=>o(!s),style:{padding:"0.5rem 1.5rem"},children:s?"Ver Pergunta":"Ver Resposta"})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Cartão ",t+1," de ",g.length]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem",color:"#ef4444",borderColor:"#ef4444"},children:"Difícil"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem",color:"#f59e0b",borderColor:"#f59e0b"},children:"Médio"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem",color:"#10b981",borderColor:"#10b981"},children:"Fácil"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"simple-card",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"500px"},children:jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",marginBottom:"1rem"},children:"Nenhuma coleção selecionada"}),jsxRuntimeExports.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem"},children:"Selecione uma coleção existente ou crie uma nova"}),jsxRuntimeExports.jsx("button",{className:"simple-btn",onClick:c,children:"Criar Nova Coleção"})]})})})]})]})};function r(t){var i,s,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(i=0;i<l;i++)t[i]&&(s=r(t[i]))&&(o&&(o+=" "),o+=s)}else for(s in t)t[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var t,i,s=0,o="",l=arguments.length;s<l;s++)(t=arguments[s])&&(i=r(t))&&(o&&(o+=" "),o+=i);return o}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=t=>{const i=createClassMap(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:p=>{const g=p.split(CLASS_PART_SEPARATOR);return g[0]===""&&g.length!==1&&g.shift(),getGroupRecursive(g,i)||getGroupIdForArbitraryProperty(p)},getConflictingClassGroupIds:(p,g)=>{const w=s[p]||[];return g&&o[p]?[...w,...o[p]]:w}}},getGroupRecursive=(t,i)=>{if(t.length===0)return i.classGroupId;const s=t[0],o=i.nextPart.get(s),l=o?getGroupRecursive(t.slice(1),o):void 0;if(l)return l;if(i.validators.length===0)return;const h=t.join(CLASS_PART_SEPARATOR);return i.validators.find(({validator:p})=>p(h))?.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=t=>{if(arbitraryPropertyRegex.test(t)){const i=arbitraryPropertyRegex.exec(t)[1],s=i?.substring(0,i.indexOf(":"));if(s)return"arbitrary.."+s}},createClassMap=t=>{const{theme:i,classGroups:s}=t,o={nextPart:new Map,validators:[]};for(const l in s)processClassesRecursively(s[l],o,l,i);return o},processClassesRecursively=(t,i,s,o)=>{t.forEach(l=>{if(typeof l=="string"){const h=l===""?i:getPart(i,l);h.classGroupId=s;return}if(typeof l=="function"){if(isThemeGetter(l)){processClassesRecursively(l(o),i,s,o);return}i.validators.push({validator:l,classGroupId:s});return}Object.entries(l).forEach(([h,p])=>{processClassesRecursively(p,getPart(i,h),s,o)})})},getPart=(t,i)=>{let s=t;return i.split(CLASS_PART_SEPARATOR).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},isThemeGetter=t=>t.isThemeGetter,createLruCache=t=>{if(t<1)return{get:()=>{},set:()=>{}};let i=0,s=new Map,o=new Map;const l=(h,p)=>{s.set(h,p),i++,i>t&&(i=0,o=s,s=new Map)};return{get(h){let p=s.get(h);if(p!==void 0)return p;if((p=o.get(h))!==void 0)return l(h,p),p},set(h,p){s.has(h)?s.set(h,p):l(h,p)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=t=>{const{prefix:i,experimentalParseClassName:s}=t;let o=l=>{const h=[];let p=0,g=0,w=0,d;for(let m=0;m<l.length;m++){let S=l[m];if(p===0&&g===0){if(S===MODIFIER_SEPARATOR){h.push(l.slice(w,m)),w=m+MODIFIER_SEPARATOR_LENGTH;continue}if(S==="/"){d=m;continue}}S==="["?p++:S==="]"?p--:S==="("?g++:S===")"&&g--}const u=h.length===0?l:l.substring(w),c=stripImportantModifier(u),y=c!==u,x=d&&d>w?d-w:void 0;return{modifiers:h,hasImportantModifier:y,baseClassName:c,maybePostfixModifierPosition:x}};if(i){const l=i+MODIFIER_SEPARATOR,h=o;o=p=>p.startsWith(l)?h(p.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:p,maybePostfixModifierPosition:void 0}}if(s){const l=o;o=h=>s({className:h,parseClassName:l})}return o},stripImportantModifier=t=>t.endsWith(IMPORTANT_MODIFIER)?t.substring(0,t.length-1):t.startsWith(IMPORTANT_MODIFIER)?t.substring(1):t,createSortModifiers=t=>{const i=Object.fromEntries(t.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const l=[];let h=[];return o.forEach(p=>{p[0]==="["||i[p]?(l.push(...h.sort(),p),h=[]):h.push(p)}),l.push(...h.sort()),l}},createConfigUtils=t=>({cache:createLruCache(t.cacheSize),parseClassName:createParseClassName(t),sortModifiers:createSortModifiers(t),...createClassGroupUtils(t)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(t,i)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:l,sortModifiers:h}=i,p=[],g=t.trim().split(SPLIT_CLASSES_REGEX);let w="";for(let d=g.length-1;d>=0;d-=1){const u=g[d],{isExternal:c,modifiers:y,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:S}=s(u);if(c){w=u+(w.length>0?" "+w:w);continue}let k=!!S,E=o(k?m.substring(0,S):m);if(!E){if(!k){w=u+(w.length>0?" "+w:w);continue}if(E=o(m),!E){w=u+(w.length>0?" "+w:w);continue}k=!1}const I=h(y).join(":"),L=x?I+IMPORTANT_MODIFIER:I,z=L+E;if(p.includes(z))continue;p.push(z);const j=l(E,k);for(let F=0;F<j.length;++F){const V=j[F];p.push(L+V)}w=u+(w.length>0?" "+w:w)}return w};function twJoin(){let t=0,i,s,o="";for(;t<arguments.length;)(i=arguments[t++])&&(s=toValue(i))&&(o&&(o+=" "),o+=s);return o}const toValue=t=>{if(typeof t=="string")return t;let i,s="";for(let o=0;o<t.length;o++)t[o]&&(i=toValue(t[o]))&&(s&&(s+=" "),s+=i);return s};function createTailwindMerge(t,...i){let s,o,l,h=p;function p(w){const d=i.reduce((u,c)=>c(u),t());return s=createConfigUtils(d),o=s.cache.get,l=s.cache.set,h=g,g(w)}function g(w){const d=o(w);if(d)return d;const u=mergeClassList(w,s);return l(w,u),u}return function(){return h(twJoin.apply(null,arguments))}}const fromTheme=t=>{const i=s=>s[t]||[];return i.isThemeGetter=!0,i},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=t=>fractionRegex.test(t),isNumber=t=>!!t&&!Number.isNaN(Number(t)),isInteger=t=>!!t&&Number.isInteger(Number(t)),isPercent=t=>t.endsWith("%")&&isNumber(t.slice(0,-1)),isTshirtSize=t=>tshirtUnitRegex.test(t),isAny=()=>!0,isLengthOnly=t=>lengthUnitRegex.test(t)&&!colorFunctionRegex.test(t),isNever=()=>!1,isShadow=t=>shadowRegex.test(t),isImage=t=>imageRegex.test(t),isAnyNonArbitrary=t=>!isArbitraryValue(t)&&!isArbitraryVariable(t),isArbitrarySize=t=>getIsArbitraryValue(t,isLabelSize,isNever),isArbitraryValue=t=>arbitraryValueRegex.test(t),isArbitraryLength=t=>getIsArbitraryValue(t,isLabelLength,isLengthOnly),isArbitraryNumber=t=>getIsArbitraryValue(t,isLabelNumber,isNumber),isArbitraryPosition=t=>getIsArbitraryValue(t,isLabelPosition,isNever),isArbitraryImage=t=>getIsArbitraryValue(t,isLabelImage,isImage),isArbitraryShadow=t=>getIsArbitraryValue(t,isLabelShadow,isShadow),isArbitraryVariable=t=>arbitraryVariableRegex.test(t),isArbitraryVariableLength=t=>getIsArbitraryVariable(t,isLabelLength),isArbitraryVariableFamilyName=t=>getIsArbitraryVariable(t,isLabelFamilyName),isArbitraryVariablePosition=t=>getIsArbitraryVariable(t,isLabelPosition),isArbitraryVariableSize=t=>getIsArbitraryVariable(t,isLabelSize),isArbitraryVariableImage=t=>getIsArbitraryVariable(t,isLabelImage),isArbitraryVariableShadow=t=>getIsArbitraryVariable(t,isLabelShadow,!0),getIsArbitraryValue=(t,i,s)=>{const o=arbitraryValueRegex.exec(t);return o?o[1]?i(o[1]):s(o[2]):!1},getIsArbitraryVariable=(t,i,s=!1)=>{const o=arbitraryVariableRegex.exec(t);return o?o[1]?i(o[1]):s:!1},isLabelPosition=t=>t==="position"||t==="percentage",isLabelImage=t=>t==="image"||t==="url",isLabelSize=t=>t==="length"||t==="size"||t==="bg-size",isLabelLength=t=>t==="length",isLabelNumber=t=>t==="number",isLabelFamilyName=t=>t==="family-name",isLabelShadow=t=>t==="shadow",getDefaultConfig=()=>{const t=fromTheme("color"),i=fromTheme("font"),s=fromTheme("text"),o=fromTheme("font-weight"),l=fromTheme("tracking"),h=fromTheme("leading"),p=fromTheme("breakpoint"),g=fromTheme("container"),w=fromTheme("spacing"),d=fromTheme("radius"),u=fromTheme("shadow"),c=fromTheme("inset-shadow"),y=fromTheme("text-shadow"),x=fromTheme("drop-shadow"),m=fromTheme("blur"),S=fromTheme("perspective"),k=fromTheme("aspect"),E=fromTheme("ease"),I=fromTheme("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...z(),isArbitraryVariable,isArbitraryValue],F=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],H=()=>[isArbitraryVariable,isArbitraryValue,w],X=()=>[isFraction,"full","auto",...H()],q=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],Q=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],ie=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],te=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...H()],G=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],P=()=>[t,isArbitraryVariable,isArbitraryValue],T=()=>[...z(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],v=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],N=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],R=()=>["","none","full",d,isArbitraryVariable,isArbitraryValue],W=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],B=()=>["solid","dashed","dotted","double"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],D=()=>["","none",m,isArbitraryVariable,isArbitraryValue],U=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],$=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],K=()=>[isNumber,isArbitraryVariable,isArbitraryValue],J=()=>[isFraction,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,k]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,g]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",g,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[g,"screen",...G()]}],"min-w":[{"min-w":[g,"screen","none",...G()]}],"max-w":[{"max-w":[g,"screen","none","prose",{screen:[p]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",s,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[h,...H()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:v()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:N()}],"gradient-via-pos":[{via:N()}],"gradient-to-pos":[{to:N()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",u,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",c,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",y,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...A(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":A()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":M()}],"mask-image-linear-to-pos":[{"mask-linear-to":M()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":M()}],"mask-image-t-to-pos":[{"mask-t-to":M()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":M()}],"mask-image-r-to-pos":[{"mask-r-to":M()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":M()}],"mask-image-b-to-pos":[{"mask-b-to":M()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":M()}],"mask-image-l-to-pos":[{"mask-l-to":M()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":M()}],"mask-image-x-to-pos":[{"mask-x-to":M()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":M()}],"mask-image-y-to-pos":[{"mask-y-to":M()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":M()}],"mask-image-radial-to-pos":[{"mask-radial-to":M()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":M()}],"mask-image-conic-to-pos":[{"mask-conic-to":M()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:v()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:D()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",x,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",E,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",I,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:U()}],"rotate-x":[{"rotate-x":U()}],"rotate-y":[{"rotate-y":U()}],"rotate-z":[{"rotate-z":U()}],scale:[{scale:$()}],"scale-x":[{"scale-x":$()}],"scale-y":[{"scale-y":$()}],"scale-z":[{"scale-z":$()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:J()}],"translate-x":[{"translate-x":J()}],"translate-y":[{"translate-y":J()}],"translate-z":[{"translate-z":J()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...t){return twMerge(clsx(t))}function Card({className:t,...i}){return jsxRuntimeExports.jsx("div",{"data-slot":"card",className:cn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...i})}function CardHeader({className:t,...i}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-header",className:cn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...i})}function CardTitle({className:t,...i}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-title",className:cn("leading-none font-semibold",t),...i})}function CardContent({className:t,...i}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-content",className:cn("px-6",t),...i})}const Button=({children:t,variant:i="default",size:s="md",className:o="",...l})=>{const h="inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",p={default:"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-500 shadow-md hover:shadow-lg",outline:"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900 focus:ring-blue-500 text-gray-700",ghost:"hover:bg-gray-100 hover:text-gray-900 focus:ring-blue-500 text-gray-700"},g={xs:"h-8 px-3 text-xs min-h-[32px]",sm:"h-10 px-4 text-sm min-h-[40px]",md:"h-12 px-6 py-3 min-h-[48px] text-base touch-manipulation",lg:"h-14 px-8 text-lg min-h-[56px] touch-manipulation"};return jsxRuntimeExports.jsx("button",{className:`${h} ${p[i]} ${g[s]} ${o}`,...l,children:t})},questoes=[{id:1,enunciado:"Qual é a função da Resolução nº 1.073 na ALEGO?",alternativas:["Define o Regimento Interno","Regulamenta a Estrutura Administrativa","Regulamento Administrativo","Organiza a Polícia Legislativa"],correta:2},{id:2,enunciado:"Quantos artigos tem a Resolução nº 1.007?",alternativas:["25","30","45","50"],correta:3}],SimuladoArea=()=>{const[t,i]=reactExports.useState({}),[s,o]=reactExports.useState(!1),l=(g,w)=>{i(d=>({...d,[g]:w}))},h=()=>o(!0),p=questoes.filter(g=>t[g.id]===g.correta).length;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0},children:"📝 Simulado"}),jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:h,disabled:s,children:"Corrigir"})]}),jsxRuntimeExports.jsx("div",{className:"simple-grid",style:{gap:"1.5rem"},children:questoes.map(g=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["Questão ",g.id]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{children:g.enunciado}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex flex-col gap-2",children:g.alternativas.map((w,d)=>{const u=t[g.id]===d,c=s&&g.correta===d,y=s&&u&&g.correta!==d;return jsxRuntimeExports.jsx("button",{className:`w-full text-left p-3 rounded-md border transition-all ${u?"border-blue-500 bg-blue-50":"border-gray-200 hover:shadow"} ${c?"bg-green-100 border-green-500":""} ${y?"bg-red-100 border-red-500":""}`,onClick:()=>l(g.id,d),disabled:s,children:w},d)})})]})]},g.id))}),s&&jsxRuntimeExports.jsx("div",{className:"simple-card text-center mt-6",children:jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold",children:["Você acertou ",p," de ",questoes.length," questões."]})})]})},protocols=["http","https","mailto","tel"];function uriTransformer(t){const i=(t||"").trim(),s=i.charAt(0);if(s==="#"||s==="/")return i;const o=i.indexOf(":");if(o===-1)return i;let l=-1;for(;++l<protocols.length;){const h=protocols[l];if(o===h.length&&i.slice(0,h.length).toLowerCase()===h)return i}return l=i.indexOf("?"),l!==-1&&o>l||(l=i.indexOf("#"),l!==-1&&o>l)?i:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer$1,hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,isBuffer$1=function(i){return i!=null&&i.constructor!=null&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}),isBuffer$1}var isBufferExports=requireIsBuffer();const isBuffer=getDefaultExportFromCjs(isBufferExports);function stringifyPosition(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?position$1(t.position):"start"in t||"end"in t?position$1(t):"line"in t||"column"in t?point$2(t):""}function point$2(t){return index(t&&t.line)+":"+index(t&&t.column)}function position$1(t){return point$2(t&&t.start)+"-"+point$2(t&&t.end)}function index(t){return t&&typeof t=="number"?t:1}class VFileMessage extends Error{constructor(i,s,o){const l=[null,null];let h={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof s=="string"&&(o=s,s=void 0),typeof o=="string"){const p=o.indexOf(":");p===-1?l[1]=o:(l[0]=o.slice(0,p),l[1]=o.slice(p+1))}s&&("type"in s||"position"in s?s.position&&(h=s.position):"start"in s||"end"in s?h=s:("line"in s||"column"in s)&&(h.start=s)),this.name=stringifyPosition(s)||"1:1",this.message=typeof i=="object"?i.message:i,this.stack="",typeof i=="object"&&i.stack&&(this.stack=i.stack),this.reason=this.message,this.fatal,this.line=h.start.line,this.column=h.start.column,this.position=h,this.source=l[0],this.ruleId=l[1],this.file,this.actual,this.expected,this.url,this.note}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.fatal=null;VFileMessage.prototype.column=null;VFileMessage.prototype.line=null;VFileMessage.prototype.source=null;VFileMessage.prototype.ruleId=null;VFileMessage.prototype.position=null;const path$1={basename,dirname,extname,join,sep:"/"};function basename(t,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(t);let s=0,o=-1,l=t.length,h;if(i===void 0||i.length===0||i.length>t.length){for(;l--;)if(t.charCodeAt(l)===47){if(h){s=l+1;break}}else o<0&&(h=!0,o=l+1);return o<0?"":t.slice(s,o)}if(i===t)return"";let p=-1,g=i.length-1;for(;l--;)if(t.charCodeAt(l)===47){if(h){s=l+1;break}}else p<0&&(h=!0,p=l+1),g>-1&&(t.charCodeAt(l)===i.charCodeAt(g--)?g<0&&(o=l):(g=-1,o=p));return s===o?o=p:o<0&&(o=t.length),t.slice(s,o)}function dirname(t){if(assertPath$1(t),t.length===0)return".";let i=-1,s=t.length,o;for(;--s;)if(t.charCodeAt(s)===47){if(o){i=s;break}}else o||(o=!0);return i<0?t.charCodeAt(0)===47?"/":".":i===1&&t.charCodeAt(0)===47?"//":t.slice(0,i)}function extname(t){assertPath$1(t);let i=t.length,s=-1,o=0,l=-1,h=0,p;for(;i--;){const g=t.charCodeAt(i);if(g===47){if(p){o=i+1;break}continue}s<0&&(p=!0,s=i+1),g===46?l<0?l=i:h!==1&&(h=1):l>-1&&(h=-1)}return l<0||s<0||h===0||h===1&&l===s-1&&l===o+1?"":t.slice(l,s)}function join(...t){let i=-1,s;for(;++i<t.length;)assertPath$1(t[i]),t[i]&&(s=s===void 0?t[i]:s+"/"+t[i]);return s===void 0?".":normalize$1(s)}function normalize$1(t){assertPath$1(t);const i=t.charCodeAt(0)===47;let s=normalizeString(t,!i);return s.length===0&&!i&&(s="."),s.length>0&&t.charCodeAt(t.length-1)===47&&(s+="/"),i?"/"+s:s}function normalizeString(t,i){let s="",o=0,l=-1,h=0,p=-1,g,w;for(;++p<=t.length;){if(p<t.length)g=t.charCodeAt(p);else{if(g===47)break;g=47}if(g===47){if(!(l===p-1||h===1))if(l!==p-1&&h===2){if(s.length<2||o!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){if(w=s.lastIndexOf("/"),w!==s.length-1){w<0?(s="",o=0):(s=s.slice(0,w),o=s.length-1-s.lastIndexOf("/")),l=p,h=0;continue}}else if(s.length>0){s="",o=0,l=p,h=0;continue}}i&&(s=s.length>0?s+"/..":"..",o=2)}else s.length>0?s+="/"+t.slice(l+1,p):s=t.slice(l+1,p),o=p-l-1;l=p,h=0}else g===46&&h>-1?h++:h=-1}return s}function assertPath$1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const proc={cwd};function cwd(){return"/"}function isUrl(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function urlToPath(t){if(typeof t=="string")t=new URL(t);else if(!isUrl(t)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(t.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return getPathFromURLPosix(t)}function getPathFromURLPosix(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const i=t.pathname;let s=-1;for(;++s<i.length;)if(i.charCodeAt(s)===37&&i.charCodeAt(s+1)===50){const o=i.charCodeAt(s+2);if(o===70||o===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(i)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(i){let s;i?typeof i=="string"||buffer(i)?s={value:i}:isUrl(i)?s={path:i}:s=i:s={},this.data={},this.messages=[],this.history=[],this.cwd=proc.cwd(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<order.length;){const h=order[o];h in s&&s[h]!==void 0&&s[h]!==null&&(this[h]=h==="history"?[...s[h]]:s[h])}let l;for(l in s)order.includes(l)||(this[l]=s[l])}get path(){return this.history[this.history.length-1]}set path(i){isUrl(i)&&(i=urlToPath(i)),assertNonEmpty(i,"path"),this.path!==i&&this.history.push(i)}get dirname(){return typeof this.path=="string"?path$1.dirname(this.path):void 0}set dirname(i){assertPath(this.basename,"dirname"),this.path=path$1.join(i||"",this.basename)}get basename(){return typeof this.path=="string"?path$1.basename(this.path):void 0}set basename(i){assertNonEmpty(i,"basename"),assertPart(i,"basename"),this.path=path$1.join(this.dirname||"",i)}get extname(){return typeof this.path=="string"?path$1.extname(this.path):void 0}set extname(i){if(assertPart(i,"extname"),assertPath(this.dirname,"extname"),i){if(i.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=path$1.join(this.dirname,this.stem+(i||""))}get stem(){return typeof this.path=="string"?path$1.basename(this.path,this.extname):void 0}set stem(i){assertNonEmpty(i,"stem"),assertPart(i,"stem"),this.path=path$1.join(this.dirname||"",i+(this.extname||""))}toString(i){return(this.value||"").toString(i||void 0)}message(i,s,o){const l=new VFileMessage(i,s,o);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}info(i,s,o){const l=this.message(i,s,o);return l.fatal=null,l}fail(i,s,o){const l=this.message(i,s,o);throw l.fatal=!0,l}}function assertPart(t,i){if(t&&t.includes(path$1.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+path$1.sep+"`")}function assertNonEmpty(t,i){if(!t)throw new Error("`"+i+"` cannot be empty")}function assertPath(t,i){if(!t)throw new Error("Setting `"+i+"` requires `path` to be set too")}function buffer(t){return isBuffer(t)}function bail(t){if(t)throw t}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):i.call(d)==="[object Array]"},h=function(d){if(!d||i.call(d)!=="[object Object]")return!1;var u=t.call(d,"constructor"),c=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!u&&!c)return!1;var y;for(y in d);return typeof y>"u"||t.call(d,y)},p=function(d,u){s&&u.name==="__proto__"?s(d,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):d[u.name]=u.newValue},g=function(d,u){if(u==="__proto__")if(t.call(d,u)){if(o)return o(d,u).value}else return;return d[u]};return extend$1=function w(){var d,u,c,y,x,m,S=arguments[0],k=1,E=arguments.length,I=!1;for(typeof S=="boolean"&&(I=S,S=arguments[1]||{},k=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});k<E;++k)if(d=arguments[k],d!=null)for(u in d)c=g(S,u),y=g(d,u),S!==y&&(I&&y&&(h(y)||(x=l(y)))?(x?(x=!1,m=c&&l(c)?c:[]):m=c&&h(c)?c:{},p(S,{name:u,newValue:w(I,m,y)})):typeof y<"u"&&p(S,{name:u,newValue:y}));return S},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function trough(){const t=[],i={run:s,use:o};return i;function s(...l){let h=-1;const p=l.pop();if(typeof p!="function")throw new TypeError("Expected function as last argument, not "+p);g(null,...l);function g(w,...d){const u=t[++h];let c=-1;if(w){p(w);return}for(;++c<l.length;)(d[c]===null||d[c]===void 0)&&(d[c]=l[c]);l=d,u?wrap$1(u,g)(...d):p(null,...d)}}function o(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return t.push(l),i}}function wrap$1(t,i){let s;return o;function o(...p){const g=t.length>p.length;let w;g&&p.push(l);try{w=t.apply(this,p)}catch(d){const u=d;if(g&&s)throw u;return l(u)}g||(w&&w.then&&typeof w.then=="function"?w.then(h,l):w instanceof Error?l(w):h(w))}function l(p,...g){s||(s=!0,i(p,...g))}function h(p){l(null,p)}}const unified=base().freeze(),own$7={}.hasOwnProperty;function base(){const t=trough(),i=[];let s={},o,l=-1;return h.data=p,h.Parser=void 0,h.Compiler=void 0,h.freeze=g,h.attachers=i,h.use=w,h.parse=d,h.stringify=u,h.run=c,h.runSync=y,h.process=x,h.processSync=m,h;function h(){const S=base();let k=-1;for(;++k<i.length;)S.use(...i[k]);return S.data(extend(!0,{},s)),S}function p(S,k){return typeof S=="string"?arguments.length===2?(assertUnfrozen("data",o),s[S]=k,h):own$7.call(s,S)&&s[S]||null:S?(assertUnfrozen("data",o),s=S,h):s}function g(){if(o)return h;for(;++l<i.length;){const[S,...k]=i[l];if(k[0]===!1)continue;k[0]===!0&&(k[0]=void 0);const E=S.call(h,...k);typeof E=="function"&&t.use(E)}return o=!0,l=Number.POSITIVE_INFINITY,h}function w(S,...k){let E;if(assertUnfrozen("use",o),S!=null)if(typeof S=="function")j(S,...k);else if(typeof S=="object")Array.isArray(S)?z(S):L(S);else throw new TypeError("Expected usable value, not `"+S+"`");return E&&(s.settings=Object.assign(s.settings||{},E)),h;function I(F){if(typeof F=="function")j(F);else if(typeof F=="object")if(Array.isArray(F)){const[V,...H]=F;j(V,...H)}else L(F);else throw new TypeError("Expected usable value, not `"+F+"`")}function L(F){z(F.plugins),F.settings&&(E=Object.assign(E||{},F.settings))}function z(F){let V=-1;if(F!=null)if(Array.isArray(F))for(;++V<F.length;){const H=F[V];I(H)}else throw new TypeError("Expected a list of plugins, not `"+F+"`")}function j(F,V){let H=-1,X;for(;++H<i.length;)if(i[H][0]===F){X=i[H];break}X?(isPlainObject(X[1])&&isPlainObject(V)&&(V=extend(!0,X[1],V)),X[1]=V):i.push([...arguments])}}function d(S){h.freeze();const k=vfile(S),E=h.Parser;return assertParser("parse",E),newable(E,"parse")?new E(String(k),k).parse():E(String(k),k)}function u(S,k){h.freeze();const E=vfile(k),I=h.Compiler;return assertCompiler("stringify",I),assertNode(S),newable(I,"compile")?new I(S,E).compile():I(S,E)}function c(S,k,E){if(assertNode(S),h.freeze(),!E&&typeof k=="function"&&(E=k,k=void 0),!E)return new Promise(I);I(null,E);function I(L,z){t.run(S,vfile(k),j);function j(F,V,H){V=V||S,F?z(F):L?L(V):E(null,V,H)}}}function y(S,k){let E,I;return h.run(S,k,L),assertDone("runSync","run",I),E;function L(z,j){bail(z),E=j,I=!0}}function x(S,k){if(h.freeze(),assertParser("process",h.Parser),assertCompiler("process",h.Compiler),!k)return new Promise(E);E(null,k);function E(I,L){const z=vfile(S);h.run(h.parse(z),z,(F,V,H)=>{if(F||!V||!H)j(F);else{const X=h.stringify(V,H);X==null||(looksLikeAVFileValue(X)?H.value=X:H.result=X),j(F,H)}});function j(F,V){F||!V?L(F):I?I(V):k(null,V)}}}function m(S){let k;h.freeze(),assertParser("processSync",h.Parser),assertCompiler("processSync",h.Compiler);const E=vfile(S);return h.process(E,I),assertDone("processSync","process",k),E;function I(L){k=!0,bail(L)}}}function newable(t,i){return typeof t=="function"&&t.prototype&&(keys(t.prototype)||i in t.prototype)}function keys(t){let i;for(i in t)if(own$7.call(t,i))return!0;return!1}function assertParser(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function assertCompiler(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function assertUnfrozen(t,i){if(i)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(t){if(!isPlainObject(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function assertDone(t,i,s){if(!s)throw new Error("`"+t+"` finished async. Use `"+i+"` instead")}function vfile(t){return looksLikeAVFile(t)?t:new VFile(t)}function looksLikeAVFile(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function looksLikeAVFileValue(t){return typeof t=="string"||isBuffer(t)}const emptyOptions={};function toString(t,i){const s=emptyOptions,o=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,l=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return one$1(t,o,l)}function one$1(t,i,s){if(node(t)){if("value"in t)return t.type==="html"&&!s?"":t.value;if(i&&"alt"in t&&t.alt)return t.alt;if("children"in t)return all$1(t.children,i,s)}return Array.isArray(t)?all$1(t,i,s):""}function all$1(t,i,s){const o=[];let l=-1;for(;++l<t.length;)o[l]=one$1(t[l],i,s);return o.join("")}function node(t){return!!(t&&typeof t=="object")}function splice(t,i,s,o){const l=t.length;let h=0,p;if(i<0?i=-i>l?0:l+i:i=i>l?l:i,s=s>0?s:0,o.length<1e4)p=Array.from(o),p.unshift(i,s),t.splice(...p);else for(s&&t.splice(i,s);h<o.length;)p=o.slice(h,h+1e4),p.unshift(i,0),t.splice(...p),h+=1e4,i+=1e4}function push(t,i){return t.length>0?(splice(t,t.length,0,i),t):i}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(t){const i={};let s=-1;for(;++s<t.length;)syntaxExtension(i,t[s]);return i}function syntaxExtension(t,i){let s;for(s in i){const l=(hasOwnProperty.call(t,s)?t[s]:void 0)||(t[s]={}),h=i[s];let p;if(h)for(p in h){hasOwnProperty.call(l,p)||(l[p]=[]);const g=h[p];constructs(l[p],Array.isArray(g)?g:g?[g]:[])}}}function constructs(t,i){let s=-1;const o=[];for(;++s<i.length;)(i[s].add==="after"?t:o).push(i[s]);splice(t,0,0,o)}const unicodePunctuationRegex=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(t){return t!==null&&(t<32||t===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(t){return t!==null&&t<-2}function markdownLineEndingOrSpace(t){return t!==null&&(t<0||t===32)}function markdownSpace(t){return t===-2||t===-1||t===32}const unicodePunctuation=regexCheck(unicodePunctuationRegex),unicodeWhitespace=regexCheck(/\s/);function regexCheck(t){return i;function i(s){return s!==null&&t.test(String.fromCharCode(s))}}function factorySpace(t,i,s,o){const l=o?o-1:Number.POSITIVE_INFINITY;let h=0;return p;function p(w){return markdownSpace(w)?(t.enter(s),g(w)):i(w)}function g(w){return markdownSpace(w)&&h++<l?(t.consume(w),g):(t.exit(s),i(w))}}const content$1={tokenize:initializeContent};function initializeContent(t){const i=t.attempt(this.parser.constructs.contentInitial,o,l);let s;return i;function o(g){if(g===null){t.consume(g);return}return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),factorySpace(t,i,"linePrefix")}function l(g){return t.enter("paragraph"),h(g)}function h(g){const w=t.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=w),s=w,p(g)}function p(g){if(g===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(g);return}return markdownLineEnding(g)?(t.consume(g),t.exit("chunkText"),h):(t.consume(g),p)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(t){const i=this,s=[];let o=0,l,h,p;return g;function g(L){if(o<s.length){const z=s[o];return i.containerState=z[1],t.attempt(z[0].continuation,w,d)(L)}return d(L)}function w(L){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,l&&I();const z=i.events.length;let j=z,F;for(;j--;)if(i.events[j][0]==="exit"&&i.events[j][1].type==="chunkFlow"){F=i.events[j][1].end;break}E(o);let V=z;for(;V<i.events.length;)i.events[V][1].end=Object.assign({},F),V++;return splice(i.events,j+1,0,i.events.slice(z)),i.events.length=V,d(L)}return g(L)}function d(L){if(o===s.length){if(!l)return y(L);if(l.currentConstruct&&l.currentConstruct.concrete)return m(L);i.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return i.containerState={},t.check(containerConstruct,u,c)(L)}function u(L){return l&&I(),E(o),y(L)}function c(L){return i.parser.lazy[i.now().line]=o!==s.length,p=i.now().offset,m(L)}function y(L){return i.containerState={},t.attempt(containerConstruct,x,m)(L)}function x(L){return o++,s.push([i.currentConstruct,i.containerState]),y(L)}function m(L){if(L===null){l&&I(),E(0),t.consume(L);return}return l=l||i.parser.flow(i.now()),t.enter("chunkFlow",{contentType:"flow",previous:h,_tokenizer:l}),S(L)}function S(L){if(L===null){k(t.exit("chunkFlow"),!0),E(0),t.consume(L);return}return markdownLineEnding(L)?(t.consume(L),k(t.exit("chunkFlow")),o=0,i.interrupt=void 0,g):(t.consume(L),S)}function k(L,z){const j=i.sliceStream(L);if(z&&j.push(null),L.previous=h,h&&(h.next=L),h=L,l.defineSkip(L.start),l.write(j),i.parser.lazy[L.start.line]){let F=l.events.length;for(;F--;)if(l.events[F][1].start.offset<p&&(!l.events[F][1].end||l.events[F][1].end.offset>p))return;const V=i.events.length;let H=V,X,q;for(;H--;)if(i.events[H][0]==="exit"&&i.events[H][1].type==="chunkFlow"){if(X){q=i.events[H][1].end;break}X=!0}for(E(o),F=V;F<i.events.length;)i.events[F][1].end=Object.assign({},q),F++;splice(i.events,H+1,0,i.events.slice(V)),i.events.length=F}}function E(L){let z=s.length;for(;z-- >L;){const j=s[z];i.containerState=j[1],j[0].exit.call(i,t)}s.length=L}function I(){l.write([null]),h=void 0,l=void 0,i.containerState._closeFlow=void 0}}function tokenizeContainer(t,i,s){return factorySpace(t,t.attempt(this.parser.constructs.document,i,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(t){if(t===null||markdownLineEndingOrSpace(t)||unicodeWhitespace(t))return 1;if(unicodePunctuation(t))return 2}function resolveAll(t,i,s){const o=[];let l=-1;for(;++l<t.length;){const h=t[l].resolveAll;h&&!o.includes(h)&&(i=h(i,s),o.push(h))}return i}const attention={name:"attention",tokenize:tokenizeAttention,resolveAll:resolveAllAttention};function resolveAllAttention(t,i){let s=-1,o,l,h,p,g,w,d,u;for(;++s<t.length;)if(t[s][0]==="enter"&&t[s][1].type==="attentionSequence"&&t[s][1]._close){for(o=s;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&i.sliceSerialize(t[o][1]).charCodeAt(0)===i.sliceSerialize(t[s][1]).charCodeAt(0)){if((t[o][1]._close||t[s][1]._open)&&(t[s][1].end.offset-t[s][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[s][1].end.offset-t[s][1].start.offset)%3))continue;w=t[o][1].end.offset-t[o][1].start.offset>1&&t[s][1].end.offset-t[s][1].start.offset>1?2:1;const c=Object.assign({},t[o][1].end),y=Object.assign({},t[s][1].start);movePoint(c,-w),movePoint(y,w),p={type:w>1?"strongSequence":"emphasisSequence",start:c,end:Object.assign({},t[o][1].end)},g={type:w>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[s][1].start),end:y},h={type:w>1?"strongText":"emphasisText",start:Object.assign({},t[o][1].end),end:Object.assign({},t[s][1].start)},l={type:w>1?"strong":"emphasis",start:Object.assign({},p.start),end:Object.assign({},g.end)},t[o][1].end=Object.assign({},p.start),t[s][1].start=Object.assign({},g.end),d=[],t[o][1].end.offset-t[o][1].start.offset&&(d=push(d,[["enter",t[o][1],i],["exit",t[o][1],i]])),d=push(d,[["enter",l,i],["enter",p,i],["exit",p,i],["enter",h,i]]),d=push(d,resolveAll(i.parser.constructs.insideSpan.null,t.slice(o+1,s),i)),d=push(d,[["exit",h,i],["enter",g,i],["exit",g,i],["exit",l,i]]),t[s][1].end.offset-t[s][1].start.offset?(u=2,d=push(d,[["enter",t[s][1],i],["exit",t[s][1],i]])):u=0,splice(t,o-1,s-o+3,d),s=o+d.length-u-2;break}}for(s=-1;++s<t.length;)t[s][1].type==="attentionSequence"&&(t[s][1].type="data");return t}function tokenizeAttention(t,i){const s=this.parser.constructs.attentionMarkers.null,o=this.previous,l=classifyCharacter(o);let h;return p;function p(w){return h=w,t.enter("attentionSequence"),g(w)}function g(w){if(w===h)return t.consume(w),g;const d=t.exit("attentionSequence"),u=classifyCharacter(w),c=!u||u===2&&l||s.includes(w),y=!l||l===2&&u||s.includes(o);return d._open=!!(h===42?c:c&&(l||!y)),d._close=!!(h===42?y:y&&(u||!c)),i(w)}}function movePoint(t,i){t.column+=i,t.offset+=i,t._bufferIndex+=i}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(t,i,s){let o=0;return l;function l(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),h}function h(x){return asciiAlpha(x)?(t.consume(x),p):d(x)}function p(x){return x===43||x===45||x===46||asciiAlphanumeric(x)?(o=1,g(x)):d(x)}function g(x){return x===58?(t.consume(x),o=0,w):(x===43||x===45||x===46||asciiAlphanumeric(x))&&o++<32?(t.consume(x),g):(o=0,d(x))}function w(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),i):x===null||x===32||x===60||asciiControl(x)?s(x):(t.consume(x),w)}function d(x){return x===64?(t.consume(x),u):asciiAtext(x)?(t.consume(x),d):s(x)}function u(x){return asciiAlphanumeric(x)?c(x):s(x)}function c(x){return x===46?(t.consume(x),o=0,u):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),i):y(x)}function y(x){if((x===45||asciiAlphanumeric(x))&&o++<63){const m=x===45?y:c;return t.consume(x),m}return s(x)}}const blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(t,i,s){return o;function o(h){return markdownSpace(h)?factorySpace(t,l,"linePrefix")(h):l(h)}function l(h){return h===null||markdownLineEnding(h)?i(h):s(h)}}const blockQuote={name:"blockQuote",tokenize:tokenizeBlockQuoteStart,continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1};function tokenizeBlockQuoteStart(t,i,s){const o=this;return l;function l(p){if(p===62){const g=o.containerState;return g.open||(t.enter("blockQuote",{_container:!0}),g.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(p),t.exit("blockQuoteMarker"),h}return s(p)}function h(p){return markdownSpace(p)?(t.enter("blockQuotePrefixWhitespace"),t.consume(p),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),i):(t.exit("blockQuotePrefix"),i(p))}}function tokenizeBlockQuoteContinuation(t,i,s){const o=this;return l;function l(p){return markdownSpace(p)?factorySpace(t,h,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):h(p)}function h(p){return t.attempt(blockQuote,i,s)(p)}}function exit$1(t){t.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(t,i,s){return o;function o(h){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(h),t.exit("escapeMarker"),l}function l(h){return asciiPunctuation(h)?(t.enter("characterEscapeValue"),t.consume(h),t.exit("characterEscapeValue"),t.exit("characterEscape"),i):s(h)}}const element=document.createElement("i");function decodeNamedCharacterReference(t){const i="&"+t+";";element.innerHTML=i;const s=element.textContent;return s.charCodeAt(s.length-1)===59&&t!=="semi"||s===i?!1:s}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(t,i,s){const o=this;let l=0,h,p;return g;function g(c){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),w}function w(c){return c===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(c),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),h=31,p=asciiAlphanumeric,u(c))}function d(c){return c===88||c===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(c),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),h=6,p=asciiHexDigit,u):(t.enter("characterReferenceValue"),h=7,p=asciiDigit,u(c))}function u(c){if(c===59&&l){const y=t.exit("characterReferenceValue");return p===asciiAlphanumeric&&!decodeNamedCharacterReference(o.sliceSerialize(y))?s(c):(t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),t.exit("characterReference"),i)}return p(c)&&l++<h?(t.consume(c),u):s(c)}}const nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0},codeFenced={name:"codeFenced",tokenize:tokenizeCodeFenced,concrete:!0};function tokenizeCodeFenced(t,i,s){const o=this,l={tokenize:j,partial:!0};let h=0,p=0,g;return w;function w(F){return d(F)}function d(F){const V=o.events[o.events.length-1];return h=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,g=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(F)}function u(F){return F===g?(p++,t.consume(F),u):p<3?s(F):(t.exit("codeFencedFenceSequence"),markdownSpace(F)?factorySpace(t,c,"whitespace")(F):c(F))}function c(F){return F===null||markdownLineEnding(F)?(t.exit("codeFencedFence"),o.interrupt?i(F):t.check(nonLazyContinuation,S,z)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(F))}function y(F){return F===null||markdownLineEnding(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),c(F)):markdownSpace(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),factorySpace(t,x,"whitespace")(F)):F===96&&F===g?s(F):(t.consume(F),y)}function x(F){return F===null||markdownLineEnding(F)?c(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(F))}function m(F){return F===null||markdownLineEnding(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),c(F)):F===96&&F===g?s(F):(t.consume(F),m)}function S(F){return t.attempt(l,z,k)(F)}function k(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),E}function E(F){return h>0&&markdownSpace(F)?factorySpace(t,I,"linePrefix",h+1)(F):I(F)}function I(F){return F===null||markdownLineEnding(F)?t.check(nonLazyContinuation,S,z)(F):(t.enter("codeFlowValue"),L(F))}function L(F){return F===null||markdownLineEnding(F)?(t.exit("codeFlowValue"),I(F)):(t.consume(F),L)}function z(F){return t.exit("codeFenced"),i(F)}function j(F,V,H){let X=0;return q;function q(he){return F.enter("lineEnding"),F.consume(he),F.exit("lineEnding"),Q}function Q(he){return F.enter("codeFencedFence"),markdownSpace(he)?factorySpace(F,ie,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):ie(he)}function ie(he){return he===g?(F.enter("codeFencedFenceSequence"),te(he)):H(he)}function te(he){return he===g?(X++,F.consume(he),te):X>=p?(F.exit("codeFencedFenceSequence"),markdownSpace(he)?factorySpace(F,ne,"whitespace")(he):ne(he)):H(he)}function ne(he){return he===null||markdownLineEnding(he)?(F.exit("codeFencedFence"),V(he)):H(he)}}}function tokenizeNonLazyContinuation(t,i,s){const o=this;return l;function l(p){return p===null?s(p):(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h)}function h(p){return o.parser.lazy[o.now().line]?s(p):i(p)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={tokenize:tokenizeFurtherStart,partial:!0};function tokenizeCodeIndented(t,i,s){const o=this;return l;function l(d){return t.enter("codeIndented"),factorySpace(t,h,"linePrefix",5)(d)}function h(d){const u=o.events[o.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?p(d):s(d)}function p(d){return d===null?w(d):markdownLineEnding(d)?t.attempt(furtherStart,p,w)(d):(t.enter("codeFlowValue"),g(d))}function g(d){return d===null||markdownLineEnding(d)?(t.exit("codeFlowValue"),p(d)):(t.consume(d),g)}function w(d){return t.exit("codeIndented"),i(d)}}function tokenizeFurtherStart(t,i,s){const o=this;return l;function l(p){return o.parser.lazy[o.now().line]?s(p):markdownLineEnding(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),l):factorySpace(t,h,"linePrefix",5)(p)}function h(p){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?i(p):markdownLineEnding(p)?l(p):s(p)}}const codeText={name:"codeText",tokenize:tokenizeCodeText,resolve:resolveCodeText,previous:previous$1};function resolveCodeText(t){let i=t.length-4,s=3,o,l;if((t[s][1].type==="lineEnding"||t[s][1].type==="space")&&(t[i][1].type==="lineEnding"||t[i][1].type==="space")){for(o=s;++o<i;)if(t[o][1].type==="codeTextData"){t[s][1].type="codeTextPadding",t[i][1].type="codeTextPadding",s+=2,i-=2;break}}for(o=s-1,i++;++o<=i;)l===void 0?o!==i&&t[o][1].type!=="lineEnding"&&(l=o):(o===i||t[o][1].type==="lineEnding")&&(t[l][1].type="codeTextData",o!==l+2&&(t[l][1].end=t[o-1][1].end,t.splice(l+2,o-l-2),i-=o-l-2,o=l+2),l=void 0);return t}function previous$1(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(t,i,s){let o=0,l,h;return p;function p(c){return t.enter("codeText"),t.enter("codeTextSequence"),g(c)}function g(c){return c===96?(t.consume(c),o++,g):(t.exit("codeTextSequence"),w(c))}function w(c){return c===null?s(c):c===32?(t.enter("space"),t.consume(c),t.exit("space"),w):c===96?(h=t.enter("codeTextSequence"),l=0,u(c)):markdownLineEnding(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),w):(t.enter("codeTextData"),d(c))}function d(c){return c===null||c===32||c===96||markdownLineEnding(c)?(t.exit("codeTextData"),w(c)):(t.consume(c),d)}function u(c){return c===96?(t.consume(c),l++,u):l===o?(t.exit("codeTextSequence"),t.exit("codeText"),i(c)):(h.type="codeTextData",d(c))}}function subtokenize(t){const i={};let s=-1,o,l,h,p,g,w,d;for(;++s<t.length;){for(;s in i;)s=i[s];if(o=t[s],s&&o[1].type==="chunkFlow"&&t[s-1][1].type==="listItemPrefix"&&(w=o[1]._tokenizer.events,h=0,h<w.length&&w[h][1].type==="lineEndingBlank"&&(h+=2),h<w.length&&w[h][1].type==="content"))for(;++h<w.length&&w[h][1].type!=="content";)w[h][1].type==="chunkText"&&(w[h][1]._isInFirstContentOfListItem=!0,h++);if(o[0]==="enter")o[1].contentType&&(Object.assign(i,subcontent(t,s)),s=i[s],d=!0);else if(o[1]._container){for(h=s,l=void 0;h--&&(p=t[h],p[1].type==="lineEnding"||p[1].type==="lineEndingBlank");)p[0]==="enter"&&(l&&(t[l][1].type="lineEndingBlank"),p[1].type="lineEnding",l=h);l&&(o[1].end=Object.assign({},t[l][1].start),g=t.slice(l,s),g.unshift(o),splice(t,l,s-l+1,g))}}return!d}function subcontent(t,i){const s=t[i][1],o=t[i][2];let l=i-1;const h=[],p=s._tokenizer||o.parser[s.contentType](s.start),g=p.events,w=[],d={};let u,c,y=-1,x=s,m=0,S=0;const k=[S];for(;x;){for(;t[++l][1]!==x;);h.push(l),x._tokenizer||(u=o.sliceStream(x),x.next||u.push(null),c&&p.defineSkip(x.start),x._isInFirstContentOfListItem&&(p._gfmTasklistFirstContentOfListItem=!0),p.write(u),x._isInFirstContentOfListItem&&(p._gfmTasklistFirstContentOfListItem=void 0)),c=x,x=x.next}for(x=s;++y<g.length;)g[y][0]==="exit"&&g[y-1][0]==="enter"&&g[y][1].type===g[y-1][1].type&&g[y][1].start.line!==g[y][1].end.line&&(S=y+1,k.push(S),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(p.events=[],x?(x._tokenizer=void 0,x.previous=void 0):k.pop(),y=k.length;y--;){const E=g.slice(k[y],k[y+1]),I=h.pop();w.unshift([I,I+E.length-1]),splice(t,I,2,E)}for(y=-1;++y<w.length;)d[m+w[y][0]]=m+w[y][1],m+=w[y][1]-w[y][0]-1;return d}const content={tokenize:tokenizeContent,resolve:resolveContent},continuationConstruct={tokenize:tokenizeContinuation,partial:!0};function resolveContent(t){return subtokenize(t),t}function tokenizeContent(t,i){let s;return o;function o(g){return t.enter("content"),s=t.enter("chunkContent",{contentType:"content"}),l(g)}function l(g){return g===null?h(g):markdownLineEnding(g)?t.check(continuationConstruct,p,h)(g):(t.consume(g),l)}function h(g){return t.exit("chunkContent"),t.exit("content"),i(g)}function p(g){return t.consume(g),t.exit("chunkContent"),s.next=t.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,l}}function tokenizeContinuation(t,i,s){const o=this;return l;function l(p){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),factorySpace(t,h,"linePrefix")}function h(p){if(p===null||markdownLineEnding(p))return s(p);const g=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?i(p):t.interrupt(o.parser.constructs.flow,s,i)(p)}}function factoryDestination(t,i,s,o,l,h,p,g,w){const d=w||Number.POSITIVE_INFINITY;let u=0;return c;function c(E){return E===60?(t.enter(o),t.enter(l),t.enter(h),t.consume(E),t.exit(h),y):E===null||E===32||E===41||asciiControl(E)?s(E):(t.enter(o),t.enter(p),t.enter(g),t.enter("chunkString",{contentType:"string"}),S(E))}function y(E){return E===62?(t.enter(h),t.consume(E),t.exit(h),t.exit(l),t.exit(o),i):(t.enter(g),t.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===62?(t.exit("chunkString"),t.exit(g),y(E)):E===null||E===60||markdownLineEnding(E)?s(E):(t.consume(E),E===92?m:x)}function m(E){return E===60||E===62||E===92?(t.consume(E),x):x(E)}function S(E){return!u&&(E===null||E===41||markdownLineEndingOrSpace(E))?(t.exit("chunkString"),t.exit(g),t.exit(p),t.exit(o),i(E)):u<d&&E===40?(t.consume(E),u++,S):E===41?(t.consume(E),u--,S):E===null||E===32||E===40||asciiControl(E)?s(E):(t.consume(E),E===92?k:S)}function k(E){return E===40||E===41||E===92?(t.consume(E),S):S(E)}}function factoryLabel(t,i,s,o,l,h){const p=this;let g=0,w;return d;function d(x){return t.enter(o),t.enter(l),t.consume(x),t.exit(l),t.enter(h),u}function u(x){return g>999||x===null||x===91||x===93&&!w||x===94&&!g&&"_hiddenFootnoteSupport"in p.parser.constructs?s(x):x===93?(t.exit(h),t.enter(l),t.consume(x),t.exit(l),t.exit(o),i):markdownLineEnding(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),c(x))}function c(x){return x===null||x===91||x===93||markdownLineEnding(x)||g++>999?(t.exit("chunkString"),u(x)):(t.consume(x),w||(w=!markdownSpace(x)),x===92?y:c)}function y(x){return x===91||x===92||x===93?(t.consume(x),g++,c):c(x)}}function factoryTitle(t,i,s,o,l,h){let p;return g;function g(y){return y===34||y===39||y===40?(t.enter(o),t.enter(l),t.consume(y),t.exit(l),p=y===40?41:y,w):s(y)}function w(y){return y===p?(t.enter(l),t.consume(y),t.exit(l),t.exit(o),i):(t.enter(h),d(y))}function d(y){return y===p?(t.exit(h),w(p)):y===null?s(y):markdownLineEnding(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),factorySpace(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(y))}function u(y){return y===p||y===null||markdownLineEnding(y)?(t.exit("chunkString"),d(y)):(t.consume(y),y===92?c:u)}function c(y){return y===p||y===92?(t.consume(y),u):u(y)}}function factoryWhitespace(t,i){let s;return o;function o(l){return markdownLineEnding(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s=!0,o):markdownSpace(l)?factorySpace(t,o,s?"linePrefix":"lineSuffix")(l):i(l)}}function normalizeIdentifier(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={tokenize:tokenizeTitleBefore,partial:!0};function tokenizeDefinition(t,i,s){const o=this;let l;return h;function h(x){return t.enter("definition"),p(x)}function p(x){return factoryLabel.call(o,t,g,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function g(x){return l=normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),w):s(x)}function w(x){return markdownLineEndingOrSpace(x)?factoryWhitespace(t,d)(x):d(x)}function d(x){return factoryDestination(t,u,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function u(x){return t.attempt(titleBefore,c,c)(x)}function c(x){return markdownSpace(x)?factorySpace(t,y,"whitespace")(x):y(x)}function y(x){return x===null||markdownLineEnding(x)?(t.exit("definition"),o.parser.defined.push(l),i(x)):s(x)}}function tokenizeTitleBefore(t,i,s){return o;function o(g){return markdownLineEndingOrSpace(g)?factoryWhitespace(t,l)(g):s(g)}function l(g){return factoryTitle(t,h,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function h(g){return markdownSpace(g)?factorySpace(t,p,"whitespace")(g):p(g)}function p(g){return g===null||markdownLineEnding(g)?i(g):s(g)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(t,i,s){return o;function o(h){return t.enter("hardBreakEscape"),t.consume(h),l}function l(h){return markdownLineEnding(h)?(t.exit("hardBreakEscape"),i(h)):s(h)}}const headingAtx={name:"headingAtx",tokenize:tokenizeHeadingAtx,resolve:resolveHeadingAtx};function resolveHeadingAtx(t,i){let s=t.length-2,o=3,l,h;return t[o][1].type==="whitespace"&&(o+=2),s-2>o&&t[s][1].type==="whitespace"&&(s-=2),t[s][1].type==="atxHeadingSequence"&&(o===s-1||s-4>o&&t[s-2][1].type==="whitespace")&&(s-=o+1===s?2:4),s>o&&(l={type:"atxHeadingText",start:t[o][1].start,end:t[s][1].end},h={type:"chunkText",start:t[o][1].start,end:t[s][1].end,contentType:"text"},splice(t,o,s-o+1,[["enter",l,i],["enter",h,i],["exit",h,i],["exit",l,i]])),t}function tokenizeHeadingAtx(t,i,s){let o=0;return l;function l(u){return t.enter("atxHeading"),h(u)}function h(u){return t.enter("atxHeadingSequence"),p(u)}function p(u){return u===35&&o++<6?(t.consume(u),p):u===null||markdownLineEndingOrSpace(u)?(t.exit("atxHeadingSequence"),g(u)):s(u)}function g(u){return u===35?(t.enter("atxHeadingSequence"),w(u)):u===null||markdownLineEnding(u)?(t.exit("atxHeading"),i(u)):markdownSpace(u)?factorySpace(t,g,"whitespace")(u):(t.enter("atxHeadingText"),d(u))}function w(u){return u===35?(t.consume(u),w):(t.exit("atxHeadingSequence"),g(u))}function d(u){return u===null||u===35||markdownLineEndingOrSpace(u)?(t.exit("atxHeadingText"),g(u)):(t.consume(u),d)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={name:"htmlFlow",tokenize:tokenizeHtmlFlow,resolveTo:resolveToHtmlFlow,concrete:!0},blankLineBefore={tokenize:tokenizeBlankLineBefore,partial:!0},nonLazyContinuationStart={tokenize:tokenizeNonLazyContinuationStart,partial:!0};function resolveToHtmlFlow(t){let i=t.length;for(;i--&&!(t[i][0]==="enter"&&t[i][1].type==="htmlFlow"););return i>1&&t[i-2][1].type==="linePrefix"&&(t[i][1].start=t[i-2][1].start,t[i+1][1].start=t[i-2][1].start,t.splice(i-2,2)),t}function tokenizeHtmlFlow(t,i,s){const o=this;let l,h,p,g,w;return d;function d(R){return u(R)}function u(R){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(R),c}function c(R){return R===33?(t.consume(R),y):R===47?(t.consume(R),h=!0,S):R===63?(t.consume(R),l=3,o.interrupt?i:v):asciiAlpha(R)?(t.consume(R),p=String.fromCharCode(R),k):s(R)}function y(R){return R===45?(t.consume(R),l=2,x):R===91?(t.consume(R),l=5,g=0,m):asciiAlpha(R)?(t.consume(R),l=4,o.interrupt?i:v):s(R)}function x(R){return R===45?(t.consume(R),o.interrupt?i:v):s(R)}function m(R){const W="CDATA[";return R===W.charCodeAt(g++)?(t.consume(R),g===W.length?o.interrupt?i:ie:m):s(R)}function S(R){return asciiAlpha(R)?(t.consume(R),p=String.fromCharCode(R),k):s(R)}function k(R){if(R===null||R===47||R===62||markdownLineEndingOrSpace(R)){const W=R===47,B=p.toLowerCase();return!W&&!h&&htmlRawNames.includes(B)?(l=1,o.interrupt?i(R):ie(R)):htmlBlockNames.includes(p.toLowerCase())?(l=6,W?(t.consume(R),E):o.interrupt?i(R):ie(R)):(l=7,o.interrupt&&!o.parser.lazy[o.now().line]?s(R):h?I(R):L(R))}return R===45||asciiAlphanumeric(R)?(t.consume(R),p+=String.fromCharCode(R),k):s(R)}function E(R){return R===62?(t.consume(R),o.interrupt?i:ie):s(R)}function I(R){return markdownSpace(R)?(t.consume(R),I):q(R)}function L(R){return R===47?(t.consume(R),q):R===58||R===95||asciiAlpha(R)?(t.consume(R),z):markdownSpace(R)?(t.consume(R),L):q(R)}function z(R){return R===45||R===46||R===58||R===95||asciiAlphanumeric(R)?(t.consume(R),z):j(R)}function j(R){return R===61?(t.consume(R),F):markdownSpace(R)?(t.consume(R),j):L(R)}function F(R){return R===null||R===60||R===61||R===62||R===96?s(R):R===34||R===39?(t.consume(R),w=R,V):markdownSpace(R)?(t.consume(R),F):H(R)}function V(R){return R===w?(t.consume(R),w=null,X):R===null||markdownLineEnding(R)?s(R):(t.consume(R),V)}function H(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||markdownLineEndingOrSpace(R)?j(R):(t.consume(R),H)}function X(R){return R===47||R===62||markdownSpace(R)?L(R):s(R)}function q(R){return R===62?(t.consume(R),Q):s(R)}function Q(R){return R===null||markdownLineEnding(R)?ie(R):markdownSpace(R)?(t.consume(R),Q):s(R)}function ie(R){return R===45&&l===2?(t.consume(R),ae):R===60&&l===1?(t.consume(R),G):R===62&&l===4?(t.consume(R),C):R===63&&l===3?(t.consume(R),v):R===93&&l===5?(t.consume(R),T):markdownLineEnding(R)&&(l===6||l===7)?(t.exit("htmlFlowData"),t.check(blankLineBefore,N,te)(R)):R===null||markdownLineEnding(R)?(t.exit("htmlFlowData"),te(R)):(t.consume(R),ie)}function te(R){return t.check(nonLazyContinuationStart,ne,N)(R)}function ne(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),he}function he(R){return R===null||markdownLineEnding(R)?te(R):(t.enter("htmlFlowData"),ie(R))}function ae(R){return R===45?(t.consume(R),v):ie(R)}function G(R){return R===47?(t.consume(R),p="",P):ie(R)}function P(R){if(R===62){const W=p.toLowerCase();return htmlRawNames.includes(W)?(t.consume(R),C):ie(R)}return asciiAlpha(R)&&p.length<8?(t.consume(R),p+=String.fromCharCode(R),P):ie(R)}function T(R){return R===93?(t.consume(R),v):ie(R)}function v(R){return R===62?(t.consume(R),C):R===45&&l===2?(t.consume(R),v):ie(R)}function C(R){return R===null||markdownLineEnding(R)?(t.exit("htmlFlowData"),N(R)):(t.consume(R),C)}function N(R){return t.exit("htmlFlow"),i(R)}}function tokenizeNonLazyContinuationStart(t,i,s){const o=this;return l;function l(p){return markdownLineEnding(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):s(p)}function h(p){return o.parser.lazy[o.now().line]?s(p):i(p)}}function tokenizeBlankLineBefore(t,i,s){return o;function o(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),t.attempt(blankLine,i,s)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(t,i,s){const o=this;let l,h,p;return g;function g(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),w}function w(v){return v===33?(t.consume(v),d):v===47?(t.consume(v),j):v===63?(t.consume(v),L):asciiAlpha(v)?(t.consume(v),H):s(v)}function d(v){return v===45?(t.consume(v),u):v===91?(t.consume(v),h=0,m):asciiAlpha(v)?(t.consume(v),I):s(v)}function u(v){return v===45?(t.consume(v),x):s(v)}function c(v){return v===null?s(v):v===45?(t.consume(v),y):markdownLineEnding(v)?(p=c,G(v)):(t.consume(v),c)}function y(v){return v===45?(t.consume(v),x):c(v)}function x(v){return v===62?ae(v):v===45?y(v):c(v)}function m(v){const C="CDATA[";return v===C.charCodeAt(h++)?(t.consume(v),h===C.length?S:m):s(v)}function S(v){return v===null?s(v):v===93?(t.consume(v),k):markdownLineEnding(v)?(p=S,G(v)):(t.consume(v),S)}function k(v){return v===93?(t.consume(v),E):S(v)}function E(v){return v===62?ae(v):v===93?(t.consume(v),E):S(v)}function I(v){return v===null||v===62?ae(v):markdownLineEnding(v)?(p=I,G(v)):(t.consume(v),I)}function L(v){return v===null?s(v):v===63?(t.consume(v),z):markdownLineEnding(v)?(p=L,G(v)):(t.consume(v),L)}function z(v){return v===62?ae(v):L(v)}function j(v){return asciiAlpha(v)?(t.consume(v),F):s(v)}function F(v){return v===45||asciiAlphanumeric(v)?(t.consume(v),F):V(v)}function V(v){return markdownLineEnding(v)?(p=V,G(v)):markdownSpace(v)?(t.consume(v),V):ae(v)}function H(v){return v===45||asciiAlphanumeric(v)?(t.consume(v),H):v===47||v===62||markdownLineEndingOrSpace(v)?X(v):s(v)}function X(v){return v===47?(t.consume(v),ae):v===58||v===95||asciiAlpha(v)?(t.consume(v),q):markdownLineEnding(v)?(p=X,G(v)):markdownSpace(v)?(t.consume(v),X):ae(v)}function q(v){return v===45||v===46||v===58||v===95||asciiAlphanumeric(v)?(t.consume(v),q):Q(v)}function Q(v){return v===61?(t.consume(v),ie):markdownLineEnding(v)?(p=Q,G(v)):markdownSpace(v)?(t.consume(v),Q):X(v)}function ie(v){return v===null||v===60||v===61||v===62||v===96?s(v):v===34||v===39?(t.consume(v),l=v,te):markdownLineEnding(v)?(p=ie,G(v)):markdownSpace(v)?(t.consume(v),ie):(t.consume(v),ne)}function te(v){return v===l?(t.consume(v),l=void 0,he):v===null?s(v):markdownLineEnding(v)?(p=te,G(v)):(t.consume(v),te)}function ne(v){return v===null||v===34||v===39||v===60||v===61||v===96?s(v):v===47||v===62||markdownLineEndingOrSpace(v)?X(v):(t.consume(v),ne)}function he(v){return v===47||v===62||markdownLineEndingOrSpace(v)?X(v):s(v)}function ae(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),i):s(v)}function G(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),P}function P(v){return markdownSpace(v)?factorySpace(t,T,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):T(v)}function T(v){return t.enter("htmlTextData"),p(v)}}const labelEnd={name:"labelEnd",tokenize:tokenizeLabelEnd,resolveTo:resolveToLabelEnd,resolveAll:resolveAllLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(t){let i=-1;for(;++i<t.length;){const s=t[i][1];(s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd")&&(t.splice(i+1,s.type==="labelImage"?4:2),s.type="data",i++)}return t}function resolveToLabelEnd(t,i){let s=t.length,o=0,l,h,p,g;for(;s--;)if(l=t[s][1],h){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;t[s][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(p){if(t[s][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(h=s,l.type!=="labelLink")){o=2;break}}else l.type==="labelEnd"&&(p=s);const w={type:t[h][1].type==="labelLink"?"link":"image",start:Object.assign({},t[h][1].start),end:Object.assign({},t[t.length-1][1].end)},d={type:"label",start:Object.assign({},t[h][1].start),end:Object.assign({},t[p][1].end)},u={type:"labelText",start:Object.assign({},t[h+o+2][1].end),end:Object.assign({},t[p-2][1].start)};return g=[["enter",w,i],["enter",d,i]],g=push(g,t.slice(h+1,h+o+3)),g=push(g,[["enter",u,i]]),g=push(g,resolveAll(i.parser.constructs.insideSpan.null,t.slice(h+o+4,p-3),i)),g=push(g,[["exit",u,i],t[p-2],t[p-1],["exit",d,i]]),g=push(g,t.slice(p+1)),g=push(g,[["exit",w,i]]),splice(t,h,t.length,g),t}function tokenizeLabelEnd(t,i,s){const o=this;let l=o.events.length,h,p;for(;l--;)if((o.events[l][1].type==="labelImage"||o.events[l][1].type==="labelLink")&&!o.events[l][1]._balanced){h=o.events[l][1];break}return g;function g(y){return h?h._inactive?c(y):(p=o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize({start:h.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),w):s(y)}function w(y){return y===40?t.attempt(resourceConstruct,u,p?u:c)(y):y===91?t.attempt(referenceFullConstruct,u,p?d:c)(y):p?u(y):c(y)}function d(y){return t.attempt(referenceCollapsedConstruct,u,c)(y)}function u(y){return i(y)}function c(y){return h._balanced=!0,s(y)}}function tokenizeResource(t,i,s){return o;function o(c){return t.enter("resource"),t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),l}function l(c){return markdownLineEndingOrSpace(c)?factoryWhitespace(t,h)(c):h(c)}function h(c){return c===41?u(c):factoryDestination(t,p,g,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function p(c){return markdownLineEndingOrSpace(c)?factoryWhitespace(t,w)(c):u(c)}function g(c){return s(c)}function w(c){return c===34||c===39||c===40?factoryTitle(t,d,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):u(c)}function d(c){return markdownLineEndingOrSpace(c)?factoryWhitespace(t,u)(c):u(c)}function u(c){return c===41?(t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),t.exit("resource"),i):s(c)}}function tokenizeReferenceFull(t,i,s){const o=this;return l;function l(g){return factoryLabel.call(o,t,h,p,"reference","referenceMarker","referenceString")(g)}function h(g){return o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?i(g):s(g)}function p(g){return s(g)}}function tokenizeReferenceCollapsed(t,i,s){return o;function o(h){return t.enter("reference"),t.enter("referenceMarker"),t.consume(h),t.exit("referenceMarker"),l}function l(h){return h===93?(t.enter("referenceMarker"),t.consume(h),t.exit("referenceMarker"),t.exit("reference"),i):s(h)}}const labelStartImage={name:"labelStartImage",tokenize:tokenizeLabelStartImage,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartImage(t,i,s){const o=this;return l;function l(g){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(g),t.exit("labelImageMarker"),h}function h(g){return g===91?(t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelImage"),p):s(g)}function p(g){return g===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(g):i(g)}}const labelStartLink={name:"labelStartLink",tokenize:tokenizeLabelStartLink,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartLink(t,i,s){const o=this;return l;function l(p){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelLink"),h}function h(p){return p===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(p):i(p)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(t,i){return s;function s(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),factorySpace(t,i,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(t,i,s){let o=0,l;return h;function h(d){return t.enter("thematicBreak"),p(d)}function p(d){return l=d,g(d)}function g(d){return d===l?(t.enter("thematicBreakSequence"),w(d)):o>=3&&(d===null||markdownLineEnding(d))?(t.exit("thematicBreak"),i(d)):s(d)}function w(d){return d===l?(t.consume(d),o++,w):(t.exit("thematicBreakSequence"),markdownSpace(d)?factorySpace(t,g,"whitespace")(d):g(d))}}const list$1={name:"list",tokenize:tokenizeListStart,continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd},listItemPrefixWhitespaceConstruct={tokenize:tokenizeListItemPrefixWhitespace,partial:!0},indentConstruct={tokenize:tokenizeIndent$1,partial:!0};function tokenizeListStart(t,i,s){const o=this,l=o.events[o.events.length-1];let h=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,p=0;return g;function g(x){const m=o.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!o.containerState.marker||x===o.containerState.marker:asciiDigit(x)){if(o.containerState.type||(o.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(thematicBreak$1,s,d)(x):d(x);if(!o.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),w(x)}return s(x)}function w(x){return asciiDigit(x)&&++p<10?(t.consume(x),w):(!o.interrupt||p<2)&&(o.containerState.marker?x===o.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),d(x)):s(x)}function d(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||x,t.check(blankLine,o.interrupt?s:u,t.attempt(listItemPrefixWhitespaceConstruct,y,c))}function u(x){return o.containerState.initialBlankLine=!0,h++,y(x)}function c(x){return markdownSpace(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),y):s(x)}function y(x){return o.containerState.size=h+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,i(x)}}function tokenizeListContinuation(t,i,s){const o=this;return o.containerState._closeFlow=void 0,t.check(blankLine,l,h);function l(g){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,factorySpace(t,i,"listItemIndent",o.containerState.size+1)(g)}function h(g){return o.containerState.furtherBlankLines||!markdownSpace(g)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,p(g)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(indentConstruct,i,p)(g))}function p(g){return o.containerState._closeFlow=!0,o.interrupt=void 0,factorySpace(t,t.attempt(list$1,i,s),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}function tokenizeIndent$1(t,i,s){const o=this;return factorySpace(t,l,"listItemIndent",o.containerState.size+1);function l(h){const p=o.events[o.events.length-1];return p&&p[1].type==="listItemIndent"&&p[2].sliceSerialize(p[1],!0).length===o.containerState.size?i(h):s(h)}}function tokenizeListEnd(t){t.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(t,i,s){const o=this;return factorySpace(t,l,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(h){const p=o.events[o.events.length-1];return!markdownSpace(h)&&p&&p[1].type==="listItemPrefixWhitespace"?i(h):s(h)}}const setextUnderline={name:"setextUnderline",tokenize:tokenizeSetextUnderline,resolveTo:resolveToSetextUnderline};function resolveToSetextUnderline(t,i){let s=t.length,o,l,h;for(;s--;)if(t[s][0]==="enter"){if(t[s][1].type==="content"){o=s;break}t[s][1].type==="paragraph"&&(l=s)}else t[s][1].type==="content"&&t.splice(s,1),!h&&t[s][1].type==="definition"&&(h=s);const p={type:"setextHeading",start:Object.assign({},t[l][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[l][1].type="setextHeadingText",h?(t.splice(l,0,["enter",p,i]),t.splice(h+1,0,["exit",t[o][1],i]),t[o][1].end=Object.assign({},t[h][1].end)):t[o][1]=p,t.push(["exit",p,i]),t}function tokenizeSetextUnderline(t,i,s){const o=this;let l;return h;function h(d){let u=o.events.length,c;for(;u--;)if(o.events[u][1].type!=="lineEnding"&&o.events[u][1].type!=="linePrefix"&&o.events[u][1].type!=="content"){c=o.events[u][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||c)?(t.enter("setextHeadingLine"),l=d,p(d)):s(d)}function p(d){return t.enter("setextHeadingLineSequence"),g(d)}function g(d){return d===l?(t.consume(d),g):(t.exit("setextHeadingLineSequence"),markdownSpace(d)?factorySpace(t,w,"lineSuffix")(d):w(d))}function w(d){return d===null||markdownLineEnding(d)?(t.exit("setextHeadingLine"),i(d)):s(d)}}const flow$1={tokenize:initializeFlow};function initializeFlow(t){const i=this,s=t.attempt(blankLine,o,t.attempt(this.parser.constructs.flowInitial,l,factorySpace(t,t.attempt(this.parser.constructs.flow,l,t.attempt(content,l)),"linePrefix")));return s;function o(h){if(h===null){t.consume(h);return}return t.enter("lineEndingBlank"),t.consume(h),t.exit("lineEndingBlank"),i.currentConstruct=void 0,s}function l(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),i.currentConstruct=void 0,s}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$3=initializeFactory("text");function initializeFactory(t){return{tokenize:i,resolveAll:createResolver(t==="text"?resolveAllLineSuffixes:void 0)};function i(s){const o=this,l=this.parser.constructs[t],h=s.attempt(l,p,g);return p;function p(u){return d(u)?h(u):g(u)}function g(u){if(u===null){s.consume(u);return}return s.enter("data"),s.consume(u),w}function w(u){return d(u)?(s.exit("data"),h(u)):(s.consume(u),w)}function d(u){if(u===null)return!0;const c=l[u];let y=-1;if(c)for(;++y<c.length;){const x=c[y];if(!x.previous||x.previous.call(o,o.previous))return!0}return!1}}}function createResolver(t){return i;function i(s,o){let l=-1,h;for(;++l<=s.length;)h===void 0?s[l]&&s[l][1].type==="data"&&(h=l,l++):(!s[l]||s[l][1].type!=="data")&&(l!==h+2&&(s[h][1].end=s[l-1][1].end,s.splice(h+2,l-h-2),l=h+2),h=void 0);return t?t(s,o):s}}function resolveAllLineSuffixes(t,i){let s=0;for(;++s<=t.length;)if((s===t.length||t[s][1].type==="lineEnding")&&t[s-1][1].type==="data"){const o=t[s-1][1],l=i.sliceStream(o);let h=l.length,p=-1,g=0,w;for(;h--;){const d=l[h];if(typeof d=="string"){for(p=d.length;d.charCodeAt(p-1)===32;)g++,p--;if(p)break;p=-1}else if(d===-2)w=!0,g++;else if(d!==-1){h++;break}}if(g){const d={type:s===t.length||w||g<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-g,offset:o.end.offset-g,_index:o.start._index+h,_bufferIndex:h?p:o.start._bufferIndex+p},end:Object.assign({},o.end)};o.end=Object.assign({},d.start),o.start.offset===o.end.offset?Object.assign(o,d):(t.splice(s,0,["enter",d,i],["exit",d,i]),s+=2)}s++}return t}function createTokenizer(t,i,s){let o=Object.assign(s?Object.assign({},s):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const l={},h=[];let p=[],g=[];const w={consume:I,enter:L,exit:z,attempt:V(j),check:V(F),interrupt:V(F,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:x,sliceSerialize:y,now:m,defineSkip:S,write:c};let u=i.tokenize.call(d,w);return i.resolveAll&&h.push(i),d;function c(Q){return p=push(p,Q),k(),p[p.length-1]!==null?[]:(H(i,0),d.events=resolveAll(h,d.events,d),d.events)}function y(Q,ie){return serializeChunks(x(Q),ie)}function x(Q){return sliceChunks(p,Q)}function m(){const{line:Q,column:ie,offset:te,_index:ne,_bufferIndex:he}=o;return{line:Q,column:ie,offset:te,_index:ne,_bufferIndex:he}}function S(Q){l[Q.line]=Q.column,q()}function k(){let Q;for(;o._index<p.length;){const ie=p[o._index];if(typeof ie=="string")for(Q=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===Q&&o._bufferIndex<ie.length;)E(ie.charCodeAt(o._bufferIndex));else E(ie)}}function E(Q){u=u(Q)}function I(Q){markdownLineEnding(Q)?(o.line++,o.column=1,o.offset+=Q===-3?2:1,q()):Q!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===p[o._index].length&&(o._bufferIndex=-1,o._index++)),d.previous=Q}function L(Q,ie){const te=ie||{};return te.type=Q,te.start=m(),d.events.push(["enter",te,d]),g.push(te),te}function z(Q){const ie=g.pop();return ie.end=m(),d.events.push(["exit",ie,d]),ie}function j(Q,ie){H(Q,ie.from)}function F(Q,ie){ie.restore()}function V(Q,ie){return te;function te(ne,he,ae){let G,P,T,v;return Array.isArray(ne)?N(ne):"tokenize"in ne?N([ne]):C(ne);function C(A){return M;function M(D){const U=D!==null&&A[D],$=D!==null&&A.null,K=[...Array.isArray(U)?U:U?[U]:[],...Array.isArray($)?$:$?[$]:[]];return N(K)(D)}}function N(A){return G=A,P=0,A.length===0?ae:R(A[P])}function R(A){return M;function M(D){return v=X(),T=A,A.partial||(d.currentConstruct=A),A.name&&d.parser.constructs.disable.null.includes(A.name)?B():A.tokenize.call(ie?Object.assign(Object.create(d),ie):d,w,W,B)(D)}}function W(A){return Q(T,v),he}function B(A){return v.restore(),++P<G.length?R(G[P]):ae}}}function H(Q,ie){Q.resolveAll&&!h.includes(Q)&&h.push(Q),Q.resolve&&splice(d.events,ie,d.events.length-ie,Q.resolve(d.events.slice(ie),d)),Q.resolveTo&&(d.events=Q.resolveTo(d.events,d))}function X(){const Q=m(),ie=d.previous,te=d.currentConstruct,ne=d.events.length,he=Array.from(g);return{restore:ae,from:ne};function ae(){o=Q,d.previous=ie,d.currentConstruct=te,d.events.length=ne,g=he,q()}}function q(){o.line in l&&o.column<2&&(o.column=l[o.line],o.offset+=l[o.line]-1)}}function sliceChunks(t,i){const s=i.start._index,o=i.start._bufferIndex,l=i.end._index,h=i.end._bufferIndex;let p;if(s===l)p=[t[s].slice(o,h)];else{if(p=t.slice(s,l),o>-1){const g=p[0];typeof g=="string"?p[0]=g.slice(o):p.shift()}h>0&&p.push(t[l].slice(0,h))}return p}function serializeChunks(t,i){let s=-1;const o=[];let l;for(;++s<t.length;){const h=t[s];let p;if(typeof h=="string")p=h;else switch(h){case-5:{p="\r";break}case-4:{p=`
`;break}case-3:{p=`\r
`;break}case-2:{p=i?" ":"	";break}case-1:{if(!i&&l)continue;p=" ";break}default:p=String.fromCharCode(h)}l=h===-2,o.push(p)}return o.join("")}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$2={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$2},Symbol.toStringTag,{value:"Module"}));function parse(t){const s=combineExtensions([defaultConstructs,...(t||{}).extensions||[]]),o={defined:[],lazy:{},constructs:s,content:l(content$1),document:l(document$2),flow:l(flow$1),string:l(string$1),text:l(text$3)};return o;function l(h){return p;function p(g){return createTokenizer(o,h,g)}}}const search=/[\0\t\n\r]/g;function preprocess(){let t=1,i="",s=!0,o;return l;function l(h,p,g){const w=[];let d,u,c,y,x;for(h=i+h.toString(p),c=0,i="",s&&(h.charCodeAt(0)===65279&&c++,s=void 0);c<h.length;){if(search.lastIndex=c,d=search.exec(h),y=d&&d.index!==void 0?d.index:h.length,x=h.charCodeAt(y),!d){i=h.slice(c);break}if(x===10&&c===y&&o)w.push(-3),o=void 0;else switch(o&&(w.push(-5),o=void 0),c<y&&(w.push(h.slice(c,y)),t+=y-c),x){case 0:{w.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,w.push(-2);t++<u;)w.push(-1);break}case 10:{w.push(-4),t=1;break}default:o=!0,t=1}c=y+1}return g&&(o&&w.push(-5),i&&w.push(i),w.push(null)),w}}function postprocess(t){for(;!subtokenize(t););return t}function decodeNumericCharacterReference(t,i){const s=Number.parseInt(t,i);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"�":String.fromCharCode(s)}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(t){return t.replace(characterEscapeOrReference,decode)}function decode(t,i,s){if(i)return i;if(s.charCodeAt(0)===35){const l=s.charCodeAt(1),h=l===120||l===88;return decodeNumericCharacterReference(s.slice(h?2:1),h?16:10)}return decodeNamedCharacterReference(s)||t}const own$6={}.hasOwnProperty,fromMarkdown=function(t,i,s){return typeof i!="string"&&(s=i,i=void 0),compiler(s)(postprocess(parse(s).document().write(preprocess()(t,i,!0))))};function compiler(t){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:g(_e),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:g(fe),blockQuote:g(K),characterEscape:Q,characterReference:Q,codeFenced:g(J),codeFencedFenceInfo:w,codeFencedFenceMeta:w,codeIndented:g(J,w),codeText:g(ue,w),codeTextData:Q,data:Q,codeFlowValue:Q,definition:g(Ae),definitionDestinationString:w,definitionLabelString:w,definitionTitleString:w,emphasis:g(ce),hardBreakEscape:g(me),hardBreakTrailing:g(me),htmlFlow:g(ge,w),htmlFlowData:Q,htmlText:g(ge,w),htmlTextData:Q,image:g(ye),label:w,link:g(_e),listItem:g(Ie),listItemValue:m,listOrdered:g(Re,x),listUnordered:g(Re),paragraph:g(Ne),reference:B,referenceString:w,resourceDestinationString:w,resourceTitleString:w,setextHeading:g(fe),strong:g(Be),thematicBreak:g(ut)},exit:{atxHeading:u(),atxHeadingSequence:V,autolink:u(),autolinkEmail:$,autolinkProtocol:U,blockQuote:u(),characterEscapeValue:ie,characterReferenceMarkerHexadecimal:M,characterReferenceMarkerNumeric:M,characterReferenceValue:D,codeFenced:u(I),codeFencedFence:E,codeFencedFenceInfo:S,codeFencedFenceMeta:k,codeFlowValue:ie,codeIndented:u(L),codeText:u(G),codeTextData:ie,data:ie,definition:u(),definitionDestinationString:F,definitionLabelString:z,definitionTitleString:j,emphasis:u(),hardBreakEscape:u(ne),hardBreakTrailing:u(ne),htmlFlow:u(he),htmlFlowData:ie,htmlText:u(ae),htmlTextData:ie,image:u(T),label:C,labelText:v,lineEnding:te,link:u(P),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:A,resourceDestinationString:N,resourceTitleString:R,resource:W,setextHeading:u(q),setextHeadingLineSequence:X,setextHeadingText:H,strong:u(),thematicBreak:u()}};configure(i,(t||{}).mdastExtensions||[]);const s={};return o;function o(pe){let Ee={type:"root",children:[]};const Te={stack:[Ee],tokenStack:[],config:i,enter:d,exit:c,buffer:w,resume:y,setData:h,getData:p},ze=[];let Ue=-1;for(;++Ue<pe.length;)if(pe[Ue][1].type==="listOrdered"||pe[Ue][1].type==="listUnordered")if(pe[Ue][0]==="enter")ze.push(Ue);else{const bt=ze.pop();Ue=l(pe,bt,Ue)}for(Ue=-1;++Ue<pe.length;){const bt=i[pe[Ue][0]];own$6.call(bt,pe[Ue][1].type)&&bt[pe[Ue][1].type].call(Object.assign({sliceSerialize:pe[Ue][2].sliceSerialize},Te),pe[Ue][1])}if(Te.tokenStack.length>0){const bt=Te.tokenStack[Te.tokenStack.length-1];(bt[1]||defaultOnError).call(Te,void 0,bt[0])}for(Ee.position={start:point$1(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:point$1(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},Ue=-1;++Ue<i.transforms.length;)Ee=i.transforms[Ue](Ee)||Ee;return Ee}function l(pe,Ee,Te){let ze=Ee-1,Ue=-1,bt=!1,Rt,xe,se,re;for(;++ze<=Te;){const Se=pe[ze];if(Se[1].type==="listUnordered"||Se[1].type==="listOrdered"||Se[1].type==="blockQuote"?(Se[0]==="enter"?Ue++:Ue--,re=void 0):Se[1].type==="lineEndingBlank"?Se[0]==="enter"&&(Rt&&!re&&!Ue&&!se&&(se=ze),re=void 0):Se[1].type==="linePrefix"||Se[1].type==="listItemValue"||Se[1].type==="listItemMarker"||Se[1].type==="listItemPrefix"||Se[1].type==="listItemPrefixWhitespace"||(re=void 0),!Ue&&Se[0]==="enter"&&Se[1].type==="listItemPrefix"||Ue===-1&&Se[0]==="exit"&&(Se[1].type==="listUnordered"||Se[1].type==="listOrdered")){if(Rt){let Ve=ze;for(xe=void 0;Ve--;){const qe=pe[Ve];if(qe[1].type==="lineEnding"||qe[1].type==="lineEndingBlank"){if(qe[0]==="exit")continue;xe&&(pe[xe][1].type="lineEndingBlank",bt=!0),qe[1].type="lineEnding",xe=Ve}else if(!(qe[1].type==="linePrefix"||qe[1].type==="blockQuotePrefix"||qe[1].type==="blockQuotePrefixWhitespace"||qe[1].type==="blockQuoteMarker"||qe[1].type==="listItemIndent"))break}se&&(!xe||se<xe)&&(Rt._spread=!0),Rt.end=Object.assign({},xe?pe[xe][1].start:Se[1].end),pe.splice(xe||ze,0,["exit",Rt,Se[2]]),ze++,Te++}Se[1].type==="listItemPrefix"&&(Rt={type:"listItem",_spread:!1,start:Object.assign({},Se[1].start),end:void 0},pe.splice(ze,0,["enter",Rt,Se[2]]),ze++,Te++,se=void 0,re=!0)}}return pe[Ee][1]._spread=bt,Te}function h(pe,Ee){s[pe]=Ee}function p(pe){return s[pe]}function g(pe,Ee){return Te;function Te(ze){d.call(this,pe(ze),ze),Ee&&Ee.call(this,ze)}}function w(){this.stack.push({type:"fragment",children:[]})}function d(pe,Ee,Te){return this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([Ee,Te]),pe.position={start:point$1(Ee.start)},pe}function u(pe){return Ee;function Ee(Te){pe&&pe.call(this,Te),c.call(this,Te)}}function c(pe,Ee){const Te=this.stack.pop(),ze=this.tokenStack.pop();if(ze)ze[0].type!==pe.type&&(Ee?Ee.call(this,pe,ze[0]):(ze[1]||defaultOnError).call(this,pe,ze[0]));else throw new Error("Cannot close `"+pe.type+"` ("+stringifyPosition({start:pe.start,end:pe.end})+"): it’s not open");return Te.position.end=point$1(pe.end),Te}function y(){return toString(this.stack.pop())}function x(){h("expectingFirstListItemValue",!0)}function m(pe){if(p("expectingFirstListItemValue")){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(pe),10),h("expectingFirstListItemValue")}}function S(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=pe}function k(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=pe}function E(){p("flowCodeInside")||(this.buffer(),h("flowCodeInside",!0))}function I(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h("flowCodeInside")}function L(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=pe.replace(/(\r?\n|\r)$/g,"")}function z(pe){const Ee=this.resume(),Te=this.stack[this.stack.length-1];Te.label=Ee,Te.identifier=normalizeIdentifier(this.sliceSerialize(pe)).toLowerCase()}function j(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=pe}function F(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=pe}function V(pe){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Te=this.sliceSerialize(pe).length;Ee.depth=Te}}function H(){h("setextHeadingSlurpLineEnding",!0)}function X(pe){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(pe).charCodeAt(0)===61?1:2}function q(){h("setextHeadingSlurpLineEnding")}function Q(pe){const Ee=this.stack[this.stack.length-1];let Te=Ee.children[Ee.children.length-1];(!Te||Te.type!=="text")&&(Te=$e(),Te.position={start:point$1(pe.start)},Ee.children.push(Te)),this.stack.push(Te)}function ie(pe){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(pe),Ee.position.end=point$1(pe.end)}function te(pe){const Ee=this.stack[this.stack.length-1];if(p("atHardBreak")){const Te=Ee.children[Ee.children.length-1];Te.position.end=point$1(pe.end),h("atHardBreak");return}!p("setextHeadingSlurpLineEnding")&&i.canContainEols.includes(Ee.type)&&(Q.call(this,pe),ie.call(this,pe))}function ne(){h("atHardBreak",!0)}function he(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=pe}function ae(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=pe}function G(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=pe}function P(){const pe=this.stack[this.stack.length-1];if(p("inReference")){const Ee=p("referenceType")||"shortcut";pe.type+="Reference",pe.referenceType=Ee,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;h("referenceType")}function T(){const pe=this.stack[this.stack.length-1];if(p("inReference")){const Ee=p("referenceType")||"shortcut";pe.type+="Reference",pe.referenceType=Ee,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;h("referenceType")}function v(pe){const Ee=this.sliceSerialize(pe),Te=this.stack[this.stack.length-2];Te.label=decodeString(Ee),Te.identifier=normalizeIdentifier(Ee).toLowerCase()}function C(){const pe=this.stack[this.stack.length-1],Ee=this.resume(),Te=this.stack[this.stack.length-1];if(h("inReference",!0),Te.type==="link"){const ze=pe.children;Te.children=ze}else Te.alt=Ee}function N(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=pe}function R(){const pe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=pe}function W(){h("inReference")}function B(){h("referenceType","collapsed")}function A(pe){const Ee=this.resume(),Te=this.stack[this.stack.length-1];Te.label=Ee,Te.identifier=normalizeIdentifier(this.sliceSerialize(pe)).toLowerCase(),h("referenceType","full")}function M(pe){h("characterReferenceType",pe.type)}function D(pe){const Ee=this.sliceSerialize(pe),Te=p("characterReferenceType");let ze;Te?(ze=decodeNumericCharacterReference(Ee,Te==="characterReferenceMarkerNumeric"?10:16),h("characterReferenceType")):ze=decodeNamedCharacterReference(Ee);const Ue=this.stack.pop();Ue.value+=ze,Ue.position.end=point$1(pe.end)}function U(pe){ie.call(this,pe);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(pe)}function $(pe){ie.call(this,pe);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(pe)}function K(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function ue(){return{type:"inlineCode",value:""}}function Ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ce(){return{type:"emphasis",children:[]}}function fe(){return{type:"heading",depth:void 0,children:[]}}function me(){return{type:"break"}}function ge(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function _e(){return{type:"link",title:null,url:"",children:[]}}function Re(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function Ie(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Ne(){return{type:"paragraph",children:[]}}function Be(){return{type:"strong",children:[]}}function $e(){return{type:"text",value:""}}function ut(){return{type:"thematicBreak"}}}function point$1(t){return{line:t.line,column:t.column,offset:t.offset}}function configure(t,i){let s=-1;for(;++s<i.length;){const o=i[s];Array.isArray(o)?configure(t,o):extension(t,o)}}function extension(t,i){let s;for(s in i)if(own$6.call(i,s)){if(s==="canContainEols"){const o=i[s];o&&t[s].push(...o)}else if(s==="transforms"){const o=i[s];o&&t[s].push(...o)}else if(s==="enter"||s==="exit"){const o=i[s];o&&Object.assign(t[s],o)}}}function defaultOnError(t,i){throw t?new Error("Cannot close `"+t.type+"` ("+stringifyPosition({start:t.start,end:t.end})+"): a different token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+stringifyPosition({start:i.start,end:i.end})+") is still open")}function remarkParse(t){Object.assign(this,{Parser:s=>{const o=this.data("settings");return fromMarkdown(s,Object.assign({},o,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function blockquote(t,i){const s={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(i),!0)};return t.patch(i,s),t.applyData(i,s)}function hardBreak(t,i){const s={type:"element",tagName:"br",properties:{},children:[]};return t.patch(i,s),[t.applyData(i,s),{type:"text",value:`
`}]}function code$1(t,i){const s=i.value?i.value+`
`:"",o=i.lang?i.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,l={};o&&(l.className=["language-"+o]);let h={type:"element",tagName:"code",properties:l,children:[{type:"text",value:s}]};return i.meta&&(h.data={meta:i.meta}),t.patch(i,h),h=t.applyData(i,h),h={type:"element",tagName:"pre",properties:{},children:[h]},t.patch(i,h),h}function strikethrough(t,i){const s={type:"element",tagName:"del",properties:{},children:t.all(i)};return t.patch(i,s),t.applyData(i,s)}function emphasis(t,i){const s={type:"element",tagName:"em",properties:{},children:t.all(i)};return t.patch(i,s),t.applyData(i,s)}function normalizeUri(t){const i=[];let s=-1,o=0,l=0;for(;++s<t.length;){const h=t.charCodeAt(s);let p="";if(h===37&&asciiAlphanumeric(t.charCodeAt(s+1))&&asciiAlphanumeric(t.charCodeAt(s+2)))l=2;else if(h<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(h))||(p=String.fromCharCode(h));else if(h>55295&&h<57344){const g=t.charCodeAt(s+1);h<56320&&g>56319&&g<57344?(p=String.fromCharCode(h,g),l=1):p="�"}else p=String.fromCharCode(h);p&&(i.push(t.slice(o,s),encodeURIComponent(p)),o=s+l+1,p=""),l&&(s+=l,l=0)}return i.join("")+t.slice(o)}function footnoteReference$1(t,i){const s=String(i.identifier).toUpperCase(),o=normalizeUri(s.toLowerCase()),l=t.footnoteOrder.indexOf(s);let h;l===-1?(t.footnoteOrder.push(s),t.footnoteCounts[s]=1,h=t.footnoteOrder.length):(t.footnoteCounts[s]++,h=l+1);const p=t.footnoteCounts[s],g={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+o,id:t.clobberPrefix+"fnref-"+o+(p>1?"-"+p:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(h)}]};t.patch(i,g);const w={type:"element",tagName:"sup",properties:{},children:[g]};return t.patch(i,w),t.applyData(i,w)}function footnote(t,i){const s=t.footnoteById;let o=1;for(;o in s;)o++;const l=String(o);return s[l]={type:"footnoteDefinition",identifier:l,children:[{type:"paragraph",children:i.children}],position:i.position},footnoteReference$1(t,{type:"footnoteReference",identifier:l,position:i.position})}function heading(t,i){const s={type:"element",tagName:"h"+i.depth,properties:{},children:t.all(i)};return t.patch(i,s),t.applyData(i,s)}function html$2(t,i){if(t.dangerous){const s={type:"raw",value:i.value};return t.patch(i,s),t.applyData(i,s)}return null}function revert(t,i){const s=i.referenceType;let o="]";if(s==="collapsed"?o+="[]":s==="full"&&(o+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return{type:"text",value:"!["+i.alt+o};const l=t.all(i),h=l[0];h&&h.type==="text"?h.value="["+h.value:l.unshift({type:"text",value:"["});const p=l[l.length-1];return p&&p.type==="text"?p.value+=o:l.push({type:"text",value:o}),l}function imageReference(t,i){const s=t.definition(i.identifier);if(!s)return revert(t,i);const o={src:normalizeUri(s.url||""),alt:i.alt};s.title!==null&&s.title!==void 0&&(o.title=s.title);const l={type:"element",tagName:"img",properties:o,children:[]};return t.patch(i,l),t.applyData(i,l)}function image(t,i){const s={src:normalizeUri(i.url)};i.alt!==null&&i.alt!==void 0&&(s.alt=i.alt),i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(i,o),t.applyData(i,o)}function inlineCode$1(t,i){const s={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};t.patch(i,s);const o={type:"element",tagName:"code",properties:{},children:[s]};return t.patch(i,o),t.applyData(i,o)}function linkReference(t,i){const s=t.definition(i.identifier);if(!s)return revert(t,i);const o={href:normalizeUri(s.url||"")};s.title!==null&&s.title!==void 0&&(o.title=s.title);const l={type:"element",tagName:"a",properties:o,children:t.all(i)};return t.patch(i,l),t.applyData(i,l)}function link(t,i){const s={href:normalizeUri(i.url)};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:t.all(i)};return t.patch(i,o),t.applyData(i,o)}function listItem$1(t,i,s){const o=t.all(i),l=s?listLoose(s):listItemLoose(i),h={},p=[];if(typeof i.checked=="boolean"){const u=o[0];let c;u&&u.type==="element"&&u.tagName==="p"?c=u:(c={type:"element",tagName:"p",properties:{},children:[]},o.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),h.className=["task-list-item"]}let g=-1;for(;++g<o.length;){const u=o[g];(l||g!==0||u.type!=="element"||u.tagName!=="p")&&p.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!l?p.push(...u.children):p.push(u)}const w=o[o.length-1];w&&(l||w.type!=="element"||w.tagName!=="p")&&p.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:h,children:p};return t.patch(i,d),t.applyData(i,d)}function listLoose(t){let i=!1;if(t.type==="list"){i=t.spread||!1;const s=t.children;let o=-1;for(;!i&&++o<s.length;)i=listItemLoose(s[o])}return i}function listItemLoose(t){const i=t.spread;return i??t.children.length>1}function list(t,i){const s={},o=t.all(i);let l=-1;for(typeof i.start=="number"&&i.start!==1&&(s.start=i.start);++l<o.length;){const p=o[l];if(p.type==="element"&&p.tagName==="li"&&p.properties&&Array.isArray(p.properties.className)&&p.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const h={type:"element",tagName:i.ordered?"ol":"ul",properties:s,children:t.wrap(o,!0)};return t.patch(i,h),t.applyData(i,h)}function paragraph(t,i){const s={type:"element",tagName:"p",properties:{},children:t.all(i)};return t.patch(i,s),t.applyData(i,s)}function root(t,i){const s={type:"root",children:t.wrap(t.all(i))};return t.patch(i,s),t.applyData(i,s)}function strong(t,i){const s={type:"element",tagName:"strong",properties:{},children:t.all(i)};return t.patch(i,s),t.applyData(i,s)}const pointStart=point("start"),pointEnd=point("end");function position(t){return{start:pointStart(t),end:pointEnd(t)}}function point(t){return i;function i(s){const o=s&&s.position&&s.position[t]||{};return{line:o.line||null,column:o.column||null,offset:o.offset>-1?o.offset:null}}}function table(t,i){const s=t.all(i),o=s.shift(),l=[];if(o){const p={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(i.children[0],p),l.push(p)}if(s.length>0){const p={type:"element",tagName:"tbody",properties:{},children:t.wrap(s,!0)},g=pointStart(i.children[1]),w=pointEnd(i.children[i.children.length-1]);g.line&&w.line&&(p.position={start:g,end:w}),l.push(p)}const h={type:"element",tagName:"table",properties:{},children:t.wrap(l,!0)};return t.patch(i,h),t.applyData(i,h)}function tableRow(t,i,s){const o=s?s.children:void 0,h=(o?o.indexOf(i):1)===0?"th":"td",p=s&&s.type==="table"?s.align:void 0,g=p?p.length:i.children.length;let w=-1;const d=[];for(;++w<g;){const c=i.children[w],y={},x=p?p[w]:void 0;x&&(y.align=x);let m={type:"element",tagName:h,properties:y,children:[]};c&&(m.children=t.all(c),t.patch(c,m),m=t.applyData(i,m)),d.push(m)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(i,u),t.applyData(i,u)}function tableCell(t,i){const s={type:"element",tagName:"td",properties:{},children:t.all(i)};return t.patch(i,s),t.applyData(i,s)}const tab=9,space=32;function trimLines(t){const i=String(t),s=/\r?\n|\r/g;let o=s.exec(i),l=0;const h=[];for(;o;)h.push(trimLine(i.slice(l,o.index),l>0,!0),o[0]),l=o.index+o[0].length,o=s.exec(i);return h.push(trimLine(i.slice(l),l>0,!1)),h.join("")}function trimLine(t,i,s){let o=0,l=t.length;if(i){let h=t.codePointAt(o);for(;h===tab||h===space;)o++,h=t.codePointAt(o)}if(s){let h=t.codePointAt(l-1);for(;h===tab||h===space;)l--,h=t.codePointAt(l-1)}return l>o?t.slice(o,l):""}function text$1(t,i){const s={type:"text",value:trimLines(String(i.value))};return t.patch(i,s),t.applyData(i,s)}function thematicBreak(t,i){const s={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(i,s),t.applyData(i,s)}const handlers={blockquote,break:hardBreak,code:code$1,delete:strikethrough,emphasis,footnoteReference:footnoteReference$1,footnote,heading,html:html$2,imageReference,image,inlineCode:inlineCode$1,linkReference,link,listItem:listItem$1,list,paragraph,root,strong,table,tableCell,tableRow,text:text$1,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){return null}const convert=function(t){if(t==null)return ok;if(typeof t=="string")return typeFactory(t);if(typeof t=="object")return Array.isArray(t)?anyFactory(t):propsFactory(t);if(typeof t=="function")return castFactory(t);throw new Error("Expected function, string, or object as test")};function anyFactory(t){const i=[];let s=-1;for(;++s<t.length;)i[s]=convert(t[s]);return castFactory(o);function o(...l){let h=-1;for(;++h<i.length;)if(i[h].call(this,...l))return!0;return!1}}function propsFactory(t){return castFactory(i);function i(s){let o;for(o in t)if(s[o]!==t[o])return!1;return!0}}function typeFactory(t){return castFactory(i);function i(s){return s&&s.type===t}}function castFactory(t){return i;function i(s,...o){return!!(s&&typeof s=="object"&&"type"in s&&t.call(this,s,...o))}}function ok(){return!0}function color(t){return t}const CONTINUE=!0,EXIT=!1,SKIP="skip",visitParents=function(t,i,s,o){typeof i=="function"&&typeof s!="function"&&(o=s,s=i,i=null);const l=convert(i),h=o?-1:1;p(t,void 0,[])();function p(g,w,d){const u=g&&typeof g=="object"?g:{};if(typeof u.type=="string"){const y=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+(g.type+(y?"<"+y+">":""))+")"})}return c;function c(){let y=[],x,m,S;if((!i||l(g,w,d[d.length-1]||null))&&(y=toResult(s(g,d)),y[0]===EXIT))return y;if(g.children&&y[0]!==SKIP)for(m=(o?g.children.length:-1)+h,S=d.concat(g);m>-1&&m<g.children.length;){if(x=p(g.children[m],m,S)(),x[0]===EXIT)return x;m=typeof x[1]=="number"?x[1]:m+h}return y}}};function toResult(t){return Array.isArray(t)?t:typeof t=="number"?[CONTINUE,t]:[t]}const visit=function(t,i,s,o){typeof i=="function"&&typeof s!="function"&&(o=s,s=i,i=null),visitParents(t,i,l,o);function l(h,p){const g=p[p.length-1];return s(h,g?g.children.indexOf(h):null,g)}};function generated(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const own$5={}.hasOwnProperty;function definitions(t){const i=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return visit(t,"definition",o=>{const l=clean(o.identifier);l&&!own$5.call(i,l)&&(i[l]=o)}),s;function s(o){const l=clean(o);return l&&own$5.call(i,l)?i[l]:null}}function clean(t){return String(t||"").toUpperCase()}const own$4={}.hasOwnProperty;function createState(t,i){const s=i||{},o=s.allowDangerousHtml||!1,l={};return p.dangerous=o,p.clobberPrefix=s.clobberPrefix===void 0||s.clobberPrefix===null?"user-content-":s.clobberPrefix,p.footnoteLabel=s.footnoteLabel||"Footnotes",p.footnoteLabelTagName=s.footnoteLabelTagName||"h2",p.footnoteLabelProperties=s.footnoteLabelProperties||{className:["sr-only"]},p.footnoteBackLabel=s.footnoteBackLabel||"Back to content",p.unknownHandler=s.unknownHandler,p.passThrough=s.passThrough,p.handlers={...handlers,...s.handlers},p.definition=definitions(t),p.footnoteById=l,p.footnoteOrder=[],p.footnoteCounts={},p.patch=patch,p.applyData=applyData,p.one=g,p.all=w,p.wrap=wrap,p.augment=h,visit(t,"footnoteDefinition",d=>{const u=String(d.identifier).toUpperCase();own$4.call(l,u)||(l[u]=d)}),p;function h(d,u){if(d&&"data"in d&&d.data){const c=d.data;c.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=c.hName),u.type==="element"&&c.hProperties&&(u.properties={...u.properties,...c.hProperties}),"children"in u&&u.children&&c.hChildren&&(u.children=c.hChildren)}if(d){const c="type"in d?d:{position:d};generated(c)||(u.position={start:pointStart(c),end:pointEnd(c)})}return u}function p(d,u,c,y){return Array.isArray(c)&&(y=c,c={}),h(d,{type:"element",tagName:u,properties:c||{},children:y||[]})}function g(d,u){return one(p,d,u)}function w(d){return all(p,d)}}function patch(t,i){t.position&&(i.position=position(t))}function applyData(t,i){let s=i;if(t&&t.data){const o=t.data.hName,l=t.data.hChildren,h=t.data.hProperties;typeof o=="string"&&(s.type==="element"?s.tagName=o:s={type:"element",tagName:o,properties:{},children:[]}),s.type==="element"&&h&&(s.properties={...s.properties,...h}),"children"in s&&s.children&&l!==null&&l!==void 0&&(s.children=l)}return s}function one(t,i,s){const o=i&&i.type;if(!o)throw new Error("Expected node, got `"+i+"`");return own$4.call(t.handlers,o)?t.handlers[o](t,i,s):t.passThrough&&t.passThrough.includes(o)?"children"in i?{...i,children:all(t,i)}:i:t.unknownHandler?t.unknownHandler(t,i,s):defaultUnknownHandler(t,i)}function all(t,i){const s=[];if("children"in i){const o=i.children;let l=-1;for(;++l<o.length;){const h=one(t,o[l],i);if(h){if(l&&o[l-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=h.value.replace(/^\s+/,"")),!Array.isArray(h)&&h.type==="element")){const p=h.children[0];p&&p.type==="text"&&(p.value=p.value.replace(/^\s+/,""))}Array.isArray(h)?s.push(...h):s.push(h)}}}return s}function defaultUnknownHandler(t,i){const s=i.data||{},o="value"in i&&!(own$4.call(s,"hProperties")||own$4.call(s,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:all(t,i)};return t.patch(i,o),t.applyData(i,o)}function wrap(t,i){const s=[];let o=-1;for(i&&s.push({type:"text",value:`
`});++o<t.length;)o&&s.push({type:"text",value:`
`}),s.push(t[o]);return i&&t.length>0&&s.push({type:"text",value:`
`}),s}function footer(t){const i=[];let s=-1;for(;++s<t.footnoteOrder.length;){const o=t.footnoteById[t.footnoteOrder[s]];if(!o)continue;const l=t.all(o),h=String(o.identifier).toUpperCase(),p=normalizeUri(h.toLowerCase());let g=0;const w=[];for(;++g<=t.footnoteCounts[h];){const c={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};g>1&&c.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(g)}]}),w.length>0&&w.push({type:"text",value:" "}),w.push(c)}const d=l[l.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const c=d.children[d.children.length-1];c&&c.type==="text"?c.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...w)}else l.push(...w);const u={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+p},children:t.wrap(l,!0)};t.patch(o,u),i.push(u)}if(i.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(i,!0)},{type:"text",value:`
`}]}}function toHast(t,i){const s=createState(t,i),o=s.one(t,null),l=footer(s);return l&&o.children.push({type:"text",value:`
`},l),Array.isArray(o)?{type:"root",children:o}:o}const remarkRehype=function(t,i){return t&&"run"in t?bridge(t,i):mutate(t||i)};function bridge(t,i){return(s,o,l)=>{t.run(toHast(s,i),o,h=>{l(h)})}}function mutate(t){return i=>toHast(i,t)}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function i(){}function s(){}return s.resetWarningCache=i,factoryWithThrowingShims=function(){function o(p,g,w,d,u,c){if(c!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function l(){return o}var h={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:s,resetWarningCache:i};return h.PropTypes=h,h},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);class Schema{constructor(i,s,o){this.property=i,this.normal=s,o&&(this.space=o)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge(t,i){const s={},o={};let l=-1;for(;++l<t.length;)Object.assign(s,t[l].property),Object.assign(o,t[l].normal);return new Schema(s,o,i)}function normalize(t){return t.toLowerCase()}class Info{constructor(i,s){this.property=i,this.attribute=s}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(i,s,o,l){let h=-1;if(super(i,s),mark(this,"space",l),typeof o=="number")for(;++h<checks.length;){const p=checks[h];mark(this,checks[h],(o&types[p])===types[p])}}}DefinedInfo.prototype.defined=!0;function mark(t,i,s){s&&(t[i]=s)}const own$3={}.hasOwnProperty;function create(t){const i={},s={};let o;for(o in t.properties)if(own$3.call(t.properties,o)){const l=t.properties[o],h=new DefinedInfo(o,t.transform(t.attributes||{},o),l,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(h.mustUseProperty=!0),i[o]=h,s[normalize(o)]=o,s[normalize(h.attribute)]=o}return new Schema(i,s,t.space)}const xlink=create({space:"xlink",transform(t,i){return"xlink:"+i.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform(t,i){return"xml:"+i.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(t,i){return i in t?t[i]:i}function caseInsensitiveTransform(t,i){return caseSensitiveTransform(t,i.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform(t,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html$1=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg$1=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function find(t,i){const s=normalize(i);let o=i,l=Info;if(s in t.normal)return t.property[t.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&valid.test(i)){if(i.charAt(4)==="-"){const h=i.slice(5).replace(dash,camelcase);o="data"+h.charAt(0).toUpperCase()+h.slice(1)}else{const h=i.slice(4);if(!dash.test(h)){let p=h.replace(cap,kebab);p.charAt(0)!=="-"&&(p="-"+p),i="data"+p}}l=DefinedInfo}return new l(o,i)}function kebab(t){return"-"+t.toLowerCase()}function camelcase(t){return t.charAt(1).toUpperCase()}const hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},html=merge([xml,xlink,xmlns,aria,html$1],"html"),svg=merge([xml,xlink,xmlns,aria,svg$1],"svg");function rehypeFilter(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return i=>{visit(i,"element",(s,o,l)=>{const h=l;let p;if(t.allowedElements?p=!t.allowedElements.includes(s.tagName):t.disallowedElements&&(p=t.disallowedElements.includes(s.tagName)),!p&&t.allowElement&&typeof o=="number"&&(p=!t.allowElement(s,o,h)),p&&typeof o=="number")return t.unwrapDisallowed&&s.children?h.children.splice(o,1,...s.children):h.children.splice(o,1),o})}}var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.server_context"),w=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function S(k){if(typeof k=="object"&&k!==null){var E=k.$$typeof;switch(E){case t:switch(k=k.type,k){case s:case l:case o:case d:case u:return k;default:switch(k=k&&k.$$typeof,k){case g:case p:case w:case y:case c:case h:return k;default:return E}}case i:return E}}}return reactIs_production_min.ContextConsumer=p,reactIs_production_min.ContextProvider=h,reactIs_production_min.Element=t,reactIs_production_min.ForwardRef=w,reactIs_production_min.Fragment=s,reactIs_production_min.Lazy=y,reactIs_production_min.Memo=c,reactIs_production_min.Portal=i,reactIs_production_min.Profiler=l,reactIs_production_min.StrictMode=o,reactIs_production_min.Suspense=d,reactIs_production_min.SuspenseList=u,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(k){return S(k)===p},reactIs_production_min.isContextProvider=function(k){return S(k)===h},reactIs_production_min.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},reactIs_production_min.isForwardRef=function(k){return S(k)===w},reactIs_production_min.isFragment=function(k){return S(k)===s},reactIs_production_min.isLazy=function(k){return S(k)===y},reactIs_production_min.isMemo=function(k){return S(k)===c},reactIs_production_min.isPortal=function(k){return S(k)===i},reactIs_production_min.isProfiler=function(k){return S(k)===l},reactIs_production_min.isStrictMode=function(k){return S(k)===o},reactIs_production_min.isSuspense=function(k){return S(k)===d},reactIs_production_min.isSuspenseList=function(k){return S(k)===u},reactIs_production_min.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===s||k===l||k===o||k===d||k===u||k===x||typeof k=="object"&&k!==null&&(k.$$typeof===y||k.$$typeof===c||k.$$typeof===h||k.$$typeof===p||k.$$typeof===w||k.$$typeof===m||k.getModuleId!==void 0)},reactIs_production_min.typeOf=S,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs();const ReactIs=getDefaultExportFromCjs(reactIsExports);function whitespace(t){const i=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof i=="string"&&i.replace(/[ \t\n\f\r]/g,"")===""}function stringify$1(t){return t.join(" ").trim()}function stringify(t,i){const s={};return(t[t.length-1]===""?[...t,""]:t).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}var styleToObject={exports:{}},inlineStyleParser,hasRequiredInlineStyleParser;function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,s=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,h=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,p=/^[;\s]*/,g=/^\s+|\s+$/g,w=`
`,d="/",u="*",c="",y="comment",x="declaration";inlineStyleParser=function(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var E=1,I=1;function L(te){var ne=te.match(i);ne&&(E+=ne.length);var he=te.lastIndexOf(w);I=~he?te.length-he:I+te.length}function z(){var te={line:E,column:I};return function(ne){return ne.position=new j(te),H(),ne}}function j(te){this.start=te,this.end={line:E,column:I},this.source=k.source}j.prototype.content=S;function F(te){var ne=new Error(k.source+":"+E+":"+I+": "+te);if(ne.reason=te,ne.filename=k.source,ne.line=E,ne.column=I,ne.source=S,!k.silent)throw ne}function V(te){var ne=te.exec(S);if(ne){var he=ne[0];return L(he),S=S.slice(he.length),ne}}function H(){V(s)}function X(te){var ne;for(te=te||[];ne=q();)ne!==!1&&te.push(ne);return te}function q(){var te=z();if(!(d!=S.charAt(0)||u!=S.charAt(1))){for(var ne=2;c!=S.charAt(ne)&&(u!=S.charAt(ne)||d!=S.charAt(ne+1));)++ne;if(ne+=2,c===S.charAt(ne-1))return F("End of comment missing");var he=S.slice(2,ne-2);return I+=2,L(he),S=S.slice(ne),I+=2,te({type:y,comment:he})}}function Q(){var te=z(),ne=V(o);if(ne){if(q(),!V(l))return F("property missing ':'");var he=V(h),ae=te({type:x,property:m(ne[0].replace(t,c)),value:he?m(he[0].replace(t,c)):c});return V(p),ae}}function ie(){var te=[];X(te);for(var ne;ne=Q();)ne!==!1&&(te.push(ne),X(te));return te}return H(),ie()};function m(S){return S?S.replace(g,c):c}return inlineStyleParser}var hasRequiredStyleToObject;function requireStyleToObject(){if(hasRequiredStyleToObject)return styleToObject.exports;hasRequiredStyleToObject=1;var t=requireInlineStyleParser();function i(s,o){var l=null;if(!s||typeof s!="string")return l;for(var h,p=t(s),g=typeof o=="function",w,d,u=0,c=p.length;u<c;u++)h=p[u],w=h.property,d=h.value,g?o(w,d,h):d&&(l||(l={}),l[w]=d);return l}return styleToObject.exports=i,styleToObject.exports.default=i,styleToObject.exports}var styleToObjectExports=requireStyleToObject();const StyleToObject=getDefaultExportFromCjs(styleToObjectExports),own$2={}.hasOwnProperty,tableElements=new Set(["table","thead","tbody","tfoot","tr"]);function childrenToReact(t,i){const s=[];let o=-1,l;for(;++o<i.children.length;)l=i.children[o],l.type==="element"?s.push(toReact(t,l,o,i)):l.type==="text"?(i.type!=="element"||!tableElements.has(i.tagName)||!whitespace(l))&&s.push(l.value):l.type==="raw"&&!t.options.skipHtml&&s.push(l.value);return s}function toReact(t,i,s,o){const l=t.options,h=l.transformLinkUri===void 0?uriTransformer:l.transformLinkUri,p=t.schema,g=i.tagName,w={};let d=p,u;if(p.space==="html"&&g==="svg"&&(d=svg,t.schema=d),i.properties)for(u in i.properties)own$2.call(i.properties,u)&&addProperty(w,u,i.properties[u],t);(g==="ol"||g==="ul")&&t.listDepth++;const c=childrenToReact(t,i);(g==="ol"||g==="ul")&&t.listDepth--,t.schema=p;const y=i.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},x=l.components&&own$2.call(l.components,g)?l.components[g]:g,m=typeof x=="string"||x===React.Fragment;if(!ReactIs.isValidElementType(x))throw new TypeError(`Component for name \`${g}\` not defined or is not renderable`);if(w.key=s,g==="a"&&l.linkTarget&&(w.target=typeof l.linkTarget=="function"?l.linkTarget(String(w.href||""),i.children,typeof w.title=="string"?w.title:null):l.linkTarget),g==="a"&&h&&(w.href=h(String(w.href||""),i.children,typeof w.title=="string"?w.title:null)),!m&&g==="code"&&o.type==="element"&&o.tagName!=="pre"&&(w.inline=!0),!m&&(g==="h1"||g==="h2"||g==="h3"||g==="h4"||g==="h5"||g==="h6")&&(w.level=Number.parseInt(g.charAt(1),10)),g==="img"&&l.transformImageUri&&(w.src=l.transformImageUri(String(w.src||""),String(w.alt||""),typeof w.title=="string"?w.title:null)),!m&&g==="li"&&o.type==="element"){const S=getInputElement(i);w.checked=S&&S.properties?!!S.properties.checked:null,w.index=getElementsBeforeCount(o,i),w.ordered=o.tagName==="ol"}return!m&&(g==="ol"||g==="ul")&&(w.ordered=g==="ol",w.depth=t.listDepth),(g==="td"||g==="th")&&(w.align&&(w.style||(w.style={}),w.style.textAlign=w.align,delete w.align),m||(w.isHeader=g==="th")),!m&&g==="tr"&&o.type==="element"&&(w.isHeader=o.tagName==="thead"),l.sourcePos&&(w["data-sourcepos"]=flattenPosition(y)),!m&&l.rawSourcePos&&(w.sourcePosition=i.position),!m&&l.includeElementIndex&&(w.index=getElementsBeforeCount(o,i),w.siblingCount=getElementsBeforeCount(o)),m||(w.node=i),c.length>0?React.createElement(x,w,c):React.createElement(x,w)}function getInputElement(t){let i=-1;for(;++i<t.children.length;){const s=t.children[i];if(s.type==="element"&&s.tagName==="input")return s}return null}function getElementsBeforeCount(t,i){let s=-1,o=0;for(;++s<t.children.length&&t.children[s]!==i;)t.children[s].type==="element"&&o++;return o}function addProperty(t,i,s,o){const l=find(o.schema,i);let h=s;h==null||h!==h||(Array.isArray(h)&&(h=l.commaSeparated?stringify(h):stringify$1(h)),l.property==="style"&&typeof h=="string"&&(h=parseStyle(h)),l.space&&l.property?t[own$2.call(hastToReact,l.property)?hastToReact[l.property]:l.property]=h:l.attribute&&(t[l.attribute]=h))}function parseStyle(t){const i={};try{StyleToObject(t,s)}catch{}return i;function s(o,l){const h=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;i[h.replace(/-([a-z])/g,styleReplacer)]=l}}function styleReplacer(t,i){return i.toUpperCase()}function flattenPosition(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const own$1={}.hasOwnProperty,changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",deprecated={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function ReactMarkdown(t){for(const h in deprecated)if(own$1.call(deprecated,h)&&own$1.call(t,h)){const p=deprecated[h];console.warn(`[react-markdown] Warning: please ${p.to?`use \`${p.to}\` instead of`:"remove"} \`${h}\` (see <${changelog}#${p.id}> for more info)`),delete deprecated[h]}const i=unified().use(remarkParse).use(t.remarkPlugins||[]).use(remarkRehype,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(rehypeFilter,t),s=new VFile;typeof t.children=="string"?s.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const o=i.runSync(i.parse(s),s);if(o.type!=="root")throw new TypeError("Expected a `root` node");let l=React.createElement(React.Fragment,{},childrenToReact({options:t,schema:html,listDepth:0},o));return t.className&&(l=React.createElement("div",{className:t.className},l)),l}ReactMarkdown.propTypes={children:PropTypes.string,className:PropTypes.string,allowElement:PropTypes.func,allowedElements:PropTypes.arrayOf(PropTypes.string),disallowedElements:PropTypes.arrayOf(PropTypes.string),unwrapDisallowed:PropTypes.bool,remarkPlugins:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool,PropTypes.string,PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.any)]))])),rehypePlugins:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool,PropTypes.string,PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.any)]))])),sourcePos:PropTypes.bool,rawSourcePos:PropTypes.bool,skipHtml:PropTypes.bool,includeElementIndex:PropTypes.bool,transformLinkUri:PropTypes.oneOfType([PropTypes.func,PropTypes.bool]),linkTarget:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),transformImageUri:PropTypes.func,components:PropTypes.object};const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={tokenize:tokenizeEmailAutolink,previous:previousEmail},text={},gfmAutolinkLiteral={text};let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(t,i,s){const o=this;let l,h;return p;function p(c){return!gfmAtext(c)||!previousEmail.call(o,o.previous)||previousUnbalanced(o.events)?s(c):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),g(c))}function g(c){return gfmAtext(c)?(t.consume(c),g):c===64?(t.consume(c),w):s(c)}function w(c){return c===46?t.check(emailDomainDotTrail,u,d)(c):c===45||c===95||asciiAlphanumeric(c)?(h=!0,t.consume(c),w):u(c)}function d(c){return t.consume(c),l=!0,w}function u(c){return h&&l&&asciiAlpha(o.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),i(c)):s(c)}}function tokenizeWwwAutolink(t,i,s){const o=this;return l;function l(p){return p!==87&&p!==119||!previousWww.call(o,o.previous)||previousUnbalanced(o.events)?s(p):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(wwwPrefix,t.attempt(domain,t.attempt(path,h),s),s)(p))}function h(p){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),i(p)}}function tokenizeProtocolAutolink(t,i,s){const o=this;let l="",h=!1;return p;function p(c){return(c===72||c===104)&&previousProtocol.call(o,o.previous)&&!previousUnbalanced(o.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),l+=String.fromCodePoint(c),t.consume(c),g):s(c)}function g(c){if(asciiAlpha(c)&&l.length<5)return l+=String.fromCodePoint(c),t.consume(c),g;if(c===58){const y=l.toLowerCase();if(y==="http"||y==="https")return t.consume(c),w}return s(c)}function w(c){return c===47?(t.consume(c),h?d:(h=!0,w)):s(c)}function d(c){return c===null||asciiControl(c)||markdownLineEndingOrSpace(c)||unicodeWhitespace(c)||unicodePunctuation(c)?s(c):t.attempt(domain,t.attempt(path,u),s)(c)}function u(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),i(c)}}function tokenizeWwwPrefix(t,i,s){let o=0;return l;function l(p){return(p===87||p===119)&&o<3?(o++,t.consume(p),l):p===46&&o===3?(t.consume(p),h):s(p)}function h(p){return p===null?s(p):i(p)}}function tokenizeDomain(t,i,s){let o,l,h;return p;function p(d){return d===46||d===95?t.check(trail,w,g)(d):d===null||markdownLineEndingOrSpace(d)||unicodeWhitespace(d)||d!==45&&unicodePunctuation(d)?w(d):(h=!0,t.consume(d),p)}function g(d){return d===95?o=!0:(l=o,o=void 0),t.consume(d),p}function w(d){return l||o||!h?s(d):i(d)}}function tokenizePath(t,i){let s=0,o=0;return l;function l(p){return p===40?(s++,t.consume(p),l):p===41&&o<s?h(p):p===33||p===34||p===38||p===39||p===41||p===42||p===44||p===46||p===58||p===59||p===60||p===63||p===93||p===95||p===126?t.check(trail,i,h)(p):p===null||markdownLineEndingOrSpace(p)||unicodeWhitespace(p)?i(p):(t.consume(p),l)}function h(p){return p===41&&o++,t.consume(p),l}}function tokenizeTrail(t,i,s){return o;function o(g){return g===33||g===34||g===39||g===41||g===42||g===44||g===46||g===58||g===59||g===63||g===95||g===126?(t.consume(g),o):g===38?(t.consume(g),h):g===93?(t.consume(g),l):g===60||g===null||markdownLineEndingOrSpace(g)||unicodeWhitespace(g)?i(g):s(g)}function l(g){return g===null||g===40||g===91||markdownLineEndingOrSpace(g)||unicodeWhitespace(g)?i(g):o(g)}function h(g){return asciiAlpha(g)?p(g):s(g)}function p(g){return g===59?(t.consume(g),o):asciiAlpha(g)?(t.consume(g),p):s(g)}}function tokenizeEmailDomainDotTrail(t,i,s){return o;function o(h){return t.consume(h),l}function l(h){return asciiAlphanumeric(h)?s(h):i(h)}}function previousWww(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||markdownLineEndingOrSpace(t)}function previousProtocol(t){return!asciiAlpha(t)}function previousEmail(t){return!(t===47||gfmAtext(t))}function gfmAtext(t){return t===43||t===45||t===46||t===95||asciiAlphanumeric(t)}function previousUnbalanced(t){let i=t.length,s=!1;for(;i--;){const o=t[i][1];if((o.type==="labelLink"||o.type==="labelImage")&&!o._balanced){s=!0;break}if(o._gfmAutolinkLiteralWalkedInto){s=!1;break}}return t.length>0&&!s&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),s}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{tokenize:tokenizeGfmFootnoteCall},93:{add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(t,i,s){const o=this;let l=o.events.length;const h=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let p;for(;l--;){const w=o.events[l][1];if(w.type==="labelImage"){p=w;break}if(w.type==="gfmFootnoteCall"||w.type==="labelLink"||w.type==="label"||w.type==="image"||w.type==="link")break}return g;function g(w){if(!p||!p._balanced)return s(w);const d=normalizeIdentifier(o.sliceSerialize({start:p.end,end:o.now()}));return d.codePointAt(0)!==94||!h.includes(d.slice(1))?s(w):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(w),t.exit("gfmFootnoteCallLabelMarker"),i(w))}}function resolveToPotentialGfmFootnoteCall(t,i){let s=t.length;for(;s--;)if(t[s][1].type==="labelImage"&&t[s][0]==="enter"){t[s][1];break}t[s+1][1].type="data",t[s+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},t[s+3][1].start),end:Object.assign({},t[t.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},t[s+3][1].end),end:Object.assign({},t[s+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const h={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},t[t.length-1][1].start)},p={type:"chunkString",contentType:"string",start:Object.assign({},h.start),end:Object.assign({},h.end)},g=[t[s+1],t[s+2],["enter",o,i],t[s+3],t[s+4],["enter",l,i],["exit",l,i],["enter",h,i],["enter",p,i],["exit",p,i],["exit",h,i],t[t.length-2],t[t.length-1],["exit",o,i]];return t.splice(s,t.length-s+1,...g),t}function tokenizeGfmFootnoteCall(t,i,s){const o=this,l=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let h=0,p;return g;function g(c){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),w}function w(c){return c!==94?s(c):(t.enter("gfmFootnoteCallMarker"),t.consume(c),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(c){if(h>999||c===93&&!p||c===null||c===91||markdownLineEndingOrSpace(c))return s(c);if(c===93){t.exit("chunkString");const y=t.exit("gfmFootnoteCallString");return l.includes(normalizeIdentifier(o.sliceSerialize(y)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),i):s(c)}return markdownLineEndingOrSpace(c)||(p=!0),h++,t.consume(c),c===92?u:d}function u(c){return c===91||c===92||c===93?(t.consume(c),h++,d):d(c)}}function tokenizeDefinitionStart(t,i,s){const o=this,l=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let h,p=0,g;return w;function w(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):s(m)}function u(m){if(p>999||m===93&&!g||m===null||m===91||markdownLineEndingOrSpace(m))return s(m);if(m===93){t.exit("chunkString");const S=t.exit("gfmFootnoteDefinitionLabelString");return h=normalizeIdentifier(o.sliceSerialize(S)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),y}return markdownLineEndingOrSpace(m)||(g=!0),p++,t.consume(m),m===92?c:u}function c(m){return m===91||m===92||m===93?(t.consume(m),p++,u):u(m)}function y(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l.includes(h)||l.push(h),factorySpace(t,x,"gfmFootnoteDefinitionWhitespace")):s(m)}function x(m){return i(m)}}function tokenizeDefinitionContinuation(t,i,s){return t.check(blankLine,i,t.attempt(indent,i,s))}function gfmFootnoteDefinitionEnd(t){t.exit("gfmFootnoteDefinition")}function tokenizeIndent(t,i,s){const o=this;return factorySpace(t,l,"gfmFootnoteDefinitionIndent",5);function l(h){const p=o.events[o.events.length-1];return p&&p[1].type==="gfmFootnoteDefinitionIndent"&&p[2].sliceSerialize(p[1],!0).length===4?i(h):s(h)}}function gfmStrikethrough(t){let s=(t||{}).singleTilde;const o={tokenize:h,resolveAll:l};return s==null&&(s=!0),{text:{126:o},insideSpan:{null:[o]},attentionMarkers:{null:[126]}};function l(p,g){let w=-1;for(;++w<p.length;)if(p[w][0]==="enter"&&p[w][1].type==="strikethroughSequenceTemporary"&&p[w][1]._close){let d=w;for(;d--;)if(p[d][0]==="exit"&&p[d][1].type==="strikethroughSequenceTemporary"&&p[d][1]._open&&p[w][1].end.offset-p[w][1].start.offset===p[d][1].end.offset-p[d][1].start.offset){p[w][1].type="strikethroughSequence",p[d][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},p[d][1].start),end:Object.assign({},p[w][1].end)},c={type:"strikethroughText",start:Object.assign({},p[d][1].end),end:Object.assign({},p[w][1].start)},y=[["enter",u,g],["enter",p[d][1],g],["exit",p[d][1],g],["enter",c,g]],x=g.parser.constructs.insideSpan.null;x&&splice(y,y.length,0,resolveAll(x,p.slice(d+1,w),g)),splice(y,y.length,0,[["exit",c,g],["enter",p[w][1],g],["exit",p[w][1],g],["exit",u,g]]),splice(p,d-1,w-d+3,y),w=d+y.length-2;break}}for(w=-1;++w<p.length;)p[w][1].type==="strikethroughSequenceTemporary"&&(p[w][1].type="data");return p}function h(p,g,w){const d=this.previous,u=this.events;let c=0;return y;function y(m){return d===126&&u[u.length-1][1].type!=="characterEscape"?w(m):(p.enter("strikethroughSequenceTemporary"),x(m))}function x(m){const S=classifyCharacter(d);if(m===126)return c>1?w(m):(p.consume(m),c++,x);if(c<2&&!s)return w(m);const k=p.exit("strikethroughSequenceTemporary"),E=classifyCharacter(m);return k._open=!E||E===2&&!!S,k._close=!S||S===2&&!!E,g(m)}}}class EditMap{constructor(){this.map=[]}add(i,s,o){addImpl(this,i,s,o)}consume(i){if(this.map.sort((h,p)=>h[0]-p[0]),this.map.length===0)return;let s=this.map.length;const o=[];for(;s>0;)s-=1,o.push(i.slice(this.map[s][0]+this.map[s][1])),o.push(this.map[s][2]),i.length=this.map[s][0];o.push([...i]),i.length=0;let l=o.pop();for(;l;)i.push(...l),l=o.pop();this.map.length=0}}function addImpl(t,i,s,o){let l=0;if(!(s===0&&o.length===0)){for(;l<t.map.length;){if(t.map[l][0]===i){t.map[l][1]+=s,t.map[l][2].push(...o);return}l+=1}t.map.push([i,s,o])}}function gfmTableAlign(t,i){let s=!1;const o=[];for(;i<t.length;){const l=t[i];if(s){if(l[0]==="enter")l[1].type==="tableContent"&&o.push(t[i+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(t[i-1][1].type==="tableDelimiterMarker"){const h=o.length-1;o[h]=o[h]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(s=!0);i+=1}return o}const gfmTable={flow:{null:{tokenize:tokenizeTable,resolveAll:resolveTable}}};function tokenizeTable(t,i,s){const o=this;let l=0,h=0,p;return g;function g(q){let Q=o.events.length-1;for(;Q>-1;){const ne=o.events[Q][1].type;if(ne==="lineEnding"||ne==="linePrefix")Q--;else break}const ie=Q>-1?o.events[Q][1].type:null,te=ie==="tableHead"||ie==="tableRow"?F:w;return te===F&&o.parser.lazy[o.now().line]?s(q):te(q)}function w(q){return t.enter("tableHead"),t.enter("tableRow"),d(q)}function d(q){return q===124||(p=!0,h+=1),u(q)}function u(q){return q===null?s(q):markdownLineEnding(q)?h>1?(h=0,o.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),x):s(q):markdownSpace(q)?factorySpace(t,u,"whitespace")(q):(h+=1,p&&(p=!1,l+=1),q===124?(t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),p=!0,u):(t.enter("data"),c(q)))}function c(q){return q===null||q===124||markdownLineEndingOrSpace(q)?(t.exit("data"),u(q)):(t.consume(q),q===92?y:c)}function y(q){return q===92||q===124?(t.consume(q),c):c(q)}function x(q){return o.interrupt=!1,o.parser.lazy[o.now().line]?s(q):(t.enter("tableDelimiterRow"),p=!1,markdownSpace(q)?factorySpace(t,m,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):m(q))}function m(q){return q===45||q===58?k(q):q===124?(p=!0,t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),S):j(q)}function S(q){return markdownSpace(q)?factorySpace(t,k,"whitespace")(q):k(q)}function k(q){return q===58?(h+=1,p=!0,t.enter("tableDelimiterMarker"),t.consume(q),t.exit("tableDelimiterMarker"),E):q===45?(h+=1,E(q)):q===null||markdownLineEnding(q)?z(q):j(q)}function E(q){return q===45?(t.enter("tableDelimiterFiller"),I(q)):j(q)}function I(q){return q===45?(t.consume(q),I):q===58?(p=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(q),t.exit("tableDelimiterMarker"),L):(t.exit("tableDelimiterFiller"),L(q))}function L(q){return markdownSpace(q)?factorySpace(t,z,"whitespace")(q):z(q)}function z(q){return q===124?m(q):q===null||markdownLineEnding(q)?!p||l!==h?j(q):(t.exit("tableDelimiterRow"),t.exit("tableHead"),i(q)):j(q)}function j(q){return s(q)}function F(q){return t.enter("tableRow"),V(q)}function V(q){return q===124?(t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),V):q===null||markdownLineEnding(q)?(t.exit("tableRow"),i(q)):markdownSpace(q)?factorySpace(t,V,"whitespace")(q):(t.enter("data"),H(q))}function H(q){return q===null||q===124||markdownLineEndingOrSpace(q)?(t.exit("data"),V(q)):(t.consume(q),q===92?X:H)}function X(q){return q===92||q===124?(t.consume(q),H):H(q)}}function resolveTable(t,i){let s=-1,o=!0,l=0,h=[0,0,0,0],p=[0,0,0,0],g=!1,w=0,d,u,c;const y=new EditMap;for(;++s<t.length;){const x=t[s],m=x[1];x[0]==="enter"?m.type==="tableHead"?(g=!1,w!==0&&(flushTableEnd(y,i,w,d,u),u=void 0,w=0),d={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},y.add(s,0,[["enter",d,i]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(o=!0,c=void 0,h=[0,0,0,0],p=[0,s+1,0,0],g&&(g=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},y.add(s,0,[["enter",u,i]])),l=m.type==="tableDelimiterRow"?2:u?3:1):l&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(o=!1,p[2]===0&&(h[1]!==0&&(p[0]=p[1],c=flushCell(y,i,h,l,void 0,c),h=[0,0,0,0]),p[2]=s)):m.type==="tableCellDivider"&&(o?o=!1:(h[1]!==0&&(p[0]=p[1],c=flushCell(y,i,h,l,void 0,c)),h=p,p=[h[1],s,0,0])):m.type==="tableHead"?(g=!0,w=s):m.type==="tableRow"||m.type==="tableDelimiterRow"?(w=s,h[1]!==0?(p[0]=p[1],c=flushCell(y,i,h,l,s,c)):p[1]!==0&&(c=flushCell(y,i,p,l,s,c)),l=0):l&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(p[3]=s)}for(w!==0&&flushTableEnd(y,i,w,d,u),y.consume(i.events),s=-1;++s<i.events.length;){const x=i.events[s];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=gfmTableAlign(i.events,s))}return t}function flushCell(t,i,s,o,l,h){const p=o===1?"tableHeader":o===2?"tableDelimiter":"tableData",g="tableContent";s[0]!==0&&(h.end=Object.assign({},getPoint(i.events,s[0])),t.add(s[0],0,[["exit",h,i]]));const w=getPoint(i.events,s[1]);if(h={type:p,start:Object.assign({},w),end:Object.assign({},w)},t.add(s[1],0,[["enter",h,i]]),s[2]!==0){const d=getPoint(i.events,s[2]),u=getPoint(i.events,s[3]),c={type:g,start:Object.assign({},d),end:Object.assign({},u)};if(t.add(s[2],0,[["enter",c,i]]),o!==2){const y=i.events[s[2]],x=i.events[s[3]];if(y[1].end=Object.assign({},x[1].end),y[1].type="chunkText",y[1].contentType="text",s[3]>s[2]+1){const m=s[2]+1,S=s[3]-s[2]-1;t.add(m,S,[])}}t.add(s[3]+1,0,[["exit",c,i]])}return l!==void 0&&(h.end=Object.assign({},getPoint(i.events,l)),t.add(l,0,[["exit",h,i]]),h=void 0),h}function flushTableEnd(t,i,s,o,l){const h=[],p=getPoint(i.events,s);l&&(l.end=Object.assign({},p),h.push(["exit",l,i])),o.end=Object.assign({},p),h.push(["exit",o,i]),t.add(s+1,0,h)}function getPoint(t,i){const s=t[i],o=s[0]==="enter"?"start":"end";return s[1][o]}const tasklistCheck={tokenize:tokenizeTasklistCheck},gfmTaskListItem={text:{91:tasklistCheck}};function tokenizeTasklistCheck(t,i,s){const o=this;return l;function l(w){return o.previous!==null||!o._gfmTasklistFirstContentOfListItem?s(w):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(w),t.exit("taskListCheckMarker"),h)}function h(w){return markdownLineEndingOrSpace(w)?(t.enter("taskListCheckValueUnchecked"),t.consume(w),t.exit("taskListCheckValueUnchecked"),p):w===88||w===120?(t.enter("taskListCheckValueChecked"),t.consume(w),t.exit("taskListCheckValueChecked"),p):s(w)}function p(w){return w===93?(t.enter("taskListCheckMarker"),t.consume(w),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),g):s(w)}function g(w){return markdownLineEnding(w)?i(w):markdownSpace(w)?t.check({tokenize:spaceThenNonSpace},i,s)(w):s(w)}}function spaceThenNonSpace(t,i,s){return factorySpace(t,o,"whitespace");function o(l){return l===null?s(l):i(l)}}function gfm(t){return combineExtensions([gfmAutolinkLiteral,gfmFootnote(),gfmStrikethrough(t),gfmTable,gfmTaskListItem])}function ccount(t,i){const s=String(t);if(typeof i!="string")throw new TypeError("Expected character");let o=0,l=s.indexOf(i);for(;l!==-1;)o++,l=s.indexOf(i,l+i.length);return o}function escapeStringRegexp(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const own={}.hasOwnProperty,findAndReplace=function(t,i,s,o){let l,h;typeof i=="string"||i instanceof RegExp?(h=[[i,s]],l=o):(h=i,l=s),l||(l={});const p=convert(l.ignore||[]),g=toPairs(h);let w=-1;for(;++w<g.length;)visitParents(t,"text",d);return t;function d(c,y){let x=-1,m;for(;++x<y.length;){const S=y[x];if(p(S,m?m.children.indexOf(S):void 0,m))return;m=S}if(m)return u(c,y)}function u(c,y){const x=y[y.length-1],m=g[w][0],S=g[w][1];let k=0;const E=x.children.indexOf(c);let I=!1,L=[];m.lastIndex=0;let z=m.exec(c.value);for(;z;){const j=z.index,F={index:z.index,input:z.input,stack:[...y,c]};let V=S(...z,F);if(typeof V=="string"&&(V=V.length>0?{type:"text",value:V}:void 0),V!==!1&&(k!==j&&L.push({type:"text",value:c.value.slice(k,j)}),Array.isArray(V)?L.push(...V):V&&L.push(V),k=j+z[0].length,I=!0),!m.global)break;z=m.exec(c.value)}return I?(k<c.value.length&&L.push({type:"text",value:c.value.slice(k)}),x.children.splice(E,1,...L)):L=[c],E+L.length}};function toPairs(t){const i=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let s=-1;for(;++s<t.length;)i.push([toExpression(t[s][0]),toFunction(t[s][1])])}else{let s;for(s in t)own.call(t,s)&&i.push([toExpression(s),toFunction(t[s])])}return i}function toExpression(t){return typeof t=="string"?new RegExp(escapeStringRegexp(t),"g"):t}function toFunction(t){return typeof t=="function"?t:()=>t}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"],gfmAutolinkLiteralFromMarkdown={transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},gfmAutolinkLiteralToMarkdown={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]};function enterLiteralAutolink(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function enterLiteralAutolinkValue(t){this.config.enter.autolinkProtocol.call(this,t)}function exitLiteralAutolinkHttp(t){this.config.exit.autolinkProtocol.call(this,t)}function exitLiteralAutolinkWww(t){this.config.exit.data.call(this,t);const i=this.stack[this.stack.length-1];i.url="http://"+this.sliceSerialize(t)}function exitLiteralAutolinkEmail(t){this.config.exit.autolinkEmail.call(this,t)}function exitLiteralAutolink(t){this.exit(t)}function transformGfmAutolinkLiterals(t){findAndReplace(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,findEmail]],{ignore:["link","linkReference"]})}function findUrl(t,i,s,o,l){let h="";if(!previous(l)||(/^w/i.test(i)&&(s=i+s,i="",h="http://"),!isCorrectDomain(s)))return!1;const p=splitUrl(s+o);if(!p[0])return!1;const g={type:"link",title:null,url:h+i+p[0],children:[{type:"text",value:i+p[0]}]};return p[1]?[g,{type:"text",value:p[1]}]:g}function findEmail(t,i,s,o){return!previous(o,!0)||/[-\d_]$/.test(s)?!1:{type:"link",title:null,url:"mailto:"+i+"@"+s,children:[{type:"text",value:i+"@"+s}]}}function isCorrectDomain(t){const i=t.split(".");return!(i.length<2||i[i.length-1]&&(/_/.test(i[i.length-1])||!/[a-zA-Z\d]/.test(i[i.length-1]))||i[i.length-2]&&(/_/.test(i[i.length-2])||!/[a-zA-Z\d]/.test(i[i.length-2])))}function splitUrl(t){const i=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!i)return[t,void 0];t=t.slice(0,i.index);let s=i[0],o=s.indexOf(")");const l=ccount(t,"(");let h=ccount(t,")");for(;o!==-1&&l>h;)t+=s.slice(0,o+1),s=s.slice(o+1),o=s.indexOf(")"),h++;return[t,s]}function previous(t,i){const s=t.input.charCodeAt(t.index-1);return(t.index===0||unicodeWhitespace(s)||unicodePunctuation(s))&&(!i||s!==47)}function association(t){return t.label||!t.identifier?t.label||"":decodeString(t.identifier)}function containerFlow(t,i,s){const o=i.indexStack,l=t.children||[],h=i.createTracker(s),p=[];let g=-1;for(o.push(-1);++g<l.length;){const w=l[g];o[o.length-1]=g,p.push(h.move(i.handle(w,t,i,{before:`
`,after:`
`,...h.current()}))),w.type!=="list"&&(i.bulletLastUsed=void 0),g<l.length-1&&p.push(h.move(between(w,l[g+1],t,i)))}return o.pop(),p.join("")}function between(t,i,s,o){let l=o.join.length;for(;l--;){const h=o.join[l](t,i,s,o);if(h===!0||h===1)break;if(typeof h=="number")return`
`.repeat(1+h);if(h===!1)return`

<!---->

`}return`

`}const eol=/\r?\n|\r/g;function indentLines(t,i){const s=[];let o=0,l=0,h;for(;h=eol.exec(t);)p(t.slice(o,h.index)),s.push(h[0]),o=h.index+h[0].length,l++;return p(t.slice(o)),s.join("");function p(g){s.push(i(g,l,!g))}}function patternCompile(t){if(!t._compiled){const i=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((i?"("+i+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function patternInScope(t,i){return listInScope(t,i.inConstruct,!0)&&!listInScope(t,i.notInConstruct,!1)}function listInScope(t,i,s){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return s;let o=-1;for(;++o<i.length;)if(t.includes(i[o]))return!0;return!1}function safe(t,i,s){const o=(s.before||"")+(i||"")+(s.after||""),l=[],h=[],p={};let g=-1;for(;++g<t.unsafe.length;){const u=t.unsafe[g];if(!patternInScope(t.stack,u))continue;const c=patternCompile(u);let y;for(;y=c.exec(o);){const x="before"in u||!!u.atBreak,m="after"in u,S=y.index+(x?y[1].length:0);l.includes(S)?(p[S].before&&!x&&(p[S].before=!1),p[S].after&&!m&&(p[S].after=!1)):(l.push(S),p[S]={before:x,after:m})}}l.sort(numerical);let w=s.before?s.before.length:0;const d=o.length-(s.after?s.after.length:0);for(g=-1;++g<l.length;){const u=l[g];u<w||u>=d||u+1<d&&l[g+1]===u+1&&p[u].after&&!p[u+1].before&&!p[u+1].after||l[g-1]===u-1&&p[u].before&&!p[u-1].before&&!p[u-1].after||(w!==u&&h.push(escapeBackslashes(o.slice(w,u),"\\")),w=u,/[!-/:-@[-`{-~]/.test(o.charAt(u))&&(!s.encode||!s.encode.includes(o.charAt(u)))?h.push("\\"):(h.push("&#x"+o.charCodeAt(u).toString(16).toUpperCase()+";"),w++))}return h.push(escapeBackslashes(o.slice(w,d),s.after)),h.join("")}function numerical(t,i){return t-i}function escapeBackslashes(t,i){const s=/\\(?=[!-/:-@[-`{-~])/g,o=[],l=[],h=t+i;let p=-1,g=0,w;for(;w=s.exec(h);)o.push(w.index);for(;++p<o.length;)g!==o[p]&&l.push(t.slice(g,o[p])),l.push("\\"),g=o[p];return l.push(t.slice(g)),l.join("")}function track(t){const i=t||{},s=i.now||{};let o=i.lineShift||0,l=s.line||1,h=s.column||1;return{move:w,current:p,shift:g};function p(){return{now:{line:l,column:h},lineShift:o}}function g(d){o+=d}function w(d){const u=d||"",c=u.split(/\r?\n|\r/g),y=c[c.length-1];return l+=c.length-1,h=c.length===1?h+y.length:1+y.length+o,u}}footnoteReference.peek=footnoteReferencePeek;function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}}}function gfmFootnoteToMarkdown(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}}}function enterFootnoteDefinition(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(t){const i=this.resume(),s=this.stack[this.stack.length-1];s.label=i,s.identifier=normalizeIdentifier(this.sliceSerialize(t)).toLowerCase()}function exitFootnoteDefinition(t){this.exit(t)}function enterFootnoteCall(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(t){const i=this.resume(),s=this.stack[this.stack.length-1];s.label=i,s.identifier=normalizeIdentifier(this.sliceSerialize(t)).toLowerCase()}function exitFootnoteCall(t){this.exit(t)}function footnoteReference(t,i,s,o){const l=track(o);let h=l.move("[^");const p=s.enter("footnoteReference"),g=s.enter("reference");return h+=l.move(safe(s,association(t),{...l.current(),before:h,after:"]"})),g(),p(),h+=l.move("]"),h}function footnoteReferencePeek(){return"["}function footnoteDefinition(t,i,s,o){const l=track(o);let h=l.move("[^");const p=s.enter("footnoteDefinition"),g=s.enter("label");return h+=l.move(safe(s,association(t),{...l.current(),before:h,after:"]"})),g(),h+=l.move("]:"+(t.children&&t.children.length>0?" ":"")),l.shift(4),h+=l.move(indentLines(containerFlow(t,s,l.current()),map)),p(),h}function map(t,i,s){return i===0?t:(s?"":"    ")+t}function containerPhrasing(t,i,s){const o=i.indexStack,l=t.children||[],h=[];let p=-1,g=s.before;o.push(-1);let w=i.createTracker(s);for(;++p<l.length;){const d=l[p];let u;if(o[o.length-1]=p,p+1<l.length){let c=i.handle.handlers[l[p+1].type];c&&c.peek&&(c=c.peek),u=c?c(l[p+1],t,i,{before:"",after:"",...w.current()}).charAt(0):""}else u=s.after;h.length>0&&(g==="\r"||g===`
`)&&d.type==="html"&&(h[h.length-1]=h[h.length-1].replace(/(\r?\n|\r)$/," "),g=" ",w=i.createTracker(s),w.move(h.join(""))),h.push(w.move(i.handle(d,t,i,{...w.current(),before:g,after:u}))),g=h[h.length-1].slice(-1)}return o.pop(),h.join("")}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;const gfmStrikethroughFromMarkdown={canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},gfmStrikethroughToMarkdown={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}};function enterStrikethrough(t){this.enter({type:"delete",children:[]},t)}function exitStrikethrough(t){this.exit(t)}function handleDelete(t,i,s,o){const l=track(o),h=s.enter("strikethrough");let p=l.move("~~");return p+=containerPhrasing(t,s,{...l.current(),before:p,after:"~"}),p+=l.move("~~"),h(),p}function peekDelete(){return"~"}inlineCode.peek=inlineCodePeek;function inlineCode(t,i,s){let o=t.value||"",l="`",h=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(o);)l+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++h<s.unsafe.length;){const p=s.unsafe[h],g=patternCompile(p);let w;if(p.atBreak)for(;w=g.exec(o);){let d=w.index;o.charCodeAt(d)===10&&o.charCodeAt(d-1)===13&&d--,o=o.slice(0,d)+" "+o.slice(w.index+1)}}return l+o+l}function inlineCodePeek(){return"`"}function defaultStringLength(t){return t.length}function markdownTable(t,i){const s=i||{},o=(s.align||[]).concat(),l=s.stringLength||defaultStringLength,h=[],p=[],g=[],w=[];let d=0,u=-1;for(;++u<t.length;){const S=[],k=[];let E=-1;for(t[u].length>d&&(d=t[u].length);++E<t[u].length;){const I=serialize(t[u][E]);if(s.alignDelimiters!==!1){const L=l(I);k[E]=L,(w[E]===void 0||L>w[E])&&(w[E]=L)}S.push(I)}p[u]=S,g[u]=k}let c=-1;if(typeof o=="object"&&"length"in o)for(;++c<d;)h[c]=toAlignment(o[c]);else{const S=toAlignment(o);for(;++c<d;)h[c]=S}c=-1;const y=[],x=[];for(;++c<d;){const S=h[c];let k="",E="";S===99?(k=":",E=":"):S===108?k=":":S===114&&(E=":");let I=s.alignDelimiters===!1?1:Math.max(1,w[c]-k.length-E.length);const L=k+"-".repeat(I)+E;s.alignDelimiters!==!1&&(I=k.length+I+E.length,I>w[c]&&(w[c]=I),x[c]=I),y[c]=L}p.splice(1,0,y),g.splice(1,0,x),u=-1;const m=[];for(;++u<p.length;){const S=p[u],k=g[u];c=-1;const E=[];for(;++c<d;){const I=S[c]||"";let L="",z="";if(s.alignDelimiters!==!1){const j=w[c]-(k[c]||0),F=h[c];F===114?L=" ".repeat(j):F===99?j%2?(L=" ".repeat(j/2+.5),z=" ".repeat(j/2-.5)):(L=" ".repeat(j/2),z=L):z=" ".repeat(j)}s.delimiterStart!==!1&&!c&&E.push("|"),s.padding!==!1&&!(s.alignDelimiters===!1&&I==="")&&(s.delimiterStart!==!1||c)&&E.push(" "),s.alignDelimiters!==!1&&E.push(L),E.push(I),s.alignDelimiters!==!1&&E.push(z),s.padding!==!1&&E.push(" "),(s.delimiterEnd!==!1||c!==d-1)&&E.push("|")}m.push(s.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return m.join(`
`)}function serialize(t){return t==null?"":String(t)}function toAlignment(t){const i=typeof t=="string"?t.codePointAt(0):0;return i===67||i===99?99:i===76||i===108?108:i===82||i===114?114:0}const gfmTableFromMarkdown={enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}};function enterTable(t){const i=t._align;this.enter({type:"table",align:i.map(s=>s==="none"?null:s),children:[]},t),this.setData("inTable",!0)}function exitTable(t){this.exit(t),this.setData("inTable")}function enterRow(t){this.enter({type:"tableRow",children:[]},t)}function exit(t){this.exit(t)}function enterCell(t){this.enter({type:"tableCell",children:[]},t)}function exitCodeText(t){let i=this.resume();this.getData("inTable")&&(i=i.replace(/\\([\\|])/g,replace));const s=this.stack[this.stack.length-1];s.value=i,this.exit(t)}function replace(t,i){return i==="|"?i:t}function gfmTableToMarkdown(t){const i=t||{},s=i.tableCellPadding,o=i.tablePipeAlign,l=i.stringLength,h=s?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:p,tableRow:g,tableCell:w,inlineCode:y}};function p(x,m,S,k){return d(u(x,S,k),x.align)}function g(x,m,S,k){const E=c(x,S,k),I=d([E]);return I.slice(0,I.indexOf(`
`))}function w(x,m,S,k){const E=S.enter("tableCell"),I=S.enter("phrasing"),L=containerPhrasing(x,S,{...k,before:h,after:h});return I(),E(),L}function d(x,m){return markdownTable(x,{align:m,alignDelimiters:o,padding:s,stringLength:l})}function u(x,m,S){const k=x.children;let E=-1;const I=[],L=m.enter("table");for(;++E<k.length;)I[E]=c(k[E],m,S);return L(),I}function c(x,m,S){const k=x.children;let E=-1;const I=[],L=m.enter("tableRow");for(;++E<k.length;)I[E]=w(k[E],x,m,S);return L(),I}function y(x,m,S){let k=inlineCode(x,m,S);return S.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function checkBullet(t){const i=t.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function checkListItemIndent(t){const i=t.options.listItemIndent||"tab";if(i===1||i==="1")return"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function listItem(t,i,s,o){const l=checkListItemIndent(s);let h=s.bulletCurrent||checkBullet(s);i&&i.type==="list"&&i.ordered&&(h=(typeof i.start=="number"&&i.start>-1?i.start:1)+(s.options.incrementListMarker===!1?0:i.children.indexOf(t))+h);let p=h.length+1;(l==="tab"||l==="mixed"&&(i&&i.type==="list"&&i.spread||t.spread))&&(p=Math.ceil(p/4)*4);const g=s.createTracker(o);g.move(h+" ".repeat(p-h.length)),g.shift(p);const w=s.enter("listItem"),d=s.indentLines(s.containerFlow(t,g.current()),u);return w(),d;function u(c,y,x){return y?(x?"":" ".repeat(p))+c:(x?h:h+" ".repeat(p-h.length))+c}}const gfmTaskListItemFromMarkdown={exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}},gfmTaskListItemToMarkdown={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}};function exitCheck(t){const i=this.stack[this.stack.length-2];i.checked=t.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(t){const i=this.stack[this.stack.length-2];if(i&&i.type==="listItem"&&typeof i.checked=="boolean"){const s=this.stack[this.stack.length-1],o=s.children[0];if(o&&o.type==="text"){const l=i.children;let h=-1,p;for(;++h<l.length;){const g=l[h];if(g.type==="paragraph"){p=g;break}}p===s&&(o.value=o.value.slice(1),o.value.length===0?s.children.shift():s.position&&o.position&&typeof o.position.start.offset=="number"&&(o.position.start.column++,o.position.start.offset++,s.position.start=Object.assign({},o.position.start)))}}this.exit(t)}function listItemWithTaskListItem(t,i,s,o){const l=t.children[0],h=typeof t.checked=="boolean"&&l&&l.type==="paragraph",p="["+(t.checked?"x":" ")+"] ",g=track(o);h&&g.move(p);let w=listItem(t,i,s,{...o,...g.current()});return h&&(w=w.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),w;function d(u){return u+p}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown,gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown,gfmTableFromMarkdown,gfmTaskListItemFromMarkdown]}function gfmToMarkdown(t){return{extensions:[gfmAutolinkLiteralToMarkdown,gfmFootnoteToMarkdown(),gfmStrikethroughToMarkdown,gfmTableToMarkdown(t),gfmTaskListItemToMarkdown]}}function remarkGfm(t={}){const i=this.data();s("micromarkExtensions",gfm(t)),s("fromMarkdownExtensions",gfmFromMarkdown()),s("toMarkdownExtensions",gfmToMarkdown(t));function s(o,l){(i[o]?i[o]:i[o]=[]).push(l)}}const MarkdownEditor=()=>{const[t,i]=reactExports.useState(""),[s,o]=reactExports.useState(!1),l=()=>{alert("Resumo salvo com sucesso! 🚀")};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0},children:"📝 Resumos"}),jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:l,children:"Salvar Resumo"})]}),jsxRuntimeExports.jsx("div",{className:"simple-grid",style:{gap:"1.5rem"},children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:s?"Visualização":"Editor de Resumo"})}),jsxRuntimeExports.jsxs(CardContent,{children:[s?jsxRuntimeExports.jsx("div",{className:"prose p-4 bg-card rounded border overflow-auto max-h-[600px]",children:jsxRuntimeExports.jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],children:t})}):jsxRuntimeExports.jsx("textarea",{className:"simple-input w-full min-h-[300px]",value:t,onChange:h=>i(h.target.value)}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex gap-2",children:jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:()=>o(!s),children:s?"Editar":"Visualizar"})})]})]})})]})},Select=({defaultValue:t,value:i,onValueChange:s,children:o})=>{const[l,h]=reactExports.useState(!1),[p,g]=reactExports.useState(t||""),w=d=>{i===void 0&&g(d),s?.(d),h(!1)};return jsxRuntimeExports.jsxs("div",{className:"relative inline-block w-full",children:[jsxRuntimeExports.jsx("div",{onClick:()=>h(d=>!d),children:React.Children.toArray(o).find(d=>d.type===SelectTrigger)}),l&&jsxRuntimeExports.jsx("div",{className:"absolute mt-1 w-full z-50",children:React.Children.map(o,d=>d.type===SelectContent?React.cloneElement(d,{children:React.Children.map(d.props.children,u=>React.cloneElement(u,{onClick:()=>w(u.props.value)}))}):null)})]})},SelectTrigger=({children:t,className:i=""})=>jsxRuntimeExports.jsx("button",{type:"button",className:`flex h-10 w-full items-center justify-between rounded-md border bg-background px-3 py-2 text-sm ${i}`,children:t}),SelectContent=({children:t})=>jsxRuntimeExports.jsx("div",{className:"rounded-md border bg-popover",children:t}),SelectItem=({children:t,...i})=>jsxRuntimeExports.jsx("div",{className:"px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",...i,children:t}),SelectValue=({placeholder:t})=>jsxRuntimeExports.jsx("span",{children:t}),TIPOS=[{value:"todos",label:"Todos"},{value:"feynman",label:"Explicações Feynman"},{value:"resumo",label:"Resumos"},{value:"nota",label:"Notas"}],MeusConteudos=()=>{const[t,i]=reactExports.useState([]),[s,o]=reactExports.useState("todos"),[l,h]=reactExports.useState(null),[p,g]=reactExports.useState(!1);reactExports.useEffect(()=>{const y=localStorage.getItem("meus-conteudos");y&&i(JSON.parse(y))},[]);const w=y=>{i(y),localStorage.setItem("meus-conteudos",JSON.stringify(y))},d=y=>{h({id:Date.now(),tipo:y,titulo:"",topico:"",conteudo:"",dataEdicao:new Date().toISOString()}),g(!0)},u=()=>{if(!l)return;const y=[...t.filter(x=>x.id!==l.id),{...l,dataEdicao:new Date().toISOString()}];w(y),g(!1)},c=s==="todos"?t:t.filter(y=>y.tipo===s);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0,border:"none"},children:"🧠 Meus Conteúdos"}),jsxRuntimeExports.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Gerencie suas anotações, explicações e resumos."})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[jsxRuntimeExports.jsxs(Select,{value:s,onValueChange:y=>o(y),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filtrar"})}),jsxRuntimeExports.jsx(SelectContent,{children:TIPOS.map(y=>jsxRuntimeExports.jsx(SelectItem,{value:y.value,children:y.label},y.value))})]}),["feynman","resumo","nota"].map(y=>jsxRuntimeExports.jsxs(Button,{className:"simple-btn",onClick:()=>d(y),children:["Novo"," ",y==="feynman"?"Feynman":y==="resumo"?"Resumo":"Nota"]},y))]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid simple-grid-3",children:[c.map(y=>jsxRuntimeExports.jsxs(Card,{className:"cursor-pointer hover:shadow-md",onClick:()=>{h(y),g(!1)},children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:y.titulo||"(sem título)"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:y.topico}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Editado em ",new Date(y.dataEdicao).toLocaleString()]})]})]},y.id)),c.length===0&&jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhum item encontrado."})]}),l&&jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:p?l.tipo==="feynman"?"Nova Explicação Feynman":l.tipo==="resumo"?"Editar Resumo":"Editar Nota":l.titulo||"(sem título)"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Título"}),jsxRuntimeExports.jsx("input",{type:"text",value:l.titulo,onChange:y=>h({...l,titulo:y.target.value}),className:"simple-input w-full",disabled:!p})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Tópico"}),jsxRuntimeExports.jsx("input",{type:"text",value:l.topico,onChange:y=>h({...l,topico:y.target.value}),className:"simple-input w-full",disabled:!p})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Conteúdo"}),p?jsxRuntimeExports.jsx("textarea",{value:l.conteudo,onChange:y=>h({...l,conteudo:y.target.value}),className:"simple-input w-full min-h-[200px]"}):jsxRuntimeExports.jsx("div",{className:"prose max-w-none border rounded p-4 overflow-auto max-h-[400px]",children:jsxRuntimeExports.jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],children:l.conteudo})})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:p?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{className:"simple-btn-outline",onClick:()=>g(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:u,children:"Salvar"})]}):jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:()=>g(!0),children:"Editar"})})]})]})]})},API_BASE_URL="https://alego-app-6s83a.ondigitalocean.app",getApiUrl=t=>{const i=t.startsWith("/")?t:`/${t}`;return`${API_BASE_URL}${i}`},api={async request(t,i={}){const s=t.startsWith("/")?t:`/${t}`,o=`${API_BASE_URL}${s}`,l={headers:{"Content-Type":"application/json",...i.headers},...i};try{const h=await fetch(o,l);if(!h.ok)throw new Error(`HTTP ${h.status}: ${h.statusText}`);return await h.json()}catch(h){throw console.error(`API Error (${t}):`,h),h}},get:t=>api.request(t),post:(t,i)=>api.request(t,{method:"POST",body:JSON.stringify(i)}),put:(t,i)=>api.request(t,{method:"PUT",body:JSON.stringify(i)}),delete:t=>api.request(t,{method:"DELETE"})},listarCursos=async()=>await api.get("/api/cursos"),criarCurso=async t=>await api.post("/api/cursos",{nome:t}),atualizarCurso=async t=>await api.put(`/api/cursos/${t.id}`,{nome:t.nome}),excluirCurso=async t=>await api.delete(`/api/cursos/${t}`),listarMaterias=async()=>{const t=await fetch(getApiUrl("/api/materias"));if(!t.ok)throw new Error("Erro ao carregar matérias");return t.json()},criarMateria=async(t,i)=>{const s=await fetch(getApiUrl("/api/materias"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t,curso_id:i})});if(!s.ok)throw new Error("Erro ao criar matéria");return s.json()},atualizarMateria=async t=>{const i=await fetch(getApiUrl(`/api/materias/${t.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t.nome})});if(!i.ok)throw new Error("Erro ao atualizar matéria");return i.json()},excluirMateria=async t=>{if(!(await fetch(getApiUrl(`/api/materias/${t}`),{method:"DELETE"})).ok)throw new Error("Erro ao excluir matéria")},listarConteudos=async()=>{const t=await fetch(getApiUrl("/api/conteudos"));if(!t.ok)throw new Error("Erro ao carregar conteúdos");return t.json()},criarConteudo=async t=>{const i=await fetch(getApiUrl("/api/conteudos"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok)throw new Error("Erro ao criar conteúdo");return i.json()},atualizarConteudo=async t=>{const i=await fetch(getApiUrl(`/api/conteudos/${t.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:t.titulo,tipo:t.tipo,arquivo:t.arquivo})});if(!i.ok)throw new Error("Erro ao atualizar conteúdo");return i.json()},excluirConteudo=async t=>{if(!(await fetch(getApiUrl(`/api/conteudos/${t}`),{method:"DELETE"})).ok)throw new Error("Erro ao excluir conteúdo")},Input=({className:t="",...i})=>jsxRuntimeExports.jsx("input",{className:`flex h-12 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 touch-manipulation ${t}`,...i}),resetDB=async()=>{const t=await fetch(getApiUrl("/api/debug/reset"),{method:"POST"});if(!t.ok)throw new Error("Erro ao resetar o banco de dados");return t.json()},seedDB=async()=>{const t=await fetch(getApiUrl("/api/debug/seed"),{method:"POST"});if(!t.ok)throw new Error("Erro ao popular o banco de dados");return t.json()},Admin=()=>{const[t,i]=reactExports.useState([]),[s,o]=reactExports.useState([]),[l,h]=reactExports.useState([]),p=async()=>{try{const[d,u,c]=await Promise.all([listarCursos(),listarMaterias(),listarConteudos()]);i(d),o(u),h(c)}catch(d){alert("Erro ao carregar dados"),console.error(d)}};reactExports.useEffect(()=>{p()},[]);const g=async(d,u)=>{try{d==="curso"&&await atualizarCurso(u),d==="materia"&&await atualizarMateria(u),d==="conteudo"&&await atualizarConteudo(u),p()}catch{alert("Erro ao atualizar")}},w=async(d,u)=>{if(confirm("Tem certeza que deseja excluir?"))try{d==="curso"&&await excluirCurso(u),d==="materia"&&await excluirMateria(u),d==="conteudo"&&await excluirConteudo(u),p()}catch{alert("Erro ao excluir")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-10 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"🛠️ Painel de Administração plataforma de controle de estudos"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mt-4mb-4",children:"📘 Cursos"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:t.map(d=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border p-2 rounded bg-white shadow-sm",children:[jsxRuntimeExports.jsx(Input,{value:d.nome,onChange:u=>i(c=>c.map(y=>y.id===d.id?{...y,nome:u.target.value}:y))}),jsxRuntimeExports.jsx(Button,{onClick:()=>g("curso",d),className:"simple-btn mt-4 mb-4",children:"Salvar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>w("curso",d.id),className:"simple-btn mt-4 mb-4",children:"Excluir"})]},d.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mt-4 mb-4",children:"📗 Matérias"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:s.map(d=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border p-2 rounded bg-white shadow-sm",children:[jsxRuntimeExports.jsx(Input,{value:d.nome,onChange:u=>o(c=>c.map(y=>y.id===d.id?{...y,nome:u.target.value}:y))}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Curso ID: ",d.curso_id]}),jsxRuntimeExports.jsx(Button,{onClick:()=>g("materia",d),className:"simple-btn mt-4 mb-4",children:"Salvar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>w("materia",d.id),className:"simple-btn mt-4 mb-4",children:"Excluir"})]},d.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mt-4 mb-4",children:"📄 Conteúdos"}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.map(d=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 border p-2 rounded bg-white shadow-sm",children:[jsxRuntimeExports.jsx(Input,{value:d.titulo,onChange:u=>h(c=>c.map(y=>y.id===d.id?{...y,titulo:u.target.value}:y))}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Tipo: ",d.tipo," | Matéria ID: ",d.materia_id]}),jsxRuntimeExports.jsx(Button,{onClick:()=>g("conteudo",d),className:"simple-btn mt-4 mb-4",children:"Salvar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>w("conteudo",d.id),className:"simple-btn mt-4 mb-4",children:"Excluir"})]},d.id)),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Button,{className:"simple-btn mt-4 mb-4 bg-red-500 hover:bg-red-600 text-white",onClick:async()=>{if(confirm("⚠️ Isso vai apagar TODOS os dados! Tem certeza?"))try{await resetDB(),alert("🗑️ Banco de dados resetado com sucesso! (dados limpos)"),p()}catch(d){alert("❌ Erro ao resetar dados."),console.error(d)}},children:"🗑️ Resetar Banco (Limpar Tudo)"}),jsxRuntimeExports.jsx(Button,{className:"simple-btn mt-4 mb-4 bg-green-500 hover:bg-green-600 text-white",onClick:async()=>{try{const d=await seedDB();alert("🌱 Dados iniciais populados com sucesso!"),console.log("Seed result:",d),p()}catch(d){alert("❌ Erro ao popular dados iniciais."),console.error(d)}},children:"🌱 Popular com Dados Iniciais"})]})]})]})]})},SimplePDFViewer=()=>{const[t,i]=reactExports.useState([]),[s,o]=reactExports.useState(null),[l,h]=reactExports.useState(""),[p,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{g(!0);const y=(await api.get("/api/conteudos")).map(x=>({id:x.id,titulo:x.titulo||`Documento ${x.id}`,descricao:x.tipo==="pdf"?"Documento PDF":"Documento",arquivo:x.arquivo.replace("http://localhost:5000",""),tipo:x.tipo}));i(y),y.length===0&&i([{id:1,titulo:"Resolução 1007",descricao:"Estrutura Administrativa da ALEGO",arquivo:"/uploads/resolucao_1007.pdf",tipo:"pdf"}])}catch(c){console.error("Erro ao carregar documentos:",c),i([{id:1,titulo:"Resolução 1007",descricao:"Estrutura Administrativa da ALEGO",arquivo:"/uploads/resolucao_1007.pdf",tipo:"pdf"}])}finally{g(!1)}})()},[]);const w=t.filter(u=>u.titulo.toLowerCase().includes(l.toLowerCase())||u.descricao.toLowerCase().includes(l.toLowerCase())),d=u=>u.tipo==="pdf"||u.arquivo.endsWith(".pdf")?jsxRuntimeExports.jsx("div",{className:"h-[calc(100vh-200px)] min-h-[600px]",children:jsxRuntimeExports.jsx("iframe",{src:u.arquivo,width:"100%",height:"100%",style:{border:"none",borderRadius:"8px"},title:u.titulo})}):jsxRuntimeExports.jsxs("div",{className:"p-6 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"Este tipo de arquivo não pode ser visualizado diretamente."}),jsxRuntimeExports.jsx("button",{onClick:()=>window.open(u.arquivo,"_blank"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Abrir em nova aba"})]});return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"📚 Biblioteca de Documentos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Visualize e gerencie seus documentos de estudo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"🔍 Buscar documentos...",value:l,onChange:u=>h(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),jsxRuntimeExports.jsx("div",{className:"max-h-96 overflow-y-auto",children:p?jsxRuntimeExports.jsxs("div",{className:"p-4 text-center text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),"Carregando documentos..."]}):w.length>0?w.map(u=>jsxRuntimeExports.jsxs("button",{onClick:()=>o(u),className:`w-full text-left p-4 hover:bg-blue-50 transition-colors border-b last:border-b-0 ${s?.id===u.id?"bg-blue-50 border-l-4 border-l-blue-500":""}`,children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:u.titulo}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:u.descricao}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-gray-500",children:u.tipo==="pdf"?"📄 PDF":"📝 Documento"})]},u.id)):jsxRuntimeExports.jsxs("div",{className:"p-4 text-center text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-2",children:"📄"}),"Nenhum documento encontrado"]})})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:s.titulo}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:s.descricao})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.open(s.arquivo,"_blank"),className:"px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"🔗 Abrir"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const u=document.createElement("a");u.href=s.arquivo,u.download=s.titulo,document.body.appendChild(u),u.click(),document.body.removeChild(u)},className:"px-3 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm",children:"⬇️ Baixar"})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4",children:d(s)})]}):jsxRuntimeExports.jsxs("div",{className:"p-12 text-center text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4",children:"📚"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium mb-2",children:"Selecione um documento"}),jsxRuntimeExports.jsx("p",{children:"Escolha um documento da lista ao lado para visualizar"}),w.length===0&&l&&jsxRuntimeExports.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-yellow-700",children:['Nenhum documento encontrado para "',l,'"']})})]})})})]})]})},Dashboard=()=>{const[t,i]=reactExports.useState("dashboard"),[s]=reactExports.useState({materia:"Resolução nº 1.073 - Regulamento Administrativo",progresso:65,proximaRevisao:"04/06/2025"}),o=[{tipo:"Revisão",titulo:"Regimento Interno - Capítulos 1-3",horario:"Hoje, 14:00"},{tipo:"Novo Conteúdo",titulo:"Resolução nº 1.073 - Capítulo 4",horario:"Hoje, 16:30"},{tipo:"Simulado",titulo:"Simulado Temático - Regimento Interno",horario:"Amanhã, 10:00"},{tipo:"Flashcards",titulo:"Revisão Espaçada - Resolução nº 1.007",horario:"Amanhã, 15:00"}],l=[{label:"Tempo de Estudo",valor:"24h 30min",progresso:70},{label:"Flashcards Revisados",valor:120,progresso:60},{label:"Simulados Realizados",valor:5,progresso:50},{label:"Meus conteúdos",valor:8,progresso:40}],h=()=>{switch(t){case"flashcards":return jsxRuntimeExports.jsx(Flashcards,{});case"simulados":return jsxRuntimeExports.jsx(SimuladoArea,{});case"conteudos":return jsxRuntimeExports.jsx(MeusConteudos,{});case"resumos":return jsxRuntimeExports.jsx(MarkdownEditor,{});case"admin":return jsxRuntimeExports.jsx(Admin,{});case"pdfs":return jsxRuntimeExports.jsx(SimplePDFViewer,{});default:return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[" ",jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0,border:"none",padding:0},children:"Dashboard"}),jsxRuntimeExports.jsx("button",{className:"simple-btn",children:"Iniciar Sessão de Estudo"})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Estudo Atual"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg m-0",children:[" ",s.materia]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[jsxRuntimeExports.jsx("span",{children:"Progresso"}),jsxRuntimeExports.jsxs("span",{children:[s.progresso,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-md overflow-hidden",children:jsxRuntimeExports.jsx("div",{style:{width:`${s.progresso}%`,height:"100%",backgroundColor:"var(--primary-blue)",transition:"width 0.3s ease"}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Próxima revisão: ",s.proximaRevisao]}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline px-4 py-2 text-sm",children:"Continuar"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Cronograma Semanal"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Segunda"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.073"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Terça"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.218"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Quarta"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.771"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Quinta"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.007"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Sexta"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Revisão"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Sábado"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Simulado"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Domingo"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Descanso"]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid grid-cols-1 md:grid-cols-[1fr_2fr] gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Próximas Atividades"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-4",children:o.map((p,g)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[" ",jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",marginRight:"0.5rem",backgroundColor:p.tipo==="Revisão"?"#3b82f6":p.tipo==="Novo Conteúdo"?"#10b981":p.tipo==="Simulado"?"#f59e0b":"#8b5cf6"}}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:p.tipo})]}),jsxRuntimeExports.jsx("p",{className:"text-sm my-1 pl-5",children:p.titulo}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary my-1 pl-5",children:p.horario})]}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline px-4 py-2 text-xs ml-2",onClick:()=>{p.tipo==="Simulado"?i("simulados"):p.tipo==="Flashcards"&&i("flashcards")},children:"Iniciar"})]},g))})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Estatísticas de Estudo"}),jsxRuntimeExports.jsx("div",{className:"simple-grid simple-grid-2 gap-6",children:l.map((p,g)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:p.label}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[" ",p.valor]})]}),p.progresso!==void 0&&jsxRuntimeExports.jsx("div",{className:"w-full h-1 bg-gray-200 rounded-sm overflow-hidden",children:jsxRuntimeExports.jsx("div",{style:{width:`${p.progresso}%`,height:"100%",backgroundColor:"var(--primary-blue)",transition:"width 0.3s ease"}})})]},g))})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Acesso Rápido às Ferramentas"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>i("flashcards"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📚 Flashcards"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Sistema de repetição espaçada"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>i("simulados"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📝 Simulados"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Questões e provas"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>i("conteudos"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","🧠 Meus Conteúdos"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Explique para aprender"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>i("resumos"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📄 Editor de Resumos"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Crie resumos em Markdown"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>i("admin"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📄 Administração"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Administre seu sistema"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>i("pdfs"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📚 Biblioteca PDF"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Visualize materiais"})]})})]})]})]})}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[t!=="dashboard"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white rounded-lg p-4 shadow-sm",children:[jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium",onClick:()=>i("dashboard"),children:"← Voltar ao Dashboard"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"flashcards",label:"Flashcards"},{key:"simulados",label:"Simulados"},{key:"conteudos",label:"Conteúdos"},{key:"resumos",label:"Resumos"},{key:"pdfs",label:"PDFs"},{key:"admin",label:"Admin"}].map(({key:p,label:g})=>jsxRuntimeExports.jsx("button",{className:`px-3 py-1 rounded text-sm font-medium transition-colors ${t===p?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:()=>i(p),children:g},p))})]}),jsxRuntimeExports.jsx("div",{className:"w-full",children:h()})]})})})},Modal=({title:t,onClose:i,children:s})=>jsxRuntimeExports.jsx("div",{className:"modal-backdrop",children:jsxRuntimeExports.jsxs("div",{className:"modal-window",children:[jsxRuntimeExports.jsxs("header",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:t}),jsxRuntimeExports.jsx("button",{onClick:i,children:"✕"})]}),jsxRuntimeExports.jsx("div",{children:s})]})});function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=T,i.bytesToString=K,i.createValidAbsoluteUrl=C,i.getModificationDate=pe,i.getUuid=bt,i.getVerbosityLevel=he,i.info=ae,i.isArrayBuffer=$e,i.isArrayEqual=ut,i.isNodeJS=void 0,i.normalizeUnicode=Ue,i.objectFromMap=ce,i.objectSize=Ae,i.setVerbosityLevel=ne,i.shadow=N,i.string32=ue,i.stringToBytes=J,i.stringToPDFString=Ie,i.stringToUTF8String=Ne,i.unreachable=P,i.utf8StringToString=Be,i.warn=G;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const l=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=l;const h=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=h;const p=1.35;i.LINE_FACTOR=p;const g=.35;i.LINE_DESCENT_FACTOR=g;const w=g/p;i.BASELINE_FACTOR=w;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=d;const u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=u;const c="pdfjs_internal_editor_";i.AnnotationEditorPrefix=c;const y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=y;const x={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=x;const m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=m;const S={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=S;const k={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=k;const E={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=E;const I={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=I;const L={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=L;const z={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=z;const j={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=j;const F={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=F;const V={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=V;const H={O:"PageOpen",C:"PageClose"};i.PageActionEventType=H;const X={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=X;const q={NONE:0,BINARY:1};i.CMapCompressionType=q;const Q={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=Q;const ie={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=ie;let te=X.WARNINGS;function ne(xe){Number.isInteger(xe)&&(te=xe)}function he(){return te}function ae(xe){te>=X.INFOS&&console.log(`Info: ${xe}`)}function G(xe){te>=X.WARNINGS&&console.log(`Warning: ${xe}`)}function P(xe){throw new Error(xe)}function T(xe,se){xe||P(se)}function v(xe){switch(xe?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function C(xe,se=null,re=null){if(!xe)return null;try{if(re&&typeof xe=="string"&&(re.addDefaultProtocol&&xe.startsWith("www.")&&xe.match(/\./g)?.length>=2&&(xe=`http://${xe}`),re.tryConvertEncoding))try{xe=Ne(xe)}catch{}const Se=se?new URL(xe,se):new URL(xe);if(v(Se))return Se}catch{}return null}function N(xe,se,re,Se=!1){return Object.defineProperty(xe,se,{value:re,enumerable:!Se,configurable:!0,writable:!1}),re}const R=function(){function se(re,Se){this.constructor===se&&P("Cannot initialize BaseException."),this.message=re,this.name=Se}return se.prototype=new Error,se.constructor=se,se}();i.BaseException=R;class W extends R{constructor(se,re){super(se,"PasswordException"),this.code=re}}i.PasswordException=W;class B extends R{constructor(se,re){super(se,"UnknownErrorException"),this.details=re}}i.UnknownErrorException=B;class A extends R{constructor(se){super(se,"InvalidPDFException")}}i.InvalidPDFException=A;class M extends R{constructor(se){super(se,"MissingPDFException")}}i.MissingPDFException=M;class D extends R{constructor(se,re){super(se,"UnexpectedResponseException"),this.status=re}}i.UnexpectedResponseException=D;class U extends R{constructor(se){super(se,"FormatError")}}i.FormatError=U;class $ extends R{constructor(se){super(se,"AbortException")}}i.AbortException=$;function K(xe){(typeof xe!="object"||xe?.length===void 0)&&P("Invalid argument for bytesToString");const se=xe.length,re=8192;if(se<re)return String.fromCharCode.apply(null,xe);const Se=[];for(let Ve=0;Ve<se;Ve+=re){const qe=Math.min(Ve+re,se),nt=xe.subarray(Ve,qe);Se.push(String.fromCharCode.apply(null,nt))}return Se.join("")}function J(xe){typeof xe!="string"&&P("Invalid argument for stringToBytes");const se=xe.length,re=new Uint8Array(se);for(let Se=0;Se<se;++Se)re[Se]=xe.charCodeAt(Se)&255;return re}function ue(xe){return String.fromCharCode(xe>>24&255,xe>>16&255,xe>>8&255,xe&255)}function Ae(xe){return Object.keys(xe).length}function ce(xe){const se=Object.create(null);for(const[re,Se]of xe)se[re]=Se;return se}function fe(){const xe=new Uint8Array(4);return xe[0]=1,new Uint32Array(xe.buffer,0,1)[0]===1}function me(){try{return new Function(""),!0}catch{return!1}}class ge{static get isLittleEndian(){return N(this,"isLittleEndian",fe())}static get isEvalSupported(){return N(this,"isEvalSupported",me())}static get isOffscreenCanvasSupported(){return N(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?N(this,"platform",{isWin:!1,isMac:!1}):N(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return N(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}i.FeatureTest=ge;const ye=[...Array(256).keys()].map(xe=>xe.toString(16).padStart(2,"0"));class _e{static makeHexColor(se,re,Se){return`#${ye[se]}${ye[re]}${ye[Se]}`}static scaleMinMax(se,re){let Se;se[0]?(se[0]<0&&(Se=re[0],re[0]=re[1],re[1]=Se),re[0]*=se[0],re[1]*=se[0],se[3]<0&&(Se=re[2],re[2]=re[3],re[3]=Se),re[2]*=se[3],re[3]*=se[3]):(Se=re[0],re[0]=re[2],re[2]=Se,Se=re[1],re[1]=re[3],re[3]=Se,se[1]<0&&(Se=re[2],re[2]=re[3],re[3]=Se),re[2]*=se[1],re[3]*=se[1],se[2]<0&&(Se=re[0],re[0]=re[1],re[1]=Se),re[0]*=se[2],re[1]*=se[2]),re[0]+=se[4],re[1]+=se[4],re[2]+=se[5],re[3]+=se[5]}static transform(se,re){return[se[0]*re[0]+se[2]*re[1],se[1]*re[0]+se[3]*re[1],se[0]*re[2]+se[2]*re[3],se[1]*re[2]+se[3]*re[3],se[0]*re[4]+se[2]*re[5]+se[4],se[1]*re[4]+se[3]*re[5]+se[5]]}static applyTransform(se,re){const Se=se[0]*re[0]+se[1]*re[2]+re[4],Ve=se[0]*re[1]+se[1]*re[3]+re[5];return[Se,Ve]}static applyInverseTransform(se,re){const Se=re[0]*re[3]-re[1]*re[2],Ve=(se[0]*re[3]-se[1]*re[2]+re[2]*re[5]-re[4]*re[3])/Se,qe=(-se[0]*re[1]+se[1]*re[0]+re[4]*re[1]-re[5]*re[0])/Se;return[Ve,qe]}static getAxialAlignedBoundingBox(se,re){const Se=this.applyTransform(se,re),Ve=this.applyTransform(se.slice(2,4),re),qe=this.applyTransform([se[0],se[3]],re),nt=this.applyTransform([se[2],se[1]],re);return[Math.min(Se[0],Ve[0],qe[0],nt[0]),Math.min(Se[1],Ve[1],qe[1],nt[1]),Math.max(Se[0],Ve[0],qe[0],nt[0]),Math.max(Se[1],Ve[1],qe[1],nt[1])]}static inverseTransform(se){const re=se[0]*se[3]-se[1]*se[2];return[se[3]/re,-se[1]/re,-se[2]/re,se[0]/re,(se[2]*se[5]-se[4]*se[3])/re,(se[4]*se[1]-se[5]*se[0])/re]}static singularValueDecompose2dScale(se){const re=[se[0],se[2],se[1],se[3]],Se=se[0]*re[0]+se[1]*re[2],Ve=se[0]*re[1]+se[1]*re[3],qe=se[2]*re[0]+se[3]*re[2],nt=se[2]*re[1]+se[3]*re[3],Tt=(Se+nt)/2,Pt=Math.sqrt((Se+nt)**2-4*(Se*nt-qe*Ve))/2,Yt=Tt+Pt||1,pt=Tt-Pt||1;return[Math.sqrt(Yt),Math.sqrt(pt)]}static normalizeRect(se){const re=se.slice(0);return se[0]>se[2]&&(re[0]=se[2],re[2]=se[0]),se[1]>se[3]&&(re[1]=se[3],re[3]=se[1]),re}static intersect(se,re){const Se=Math.max(Math.min(se[0],se[2]),Math.min(re[0],re[2])),Ve=Math.min(Math.max(se[0],se[2]),Math.max(re[0],re[2]));if(Se>Ve)return null;const qe=Math.max(Math.min(se[1],se[3]),Math.min(re[1],re[3])),nt=Math.min(Math.max(se[1],se[3]),Math.max(re[1],re[3]));return qe>nt?null:[Se,qe,Ve,nt]}static bezierBoundingBox(se,re,Se,Ve,qe,nt,Tt,Pt){const Yt=[],pt=[[],[]];let rn,Ut,Ln,et,Dn,Kt,Nn,sn;for(let mn=0;mn<2;++mn){if(mn===0?(Ut=6*se-12*Se+6*qe,rn=-3*se+9*Se-9*qe+3*Tt,Ln=3*Se-3*se):(Ut=6*re-12*Ve+6*nt,rn=-3*re+9*Ve-9*nt+3*Pt,Ln=3*Ve-3*re),Math.abs(rn)<1e-12){if(Math.abs(Ut)<1e-12)continue;et=-Ln/Ut,0<et&&et<1&&Yt.push(et);continue}Nn=Ut*Ut-4*Ln*rn,sn=Math.sqrt(Nn),!(Nn<0)&&(Dn=(-Ut+sn)/(2*rn),0<Dn&&Dn<1&&Yt.push(Dn),Kt=(-Ut-sn)/(2*rn),0<Kt&&Kt<1&&Yt.push(Kt))}let On=Yt.length,ot;const Qt=On;for(;On--;)et=Yt[On],ot=1-et,pt[0][On]=ot*ot*ot*se+3*ot*ot*et*Se+3*ot*et*et*qe+et*et*et*Tt,pt[1][On]=ot*ot*ot*re+3*ot*ot*et*Ve+3*ot*et*et*nt+et*et*et*Pt;return pt[0][Qt]=se,pt[1][Qt]=re,pt[0][Qt+1]=Tt,pt[1][Qt+1]=Pt,pt[0].length=pt[1].length=Qt+2,[Math.min(...pt[0]),Math.min(...pt[1]),Math.max(...pt[0]),Math.max(...pt[1])]}}i.Util=_e;const Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ie(xe){if(xe[0]>="ï"){let re;if(xe[0]==="þ"&&xe[1]==="ÿ"?re="utf-16be":xe[0]==="ÿ"&&xe[1]==="þ"?re="utf-16le":xe[0]==="ï"&&xe[1]==="»"&&xe[2]==="¿"&&(re="utf-8"),re)try{const Se=new TextDecoder(re,{fatal:!0}),Ve=J(xe);return Se.decode(Ve)}catch(Se){G(`stringToPDFString: "${Se}".`)}}const se=[];for(let re=0,Se=xe.length;re<Se;re++){const Ve=Re[xe.charCodeAt(re)];se.push(Ve?String.fromCharCode(Ve):xe.charAt(re))}return se.join("")}function Ne(xe){return decodeURIComponent(escape(xe))}function Be(xe){return unescape(encodeURIComponent(xe))}function $e(xe){return typeof xe=="object"&&xe?.byteLength!==void 0}function ut(xe,se){if(xe.length!==se.length)return!1;for(let re=0,Se=xe.length;re<Se;re++)if(xe[re]!==se[re])return!1;return!0}function pe(xe=new Date){return[xe.getUTCFullYear().toString(),(xe.getUTCMonth()+1).toString().padStart(2,"0"),xe.getUTCDate().toString().padStart(2,"0"),xe.getUTCHours().toString().padStart(2,"0"),xe.getUTCMinutes().toString().padStart(2,"0"),xe.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ee{#e=!1;constructor(){this.promise=new Promise((se,re)=>{this.resolve=Se=>{this.#e=!0,se(Se)},this.reject=Se=>{this.#e=!0,re(Se)}})}get settled(){return this.#e}}i.PromiseCapability=Ee;let Te=null,ze=null;function Ue(xe){return Te||(Te=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ze=new Map([["ﬅ","ſt"]])),xe.replaceAll(Te,(se,re,Se)=>re?re.normalize("NFKC"):ze.get(Se))}function bt(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const xe=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(xe);else for(let se=0;se<32;se++)xe[se]=Math.floor(Math.random()*255);return K(xe)}const Rt="pdfjs_internal_id_";i.AnnotationPrefix=Rt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(t){if(typeof t=="string"||t instanceof URL?t={url:t}:(0,_util.isArrayBuffer)(t)&&(t={data:t}),typeof t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const i=new PDFDocumentLoadingTask,{docId:s}=i,o=t.url?getUrlProp(t.url):null,l=t.data?getDataProp(t.data):null,h=t.httpHeaders||null,p=t.withCredentials===!0,g=t.password??null,w=t.range instanceof PDFDataRangeTransport?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let u=t.worker instanceof PDFWorker?t.worker:null;const c=t.verbosity,y=typeof t.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(t.docBaseUrl)?t.docBaseUrl:null,x=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,S=t.CMapReaderFactory||DefaultCMapReaderFactory,k=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,E=t.StandardFontDataFactory||DefaultStandardFontDataFactory,I=t.stopAtErrors!==!0,L=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,z=t.isEvalSupported!==!1,j=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!_util.isNodeJS,F=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,V=typeof t.disableFontFace=="boolean"?t.disableFontFace:_util.isNodeJS,H=t.fontExtraProperties===!0,X=t.enableXfa===!0,q=t.ownerDocument||globalThis.document,Q=t.disableRange===!0,ie=t.disableStream===!0,te=t.disableAutoFetch===!0,ne=t.pdfBug===!0,he=w?w.length:t.length??NaN,ae=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!_util.isNodeJS&&!V,G=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:S===_display_utils.DOMCMapReaderFactory&&E===_display_utils.DOMStandardFontDataFactory&&x&&k&&(0,_display_utils.isValidFetchUrl)(x,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(k,document.baseURI),P=t.canvasFactory||new DefaultCanvasFactory({ownerDocument:q}),T=t.filterFactory||new DefaultFilterFactory({docId:s,ownerDocument:q}),v=null;(0,_util.setVerbosityLevel)(c);const C={canvasFactory:P,filterFactory:T};if(G||(C.cMapReaderFactory=new S({baseUrl:x,isCompressed:m}),C.standardFontDataFactory=new E({baseUrl:k})),!u){const W={verbosity:c,port:_worker_options.GlobalWorkerOptions.workerPort};u=W.port?PDFWorker.fromPort(W):new PDFWorker(W),i._worker=u}const N={docId:s,apiVersion:"3.11.174",data:l,password:g,disableAutoFetch:te,rangeChunkSize:d,length:he,docBaseUrl:y,enableXfa:X,evaluatorOptions:{maxImageSize:L,disableFontFace:V,ignoreErrors:I,isEvalSupported:z,isOffscreenCanvasSupported:j,canvasMaxAreaInBytes:F,fontExtraProperties:H,useSystemFonts:ae,cMapUrl:G?x:null,standardFontDataUrl:G?k:null}},R={ignoreErrors:I,isEvalSupported:z,disableFontFace:V,fontExtraProperties:H,enableXfa:X,ownerDocument:q,disableAutoFetch:te,pdfBug:ne,styleElement:v};return u.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");const W=_fetchDocument(u,N),B=new Promise(function(A){let M;w?M=new _transport_stream.PDFDataTransportStream({length:he,initialData:w.initialData,progressiveDone:w.progressiveDone,contentDispositionFilename:w.contentDispositionFilename,disableRange:Q,disableStream:ie},w):l||(M=(U=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(U):(0,_display_utils.isValidFetchUrl)(U.url)?new _displayFetch_stream.PDFFetchStream(U):new _displayNetwork.PDFNetworkStream(U))({url:o,length:he,httpHeaders:h,withCredentials:p,rangeChunkSize:d,disableRange:Q,disableStream:ie})),A(M)});return Promise.all([W,B]).then(function([A,M]){if(i.destroyed)throw new Error("Loading aborted");const D=new _message_handler.MessageHandler(s,A,u.port),U=new WorkerTransport(D,i,M,R,C);i._transport=U,D.send("Ready",null)})}).catch(i._capability.reject),i}async function _fetchDocument(t,i){if(t.destroyed)throw new Error("Worker was destroyed");const s=await t.messageHandler.sendWithPromise("GetDocRequest",i,i.data?[i.data.buffer]:null);if(t.destroyed)throw new Error("Worker was destroyed");return s}function getUrlProp(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(_util.isNodeJS&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(t){if(_util.isNodeJS&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return(0,_util.stringToBytes)(t);if(typeof t=="object"&&!isNaN(t?.length)||(0,_util.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(i){throw this._worker?.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(i,s,o=!1,l=null){this.length=i,this.initialData=s,this.progressiveDone=o,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(i){this._rangeListeners.push(i)}addProgressListener(i){this._progressListeners.push(i)}addProgressiveReadListener(i){this._progressiveReadListeners.push(i)}addProgressiveDoneListener(i){this._progressiveDoneListeners.push(i)}onDataRange(i,s){for(const o of this._rangeListeners)o(i,s)}onDataProgress(i,s){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(i,s)})}onDataProgressiveRead(i){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(i)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const i of this._progressiveDoneListeners)i()})}transportReady(){this._readyCapability.resolve()}requestDataRange(i,s){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(i,s){this._pdfInfo=i,this._transport=s,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(o=>{if(!o)return o;const l=[];for(const h in o)l.push(...o[h]);return l}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(i){return this._transport.getPage(i)}getPageIndex(i){return this._transport.getPageIndex(i)}getDestinations(){return this._transport.getDestinations()}getDestination(i){return this._transport.getDestination(i)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(i=!1){return this._transport.startCleanup(i||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(i,s,o,l=!1){this._pageIndex=i,this._pageInfo=s,this._transport=o,this._stats=l?new _display_utils.StatTimer:null,this._pdfBug=l,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:i,rotation:s=this.rotate,offsetX:o=0,offsetY:l=0,dontFlip:h=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:i,rotation:s,offsetX:o,offsetY:l,dontFlip:h})}getAnnotations({intent:i="display"}={}){const s=this._transport.getRenderingIntent(i);return this._transport.getAnnotations(this._pageIndex,s.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:i,viewport:s,intent:o="display",annotationMode:l=_util.AnnotationMode.ENABLE,transform:h=null,background:p=null,optionalContentConfigPromise:g=null,annotationCanvasMap:w=null,pageColors:d=null,printAnnotationStorage:u=null}){this._stats?.time("Overall");const c=this._transport.getRenderingIntent(o,l,u);this.#t=!1,this.#r(),g||(g=this._transport.getOptionalContentConfig());let y=this._intentStates.get(c.cacheKey);y||(y=Object.create(null),this._intentStates.set(c.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const x=!!(c.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=new _util.PromiseCapability,y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c));const m=E=>{y.renderTasks.delete(S),(this._maybeCleanupAfterRender||x)&&(this.#t=!0),this.#n(!x),E?(S.capability.reject(E),this._abortOperatorList({intentState:y,reason:E instanceof Error?E:new Error(E)})):S.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},S=new InternalRenderTask({callback:m,params:{canvasContext:i,viewport:s,transform:h,background:p},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:w,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d});(y.renderTasks||=new Set).add(S);const k=S.task;return Promise.all([y.displayReadyCapability.promise,g]).then(([E,I])=>{if(this.destroyed){m();return}this._stats?.time("Rendering"),S.initializeGraphics({transparency:E,optionalContentConfig:I}),S.operatorListChanged()}).catch(m),k}getOperatorList({intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}={}){function l(){p.operatorList.lastChunk&&(p.opListReadCapability.resolve(p.operatorList),p.renderTasks.delete(g))}const h=this._transport.getRenderingIntent(i,s,o,!0);let p=this._intentStates.get(h.cacheKey);p||(p=Object.create(null),this._intentStates.set(h.cacheKey,p));let g;return p.opListReadCapability||(g=Object.create(null),g.operatorListChanged=l,p.opListReadCapability=new _util.PromiseCapability,(p.renderTasks||=new Set).add(g),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h)),p.opListReadCapability.promise}streamTextContent({includeMarkedContent:i=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:i===!0,disableNormalization:s===!0},{highWaterMark:100,size(l){return l.items.length}})}getTextContent(i={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const s=this.streamTextContent(i);return new Promise(function(o,l){function h(){p.read().then(function({value:w,done:d}){if(d){o(g);return}Object.assign(g.styles,w.styles),g.items.push(...w.items),h()},l)}const p=s.getReader(),g={items:[],styles:Object.create(null)};h()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const i=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const o of s.renderTasks)i.push(o.completed),o.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(i)}cleanup(i=!1){this.#t=!0;const s=this.#n(!1);return i&&s&&(this._stats&&=new _display_utils.StatTimer),s}#n(i=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(i)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:s,operatorList:o}of this._intentStates.values())if(s.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(i,s){const o=this._intentStates.get(s);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(i))}_renderPageChunk(i,s){for(let o=0,l=i.length;o<l;o++)s.operatorList.fnArray.push(i.fnArray[o]),s.operatorList.argsArray.push(i.argsArray[o]);s.operatorList.lastChunk=i.lastChunk,s.operatorList.separateAnnots=i.separateAnnots;for(const o of s.renderTasks)o.operatorListChanged();i.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:i,cacheKey:s,annotationStorageSerializable:o}){const{map:l,transfers:h}=o,g=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:i,cacheKey:s,annotationStorage:l},h).getReader(),w=this._intentStates.get(s);w.streamReader=g;const d=()=>{g.read().then(({value:u,done:c})=>{if(c){w.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,w),d())},u=>{if(w.streamReader=null,!this._transport.destroyed){if(w.operatorList){w.operatorList.lastChunk=!0;for(const c of w.renderTasks)c.operatorListChanged();this.#n(!0)}if(w.displayReadyCapability)w.displayReadyCapability.reject(u);else if(w.opListReadCapability)w.opListReadCapability.reject(u);else throw u}})};d()}_abortOperatorList({intentState:i,reason:s,force:o=!1}){if(i.streamReader){if(i.streamReaderCancelTimeout&&(clearTimeout(i.streamReaderCancelTimeout),i.streamReaderCancelTimeout=null),!o){if(i.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException){let l=RENDERING_CANCELLED_TIMEOUT;s.extraDelay>0&&s.extraDelay<1e3&&(l+=s.extraDelay),i.streamReaderCancelTimeout=setTimeout(()=>{i.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:i,reason:s,force:!0})},l);return}}if(i.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),i.streamReader=null,!this._transport.destroyed){for(const[l,h]of this._intentStates)if(h===i){this._intentStates.delete(l);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(i,s){const o={data:structuredClone(i,s?{transfer:s}:null)};this.#t.then(()=>{for(const l of this.#e)l.call(this,o)})}addEventListener(i,s){this.#e.add(s)}removeEventListener(i,s){this.#e.delete(s)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,i){let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const o=new URL(i,s);return s.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(t){const i=`importScripts("${t}");`;return URL.createObjectURL(new Blob([i]))}}class PDFWorker{static#workerPorts;constructor({name:t=null,port:i=null,verbosity:s=(0,_util.getVerbosityLevel)()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,i){if(PDFWorker.#workerPorts?.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const i=new Worker(t),s=new _message_handler.MessageHandler("main","worker",i),o=()=>{i.removeEventListener("error",l),s.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=()=>{this._webWorker||o()};i.addEventListener("error",l),s.on("test",p=>{if(i.removeEventListener("error",l),this.destroyed){o();return}p?(this._messageHandler=s,this._port=i,this._webWorker=i,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),s.destroy(),i.terminate())}),s.on("ready",p=>{if(i.removeEventListener("error",l),this.destroyed){o();return}try{h()}catch{this._setupFakeWorker()}});const h=()=>{const p=new Uint8Array;s.send("test",p,[p.buffer])};h();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new LoopbackPort;this._port=i;const s=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(s+"_worker",s,i);t.setup(o,i);const l=new _message_handler.MessageHandler(s,s+"_worker",i);this._messageHandler=l,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const i=this.#workerPorts?.get(t.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(i,s,o,l,h){this.messageHandler=i,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this._params=l,this.canvasFactory=h.canvasFactory,this.filterFactory=h.filterFactory,this.cMapReaderFactory=h.cMapReaderFactory,this.standardFontDataFactory=h.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(i,s=null){const o=this.#e.get(i);if(o)return o;const l=this.messageHandler.sendWithPromise(i,s);return this.#e.set(i,l),l}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(i,s=_util.AnnotationMode.ENABLE,o=null,l=!1){let h=_util.RenderingIntentFlag.DISPLAY,p=_annotation_storage.SerializableEmpty;switch(i){case"any":h=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":h=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${i}`)}switch(s){case _util.AnnotationMode.DISABLE:h+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:h+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:h+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,p=(h&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${s}`)}return l&&(h+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:h,cacheKey:`${h}_${p.hash}`,annotationStorageSerializable:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const i=[];for(const o of this.#t.values())i.push(o._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return i.push(s),Promise.all(i).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:i,loadingTask:s}=this;i.on("GetReader",(o,l)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=h=>{this._lastProgress={loaded:h.loaded,total:h.total}},l.onPull=()=>{this._fullReader.read().then(function({value:h,done:p}){if(p){l.close();return}(0,_util.assert)(h instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(h),1,[h])}).catch(h=>{l.error(h)})},l.onCancel=h=>{this._fullReader.cancel(h),l.ready.catch(p=>{if(!this.destroyed)throw p})}}),i.on("ReaderHeadersReady",o=>{const l=new _util.PromiseCapability,h=this._fullReader;return h.headersReady.then(()=>{(!h.isStreamingSupported||!h.isRangeSupported)&&(this._lastProgress&&s.onProgress?.(this._lastProgress),h.onProgress=p=>{s.onProgress?.({loaded:p.loaded,total:p.total})}),l.resolve({isStreamingSupported:h.isStreamingSupported,isRangeSupported:h.isRangeSupported,contentLength:h.contentLength})},l.reject),l.promise}),i.on("GetRangeReader",(o,l)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const h=this._networkStream.getRangeReader(o.begin,o.end);if(!h){l.close();return}l.onPull=()=>{h.read().then(function({value:p,done:g}){if(g){l.close();return}(0,_util.assert)(p instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(p),1,[p])}).catch(p=>{l.error(p)})},l.onCancel=p=>{h.cancel(p),l.ready.catch(g=>{if(!this.destroyed)throw g})}}),i.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(o,this))}),i.on("DocException",function(o){let l;switch(o.name){case"PasswordException":l=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":l=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":l=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":l=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":l=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}s._capability.reject(l)}),i.on("PasswordRequest",o=>{if(this.#r=new _util.PromiseCapability,s.onPassword){const l=h=>{h instanceof Error?this.#r.reject(h):this.#r.resolve({password:h})};try{s.onPassword(l,o.code)}catch(h){this.#r.reject(h)}}else this.#r.reject(new _util.PasswordException(o.message,o.code));return this.#r.promise}),i.on("DataLoaded",o=>{s.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),i.on("StartRenderPage",o=>{if(this.destroyed)return;this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),i.on("commonobj",([o,l,h])=>{if(!this.destroyed&&!this.commonObjs.has(o))switch(l){case"Font":const p=this._params;if("error"in h){const d=h.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(o,d);break}const g=p.pdfBug&&globalThis.FontInspector?.enabled?(d,u)=>globalThis.FontInspector.fontAdded(d,u):null,w=new _font_loader.FontFaceObject(h,{isEvalSupported:p.isEvalSupported,disableFontFace:p.disableFontFace,ignoreErrors:p.ignoreErrors,inspectFont:g});this.fontLoader.bind(w).catch(d=>i.sendWithPromise("FontFallback",{id:o})).finally(()=>{!p.fontExtraProperties&&w.data&&(w.data=null),this.commonObjs.resolve(o,w)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,h);break;default:throw new Error(`Got unknown common object type ${l}`)}}),i.on("obj",([o,l,h,p])=>{if(this.destroyed)return;const g=this.#t.get(l);if(!g.objs.has(o))switch(h){case"Image":if(g.objs.resolve(o,p),p){let w;if(p.bitmap){const{width:d,height:u}=p;w=d*u*4}else w=p.data?.length||0;w>_util.MAX_IMAGE_SIZE_TO_CACHE&&(g._maybeCleanupAfterRender=!0)}break;case"Pattern":g.objs.resolve(o,p);break;default:throw new Error(`Got unknown object type ${h}`)}}),i.on("DocProgress",o=>{this.destroyed||s.onProgress?.({loaded:o.loaded,total:o.total})}),i.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),i.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:i,transfers:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:this._fullReader?.filename??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(i){if(!Number.isInteger(i)||i<=0||i>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=i-1,o=this.#n.get(s);if(o)return o;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(h=>{if(this.destroyed)throw new Error("Transport destroyed");const p=new PDFPageProxy(s,h,this,this._params.pdfBug);return this.#t.set(s,p),p});return this.#n.set(s,l),l}getPageIndex(i){return typeof i!="object"||i===null||!Number.isInteger(i.num)||i.num<0||!Number.isInteger(i.gen)||i.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:i.num,gen:i.gen})}getAnnotations(i,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:i,intent:s})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(i){return typeof i!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:i})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(i){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:i})}getStructTree(i){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:i})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(i=>new _optional_content_config.OptionalContentConfig(i))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const i="GetMetadata",s=this.#e.get(i);if(s)return s;const o=this.messageHandler.sendWithPromise(i,null).then(l=>({info:l[0],metadata:l[1]?new _metadata.Metadata(l[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(i,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(i=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of this.#t.values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),i||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:i,enableXfa:s}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:i,enableXfa:s})}}class PDFObjects{#e=Object.create(null);#t(i){return this.#e[i]||={capability:new _util.PromiseCapability,data:null}}get(i,s=null){if(s){const l=this.#t(i);return l.capability.promise.then(()=>s(l.data)),null}const o=this.#e[i];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${i}.`);return o.data}has(i){return this.#e[i]?.capability.settled||!1}resolve(i,s=null){const o=this.#t(i);o.data=s,o.capability.resolve()}clear(){for(const i in this.#e){const{data:s}=this.#e[i];s?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(i){this.#e=i,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(i=0){this.#e.cancel(null,i)}get separateAnnots(){const{separateAnnots:i}=this.#e.operatorList;if(!i)return!1;const{annotationCanvasMap:s}=this.#e;return i.form||i.canvas&&s?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:i,params:s,objs:o,commonObjs:l,annotationCanvasMap:h,operatorList:p,pageIndex:g,canvasFactory:w,filterFactory:d,useRequestAnimationFrame:u=!1,pdfBug:c=!1,pageColors:y=null}){this.callback=i,this.params=s,this.objs=o,this.commonObjs=l,this.annotationCanvasMap=h,this.operatorListIdx=null,this.operatorList=p,this._pageIndex=g,this.canvasFactory=w,this.filterFactory=d,this._pdfBug=c,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:i=!1,optionalContentConfig:s}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:l,transform:h,background:p}=this.params;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:h,viewport:l,transparency:i,background:p}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(i=null,s=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(i||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),l=s(4),h=s(8);const p=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=p;class g{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(u,c){const y=this.#t.get(u);return y===void 0?c:Object.assign(c,y)}getRawValue(u){return this.#t.get(u)}remove(u){if(this.#t.delete(u),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const c of this.#t.values())if(c instanceof l.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(u,c){const y=this.#t.get(u);let x=!1;if(y!==void 0)for(const[m,S]of Object.entries(c))y[m]!==S&&(x=!0,y[m]=S);else x=!0,this.#t.set(u,c);x&&this.#n(),c instanceof l.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(c.constructor._type)}has(u){return this.#t.has(u)}getAll(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}setAll(u){for(const[c,y]of Object.entries(u))this.setValue(c,y)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new w(this)}get serializable(){if(this.#t.size===0)return p;const u=new Map,c=new h.MurmurHash3_64,y=[],x=Object.create(null);let m=!1;for(const[S,k]of this.#t){const E=k instanceof l.AnnotationEditor?k.serialize(!1,x):k;E&&(u.set(S,E),c.update(`${S}:${JSON.stringify(E)}`),m||=!!E.bitmap)}if(m)for(const S of u.values())S.bitmap&&y.push(S.bitmap);return u.size>0?{map:u,hash:c.hexdigest(),transfers:y}:p}}i.AnnotationStorage=g;class w extends g{#e;constructor(u){super();const{map:c,hash:y,transfers:x}=u.serializable,m=structuredClone(c,x?{transfer:x}:null);this.#e={map:m,hash:y,transfers:x}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}i.PrintAnnotationStorage=w},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(5),l=s(1),h=s(6);class p{#e="";#t=!1;#n=null;#r=null;#a=null;#o=!1;#s=null;#l=this.focusin.bind(this);#u=this.focusout.bind(this);#i=!1;#p=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#f=p._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===p&&(0,l.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;const{rotation:u,rawDims:{pageWidth:c,pageHeight:y,pageX:x,pageY:m}}=this.parent.viewport;this.rotation=u,this.pageRotation=(360+u-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[c,y],this.pageTranslation=[x,m];const[S,k]=this.parentDimensions;this.x=d.x/S,this.y=d.y/k,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,l.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){const u=new g({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});u.annotationElementId=d.annotationElementId,u.deleted=!0,u._uiManager.addToAnnotationStorage(u)}static initialize(d,u=null){if(p._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(y=>[y,d.get(y)])),u?.strings)for(const y of u.strings)p._l10nPromise.set(y,d.get(y));if(p._borderLineWidth!==-1)return;const c=getComputedStyle(document.documentElement);p._borderLineWidth=parseFloat(c.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,u){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,u){(0,l.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(d){this.#h=d,this.div?.classList.toggle("draggable",d)}center(){const[d,u]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*u/(d*2),this.y+=this.width*d/(u*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*u/(d*2),this.y-=this.width*d/(u*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#f}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,u,c,y){const[x,m]=this.parentDimensions;[c,y]=this.screenToPageTranslation(c,y),this.x=(d+c)/x,this.y=(u+y)/m,this.fixAndSetPosition()}#x([d,u],c,y){[c,y]=this.screenToPageTranslation(c,y),this.x+=c/d,this.y+=y/u,this.fixAndSetPosition()}translate(d,u){this.#x(this.parentDimensions,d,u)}translateInPage(d,u){this.#x(this.pageDimensions,d,u),this.div.scrollIntoView({block:"nearest"})}drag(d,u){const[c,y]=this.parentDimensions;if(this.x+=d/c,this.y+=u/y,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:E,y:I}=this.div.getBoundingClientRect();this.parent.findNewParent(this,E,I)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x,y:m}=this;const[S,k]=this.#g();x+=S,m+=k,this.div.style.left=`${(100*x).toFixed(2)}%`,this.div.style.top=`${(100*m).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[d,u]=this.parentDimensions,{_borderLineWidth:c}=p,y=c/d,x=c/u;switch(this.rotation){case 90:return[-y,x];case 180:return[y,x];case 270:return[y,-x];default:return[-y,-x]}}fixAndSetPosition(){const[d,u]=this.pageDimensions;let{x:c,y,width:x,height:m}=this;switch(x*=d,m*=u,c*=d,y*=u,this.rotation){case 0:c=Math.max(0,Math.min(d-x,c)),y=Math.max(0,Math.min(u-m,y));break;case 90:c=Math.max(0,Math.min(d-m,c)),y=Math.min(u,Math.max(x,y));break;case 180:c=Math.min(d,Math.max(x,c)),y=Math.min(u,Math.max(m,y));break;case 270:c=Math.min(d,Math.max(m,c)),y=Math.max(0,Math.min(u-x,y));break}this.x=c/=d,this.y=y/=u;const[S,k]=this.#g();c+=S,y+=k;const{style:E}=this.div;E.left=`${(100*c).toFixed(2)}%`,E.top=`${(100*y).toFixed(2)}%`,this.moveInDOM()}static#m(d,u,c){switch(c){case 90:return[u,-d];case 180:return[-d,-u];case 270:return[-u,d];default:return[d,u]}}screenToPageTranslation(d,u){return p.#m(d,u,this.parentRotation)}pageTranslationToScreen(d,u){return p.#m(d,u,360-this.parentRotation)}#c(d){switch(d){case 90:{const[u,c]=this.pageDimensions;return[0,-u/c,c/u,0]}case 180:return[-1,0,0,-1];case 270:{const[u,c]=this.pageDimensions;return[0,u/c,-c/u,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:d,pageDimensions:[u,c]}=this,y=u*d,x=c*d;return l.FeatureTest.isCSSRoundSupported?[Math.round(y),Math.round(x)]:[y,x]}setDims(d,u){const[c,y]=this.parentDimensions;this.div.style.width=`${(100*d/c).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*u/y).toFixed(2)}%`),this.#n?.classList.toggle("small",d<p.SMALL_EDITOR_SIZE||u<p.SMALL_EDITOR_SIZE)}fixDims(){const{style:d}=this.div,{height:u,width:c}=d,y=c.endsWith("%"),x=!this.#o&&u.endsWith("%");if(y&&x)return;const[m,S]=this.parentDimensions;y||(d.width=`${(100*parseFloat(c)/m).toFixed(2)}%`),!this.#o&&!x&&(d.height=`${(100*parseFloat(u)/S).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const u of d){const c=document.createElement("div");this.#s.append(c),c.classList.add("resizer",u),c.addEventListener("pointerdown",this.#S.bind(this,u)),c.addEventListener("contextmenu",h.noContextMenu)}this.div.prepend(this.#s)}#S(d,u){u.preventDefault();const{isMac:c}=l.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&c)return;const y=this.#E.bind(this,d),x=this._isDraggable;this._isDraggable=!1;const m={passive:!0,capture:!0};window.addEventListener("pointermove",y,m);const S=this.x,k=this.y,E=this.width,I=this.height,L=this.parent.div.style.cursor,z=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(u.target).cursor;const j=()=>{this._isDraggable=x,window.removeEventListener("pointerup",j),window.removeEventListener("blur",j),window.removeEventListener("pointermove",y,m),this.parent.div.style.cursor=L,this.div.style.cursor=z;const F=this.x,V=this.y,H=this.width,X=this.height;F===S&&V===k&&H===E&&X===I||this.addCommands({cmd:()=>{this.width=H,this.height=X,this.x=F,this.y=V;const[q,Q]=this.parentDimensions;this.setDims(q*H,Q*X),this.fixAndSetPosition()},undo:()=>{this.width=E,this.height=I,this.x=S,this.y=k;const[q,Q]=this.parentDimensions;this.setDims(q*E,Q*I),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",j),window.addEventListener("blur",j)}#E(d,u){const[c,y]=this.parentDimensions,x=this.x,m=this.y,S=this.width,k=this.height,E=p.MIN_SIZE/c,I=p.MIN_SIZE/y,L=B=>Math.round(B*1e4)/1e4,z=this.#c(this.rotation),j=(B,A)=>[z[0]*B+z[2]*A,z[1]*B+z[3]*A],F=this.#c(360-this.rotation),V=(B,A)=>[F[0]*B+F[2]*A,F[1]*B+F[3]*A];let H,X,q=!1,Q=!1;switch(d){case"topLeft":q=!0,H=(B,A)=>[0,0],X=(B,A)=>[B,A];break;case"topMiddle":H=(B,A)=>[B/2,0],X=(B,A)=>[B/2,A];break;case"topRight":q=!0,H=(B,A)=>[B,0],X=(B,A)=>[0,A];break;case"middleRight":Q=!0,H=(B,A)=>[B,A/2],X=(B,A)=>[0,A/2];break;case"bottomRight":q=!0,H=(B,A)=>[B,A],X=(B,A)=>[0,0];break;case"bottomMiddle":H=(B,A)=>[B/2,A],X=(B,A)=>[B/2,0];break;case"bottomLeft":q=!0,H=(B,A)=>[0,A],X=(B,A)=>[B,0];break;case"middleLeft":Q=!0,H=(B,A)=>[0,A/2],X=(B,A)=>[B,A/2];break}const ie=H(S,k),te=X(S,k);let ne=j(...te);const he=L(x+ne[0]),ae=L(m+ne[1]);let G=1,P=1,[T,v]=this.screenToPageTranslation(u.movementX,u.movementY);if([T,v]=V(T/c,v/y),q){const B=Math.hypot(S,k);G=P=Math.max(Math.min(Math.hypot(te[0]-ie[0]-T,te[1]-ie[1]-v)/B,1/S,1/k),E/S,I/k)}else Q?G=Math.max(E,Math.min(1,Math.abs(te[0]-ie[0]-T)))/S:P=Math.max(I,Math.min(1,Math.abs(te[1]-ie[1]-v)))/k;const C=L(S*G),N=L(k*P);ne=j(...X(C,N));const R=he-ne[0],W=ae-ne[1];this.width=C,this.height=N,this.x=R,this.y=W,this.setDims(c*C,y*N),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const d=this.#n=document.createElement("button");d.className="altText";const u=await p._l10nPromise.get("editor_alt_text_button_label");d.textContent=u,d.setAttribute("aria-label",u),d.tabIndex="0",d.addEventListener("contextmenu",h.noContextMenu),d.addEventListener("pointerdown",c=>c.stopPropagation()),d.addEventListener("click",c=>{c.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",c=>{c.target===d&&c.key==="Enter"&&(c.preventDefault(),this._uiManager.editAltText(this))}),this.#_(),this.div.append(d),p.SMALL_EDITOR_SIZE||(p.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))}async#_(){const d=this.#n;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#r?.remove();return}p._l10nPromise.get("editor_alt_text_edit_button_label").then(c=>{d.setAttribute("aria-label",c)});let u=this.#r;if(!u){this.#r=u=document.createElement("span"),u.className="tooltip",u.setAttribute("role","tooltip");const c=u.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",c);const y=100;d.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},y)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#r?.classList.remove("show")})}d.classList.add("done"),u.innerText=this.#t?await p._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,u.parentNode||d.append(u)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:d,decorative:u}){this.#e===d&&this.#t===u||(this.#e=d,this.#t=u,this.#_())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#u);const[d,u]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*u/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/u).toFixed(2)}%`);const[c,y]=this.getInitialTranslation();return this.translate(c,y),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){const{isMac:u}=l.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&u){d.preventDefault();return}this.#i=!0,this.#R(d)}#R(d){if(!this._isDraggable)return;const u=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let c,y;u&&(c={passive:!0,capture:!0},y=m=>{const[S,k]=this.screenToPageTranslation(m.movementX,m.movementY);this._uiManager.dragSelectedEditors(S,k)},window.addEventListener("pointermove",y,c));const x=()=>{if(window.removeEventListener("pointerup",x),window.removeEventListener("blur",x),u&&window.removeEventListener("pointermove",y,c),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:m}=l.FeatureTest.platform;d.ctrlKey&&!m||d.shiftKey||d.metaKey&&m?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",x),window.addEventListener("blur",x)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,u,c){d.changeParent(this),this.x=u,this.y=c,this.fixAndSetPosition()}getRect(d,u){const c=this.parentScale,[y,x]=this.pageDimensions,[m,S]=this.pageTranslation,k=d/c,E=u/c,I=this.x*y,L=this.y*x,z=this.width*y,j=this.height*x;switch(this.rotation){case 0:return[I+k+m,x-L-E-j+S,I+k+z+m,x-L-E+S];case 90:return[I+E+m,x-L+k+S,I+E+j+m,x-L+k+z+S];case 180:return[I-k-z+m,x-L+E+S,I-k+m,x-L+E+j+S];case 270:return[I-E-j+m,x-L-k-z+S,I-E+m,x-L-k+S];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,u){const[c,y,x,m]=d,S=x-c,k=m-y;switch(this.rotation){case 0:return[c,u-m,S,k];case 90:return[c,u-y,k,S];case 180:return[x,u-y,S,k];case 270:return[x,u-m,k,S];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#u)}serialize(d=!1,u=null){(0,l.unreachable)("An editor must be serializable")}static deserialize(d,u,c){const y=new this.prototype.constructor({parent:u,id:u.getNextId(),uiManager:c});y.rotation=d.rotation;const[x,m]=y.pageDimensions,[S,k,E,I]=y.getRectInCurrentCoords(d.rect,m);return y.x=S/x,y.y=k/m,y.width=E/x,y.height=I/m,y}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,u){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(d){this.#p=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,u){this.#o=!0;const c=d/u,{style:y}=this.div;y.aspectRatio=c,y.height="auto"}static get MIN_SIZE(){return 16}}i.AnnotationEditor=p;class g extends p{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=h,i.opacityToHex=p;var o=s(1),l=s(6);function h(x,m,S){for(const k of S)m.addEventListener(k,x[k].bind(x))}function p(x){return Math.round(Math.min(255,Math.max(1,255*x))).toString(16).padStart(2,"0")}class g{#e=0;getId(){return`${o.AnnotationEditorPrefix}${this.#e++}`}}class w{#e=(0,o.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const m='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',k=new OffscreenCanvas(1,3).getContext("2d"),E=new Image;E.src=m;const I=E.decode().then(()=>(k.drawImage(E,0,0,1,1,0,0,1,3),new Uint32Array(k.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",I)}async#r(m,S){this.#n||=new Map;let k=this.#n.get(m);if(k===null)return null;if(k?.bitmap)return k.refCounter+=1,k;try{k||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let E;if(typeof S=="string"){k.url=S;const I=await fetch(S);if(!I.ok)throw new Error(I.statusText);E=await I.blob()}else E=k.file=S;if(E.type==="image/svg+xml"){const I=w._isSVGFittingCanvas,L=new FileReader,z=new Image,j=new Promise((F,V)=>{z.onload=()=>{k.bitmap=z,k.isSvg=!0,F()},L.onload=async()=>{const H=k.svgUrl=L.result;z.src=await I?`${H}#svgView(preserveAspectRatio(none))`:H},z.onerror=L.onerror=V});L.readAsDataURL(E),await j}else k.bitmap=await createImageBitmap(E);k.refCounter=1}catch(E){console.error(E),k=null}return this.#n.set(m,k),k&&this.#n.set(k.id,k),k}async getFromFile(m){const{lastModified:S,name:k,size:E,type:I}=m;return this.#r(`${S}_${k}_${E}_${I}`,m)}async getFromUrl(m){return this.#r(m,m)}async getFromId(m){this.#n||=new Map;const S=this.#n.get(m);return S?S.bitmap?(S.refCounter+=1,S):S.file?this.getFromFile(S.file):this.getFromUrl(S.url):null}getSvgUrl(m){const S=this.#n.get(m);return S?.isSvg?S.svgUrl:null}deleteId(m){this.#n||=new Map;const S=this.#n.get(m);S&&(S.refCounter-=1,S.refCounter===0&&(S.bitmap=null))}isValidId(m){return m.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#n;#r=-1;constructor(m=128){this.#n=m}add({cmd:m,undo:S,mustExec:k,type:E=NaN,overwriteIfSameType:I=!1,keepUndo:L=!1}){if(k&&m(),this.#t)return;const z={cmd:m,undo:S,type:E};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(z);return}if(I&&this.#e[this.#r].type===E){L&&(z.undo=this.#e[this.#r].undo),this.#e[this.#r]=z;return}const j=this.#r+1;j===this.#n?this.#e.splice(0,1):(this.#r=j,j<this.#e.length&&this.#e.splice(j)),this.#e.push(z)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}i.CommandManager=d;class u{constructor(m){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:S}=o.FeatureTest.platform;for(const[k,E,I={}]of m)for(const L of k){const z=L.startsWith("mac+");S&&z?(this.callbacks.set(L.slice(4),{callback:E,options:I}),this.allKeys.add(L.split("+").at(-1))):!S&&!z&&(this.callbacks.set(L,{callback:E,options:I}),this.allKeys.add(L.split("+").at(-1)))}}#e(m){m.altKey&&this.buffer.push("alt"),m.ctrlKey&&this.buffer.push("ctrl"),m.metaKey&&this.buffer.push("meta"),m.shiftKey&&this.buffer.push("shift"),this.buffer.push(m.key);const S=this.buffer.join("+");return this.buffer.length=0,S}exec(m,S){if(!this.allKeys.has(S.key))return;const k=this.callbacks.get(this.#e(S));if(!k)return;const{callback:E,options:{bubbles:I=!1,args:L=[],checker:z=null}}=k;z&&!z(m,S)||(E.bind(m,...L)(),I||(S.stopPropagation(),S.preventDefault()))}}i.KeyboardManager=u;class c{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const m=new Map([["CanvasText",null],["Canvas",null]]);return(0,l.getColorValues)(m),(0,o.shadow)(this,"_colors",m)}convert(m){const S=(0,l.getRGB)(m);if(!window.matchMedia("(forced-colors: active)").matches)return S;for(const[k,E]of this._colors)if(E.every((I,L)=>I===S[L]))return c._colorsMapping.get(k);return S}getHexCode(m){const S=this._colors.get(m);return S?o.Util.makeHexColor(...S):m}}i.ColorManager=c;class y{#e=null;#t=new Map;#n=new Map;#r=null;#a=null;#o=new d;#s=0;#l=new Set;#u=null;#i=null;#p=new Set;#d=null;#h=new g;#f=!1;#x=!1;#g=null;#m=o.AnnotationEditorType.NONE;#c=new Set;#y=null;#S=this.blur.bind(this);#E=this.focus.bind(this);#_=this.copy.bind(this);#R=this.cut.bind(this);#I=this.paste.bind(this);#L=this.keydown.bind(this);#D=this.onEditingAction.bind(this);#v=this.onPageChanging.bind(this);#M=this.onScaleChanging.bind(this);#T=this.onRotationChanging.bind(this);#P={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#b=[0,0];#C=null;#k=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const m=y.prototype,S=I=>{const{activeElement:L}=document;return L&&I.#k.contains(L)&&I.hasSomethingToControl()},k=this.TRANSLATE_SMALL,E=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new u([[["ctrl+a","mac+meta+a"],m.selectAll],[["ctrl+z","mac+meta+z"],m.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],m.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],m.delete],[["Escape","mac+Escape"],m.unselectAll],[["ArrowLeft","mac+ArrowLeft"],m.translateSelectedEditors,{args:[-k,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],m.translateSelectedEditors,{args:[-E,0],checker:S}],[["ArrowRight","mac+ArrowRight"],m.translateSelectedEditors,{args:[k,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],m.translateSelectedEditors,{args:[E,0],checker:S}],[["ArrowUp","mac+ArrowUp"],m.translateSelectedEditors,{args:[0,-k],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],m.translateSelectedEditors,{args:[0,-E],checker:S}],[["ArrowDown","mac+ArrowDown"],m.translateSelectedEditors,{args:[0,k],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],m.translateSelectedEditors,{args:[0,E],checker:S}]]))}constructor(m,S,k,E,I,L){this.#k=m,this.#N=S,this.#r=k,this._eventBus=E,this._eventBus._on("editingaction",this.#D),this._eventBus._on("pagechanging",this.#v),this._eventBus._on("scalechanging",this.#M),this._eventBus._on("rotationchanging",this.#T),this.#a=I.annotationStorage,this.#d=I.filterFactory,this.#y=L,this.viewParameters={realScale:l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#j(),this.#z(),this._eventBus._off("editingaction",this.#D),this._eventBus._off("pagechanging",this.#v),this._eventBus._off("scalechanging",this.#M),this._eventBus._off("rotationchanging",this.#T);for(const m of this.#n.values())m.destroy();this.#n.clear(),this.#t.clear(),this.#p.clear(),this.#e=null,this.#c.clear(),this.#o.destroy(),this.#r.destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#k).direction)}editAltText(m){this.#r?.editAltText(this,m)}onPageChanging({pageNumber:m}){this.#s=m-1}focusMainContainer(){this.#k.focus()}findParent(m,S){for(const k of this.#n.values()){const{x:E,y:I,width:L,height:z}=k.div.getBoundingClientRect();if(m>=E&&m<=E+L&&S>=I&&S<=I+z)return k}return null}disableUserSelect(m=!1){this.#N.classList.toggle("noUserSelect",m)}addShouldRescale(m){this.#p.add(m)}removeShouldRescale(m){this.#p.delete(m)}onScaleChanging({scale:m}){this.commitOrRemove(),this.viewParameters.realScale=m*l.PixelsPerInch.PDF_TO_CSS_UNITS;for(const S of this.#p)S.onScaleChanging()}onRotationChanging({pagesRotation:m}){this.commitOrRemove(),this.viewParameters.rotation=m}addToAnnotationStorage(m){!m.isEmpty()&&this.#a&&!this.#a.has(m.id)&&this.#a.setValue(m.id,m)}#O(){window.addEventListener("focus",this.#E),window.addEventListener("blur",this.#S)}#z(){window.removeEventListener("focus",this.#E),window.removeEventListener("blur",this.#S)}blur(){if(!this.hasSelection)return;const{activeElement:m}=document;for(const S of this.#c)if(S.div.contains(m)){this.#g=[S,m],S._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[m,S]=this.#g;this.#g=null,S.addEventListener("focusin",()=>{m._focusEventsAllowed=!0},{once:!0}),S.focus()}#B(){window.addEventListener("keydown",this.#L,{capture:!0})}#j(){window.removeEventListener("keydown",this.#L,{capture:!0})}#F(){document.addEventListener("copy",this.#_),document.addEventListener("cut",this.#R),document.addEventListener("paste",this.#I)}#A(){document.removeEventListener("copy",this.#_),document.removeEventListener("cut",this.#R),document.removeEventListener("paste",this.#I)}addEditListeners(){this.#B(),this.#F()}removeEditListeners(){this.#j(),this.#A()}copy(m){if(m.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const S=[];for(const k of this.#c){const E=k.serialize(!0);E&&S.push(E)}S.length!==0&&m.clipboardData.setData("application/pdfjs",JSON.stringify(S))}cut(m){this.copy(m),this.delete()}paste(m){m.preventDefault();const{clipboardData:S}=m;for(const I of S.items)for(const L of this.#i)if(L.isHandlingMimeForPasting(I.type)){L.paste(I,this.currentLayer);return}let k=S.getData("application/pdfjs");if(!k)return;try{k=JSON.parse(k)}catch(I){(0,o.warn)(`paste: "${I.message}".`);return}if(!Array.isArray(k))return;this.unselectAll();const E=this.currentLayer;try{const I=[];for(const j of k){const F=E.deserialize(j);if(!F)return;I.push(F)}const L=()=>{for(const j of I)this.#H(j);this.#$(I)},z=()=>{for(const j of I)j.remove()};this.addCommands({cmd:L,undo:z,mustExec:!0})}catch(I){(0,o.warn)(`paste: "${I.message}".`)}}keydown(m){this.getActive()?.shouldGetKeyboardEvents()||y._keyboardManager.exec(this,m)}onEditingAction(m){["undo","redo","delete","selectAll"].includes(m.name)&&this[m.name]()}#w(m){Object.entries(m).some(([k,E])=>this.#P[k]!==E)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#P,m)})}#U(m){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:m})}setEditingState(m){m?(this.#O(),this.#B(),this.#F(),this.#w({isEditing:this.#m!==o.AnnotationEditorType.NONE,isEmpty:this.#V(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#z(),this.#j(),this.#A(),this.#w({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(m){if(!this.#i){this.#i=m;for(const S of this.#i)this.#U(S.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(m){return this.#n.get(m)}get currentPageIndex(){return this.#s}addLayer(m){this.#n.set(m.pageIndex,m),this.#f?m.enable():m.disable()}removeLayer(m){this.#n.delete(m.pageIndex)}updateMode(m,S=null){if(this.#m!==m){if(this.#m=m,m===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#q();return}this.setEditingState(!0),this.#W(),this.unselectAll();for(const k of this.#n.values())k.updateMode(m);if(S){for(const k of this.#t.values())if(k.annotationElementId===S){this.setSelected(k),k.enterInEditMode();break}}}}updateToolbar(m){m!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:m})}updateParams(m,S){if(this.#i){if(m===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(m);return}for(const k of this.#c)k.updateParams(m,S);for(const k of this.#i)k.updateDefaultParams(m,S)}}enableWaiting(m=!1){if(this.#x!==m){this.#x=m;for(const S of this.#n.values())m?S.disableClick():S.enableClick(),S.div.classList.toggle("waiting",m)}}#W(){if(!this.#f){this.#f=!0;for(const m of this.#n.values())m.enable()}}#q(){if(this.unselectAll(),this.#f){this.#f=!1;for(const m of this.#n.values())m.disable()}}getEditors(m){const S=[];for(const k of this.#t.values())k.pageIndex===m&&S.push(k);return S}getEditor(m){return this.#t.get(m)}addEditor(m){this.#t.set(m.id,m)}removeEditor(m){this.#t.delete(m.id),this.unselect(m),(!m.annotationElementId||!this.#l.has(m.annotationElementId))&&this.#a?.remove(m.id)}addDeletedAnnotationElement(m){this.#l.add(m.annotationElementId),m.deleted=!0}isDeletedAnnotationElement(m){return this.#l.has(m)}removeDeletedAnnotationElement(m){this.#l.delete(m.annotationElementId),m.deleted=!1}#H(m){const S=this.#n.get(m.pageIndex);S?S.addOrRebuild(m):this.addEditor(m)}setActiveEditor(m){this.#e!==m&&(this.#e=m,m&&this.#U(m.propertiesToUpdate))}toggleSelected(m){if(this.#c.has(m)){this.#c.delete(m),m.unselect(),this.#w({hasSelectedEditor:this.hasSelection});return}this.#c.add(m),m.select(),this.#U(m.propertiesToUpdate),this.#w({hasSelectedEditor:!0})}setSelected(m){for(const S of this.#c)S!==m&&S.unselect();this.#c.clear(),this.#c.add(m),m.select(),this.#U(m.propertiesToUpdate),this.#w({hasSelectedEditor:!0})}isSelected(m){return this.#c.has(m)}unselect(m){m.unselect(),this.#c.delete(m),this.#w({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#c.size!==0}undo(){this.#o.undo(),this.#w({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#V()})}redo(){this.#o.redo(),this.#w({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#V()})}addCommands(m){this.#o.add(m),this.#w({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#V()})}#V(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const m of this.#t.values())return m.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const m=[...this.#c],S=()=>{for(const E of m)E.remove()},k=()=>{for(const E of m)this.#H(E)};this.addCommands({cmd:S,undo:k,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#$(m){this.#c.clear();for(const S of m)S.isEmpty()||(this.#c.add(S),S.select());this.#w({hasSelectedEditor:!0})}selectAll(){for(const m of this.#c)m.commit();this.#$(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const m of this.#c)m.unselect();this.#c.clear(),this.#w({hasSelectedEditor:!1})}}translateSelectedEditors(m,S,k=!1){if(k||this.commitOrRemove(),!this.hasSelection)return;this.#b[0]+=m,this.#b[1]+=S;const[E,I]=this.#b,L=[...this.#c],z=1e3;this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.#C=null,this.#b[0]=this.#b[1]=0,this.addCommands({cmd:()=>{for(const j of L)this.#t.has(j.id)&&j.translateInPage(E,I)},undo:()=>{for(const j of L)this.#t.has(j.id)&&j.translateInPage(-E,-I)},mustExec:!1})},z);for(const j of L)j.translateInPage(m,S)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#u=new Map;for(const m of this.#c)this.#u.set(m,{savedX:m.x,savedY:m.y,savedPageIndex:m.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#u)return!1;this.disableUserSelect(!1);const m=this.#u;this.#u=null;let S=!1;for(const[{x:E,y:I,pageIndex:L},z]of m)z.newX=E,z.newY=I,z.newPageIndex=L,S||=E!==z.savedX||I!==z.savedY||L!==z.savedPageIndex;if(!S)return!1;const k=(E,I,L,z)=>{if(this.#t.has(E.id)){const j=this.#n.get(z);j?E._setParentAndPosition(j,I,L):(E.pageIndex=z,E.x=I,E.y=L)}};return this.addCommands({cmd:()=>{for(const[E,{newX:I,newY:L,newPageIndex:z}]of m)k(E,I,L,z)},undo:()=>{for(const[E,{savedX:I,savedY:L,savedPageIndex:z}]of m)k(E,I,L,z)},mustExec:!0}),!0}dragSelectedEditors(m,S){if(this.#u)for(const k of this.#u.keys())k.drag(m,S)}rebuild(m){if(m.parent===null){const S=this.getLayer(m.pageIndex);S?(S.changeParent(m),S.addOrRebuild(m)):(this.addEditor(m),this.addToAnnotationStorage(m),m.rebuild())}else m.parent.addOrRebuild(m)}isActive(m){return this.#e===m}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,o.shadow)(this,"imageManager",new w)}}i.AnnotationEditorUIManager=y},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=V,i.getColorValues=ie,i.getCurrentTransform=te,i.getCurrentTransformInverse=ne,i.getFilenameFromUrl=E,i.getPdfFilenameFromUrl=I,i.getRGB=Q,i.getXfaPageViewport=q,i.isDataScheme=S,i.isPdfFile=k,i.isValidFetchUrl=z,i.loadScript=F,i.noContextMenu=j,i.setLayerDimensions=he;var o=s(7),l=s(1);const h="http://www.w3.org/2000/svg";class p{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}i.PixelsPerInch=p;class g extends o.BaseFilterFactory{#e;#t;#n;#r;#a;#o;#s;#l;#u;#i;#p=0;constructor({docId:G,ownerDocument:P=globalThis.document}={}){super(),this.#n=G,this.#r=P}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const G=this.#r.createElement("div"),{style:P}=G;P.visibility="hidden",P.contain="strict",P.width=P.height=0,P.position="absolute",P.top=P.left=0,P.zIndex=-1;const T=this.#r.createElementNS(h,"svg");T.setAttribute("width",0),T.setAttribute("height",0),this.#t=this.#r.createElementNS(h,"defs"),G.append(T),T.append(this.#t),this.#r.body.append(G)}return this.#t}addFilter(G){if(!G)return"none";let P=this.#d.get(G);if(P)return P;let T,v,C,N;if(G.length===1){const A=G[0],M=new Array(256);for(let D=0;D<256;D++)M[D]=A[D]/255;N=T=v=C=M.join(",")}else{const[A,M,D]=G,U=new Array(256),$=new Array(256),K=new Array(256);for(let J=0;J<256;J++)U[J]=A[J]/255,$[J]=M[J]/255,K[J]=D[J]/255;T=U.join(","),v=$.join(","),C=K.join(","),N=`${T}${v}${C}`}if(P=this.#d.get(N),P)return this.#d.set(G,P),P;const R=`g_${this.#n}_transfer_map_${this.#p++}`,W=`url(#${R})`;this.#d.set(G,W),this.#d.set(N,W);const B=this.#x(R);return this.#m(T,v,C,B),W}addHCMFilter(G,P){const T=`${G}-${P}`;if(this.#o===T)return this.#s;if(this.#o=T,this.#s="none",this.#a?.remove(),!G||!P)return this.#s;const v=this.#c(G);G=l.Util.makeHexColor(...v);const C=this.#c(P);if(P=l.Util.makeHexColor(...C),this.#h.style.color="",G==="#000000"&&P==="#ffffff"||G===P)return this.#s;const N=new Array(256);for(let M=0;M<=255;M++){const D=M/255;N[M]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const R=N.join(","),W=`g_${this.#n}_hcm_filter`,B=this.#l=this.#x(W);this.#m(R,R,R,B),this.#f(B);const A=(M,D)=>{const U=v[M]/255,$=C[M]/255,K=new Array(D+1);for(let J=0;J<=D;J++)K[J]=U+J/D*($-U);return K.join(",")};return this.#m(A(0,5),A(1,5),A(2,5),B),this.#s=`url(#${W})`,this.#s}addHighlightHCMFilter(G,P,T,v){const C=`${G}-${P}-${T}-${v}`;if(this.#u===C)return this.#i;if(this.#u=C,this.#i="none",this.#l?.remove(),!G||!P)return this.#i;const[N,R]=[G,P].map(this.#c.bind(this));let W=Math.round(.2126*N[0]+.7152*N[1]+.0722*N[2]),B=Math.round(.2126*R[0]+.7152*R[1]+.0722*R[2]),[A,M]=[T,v].map(this.#c.bind(this));B<W&&([W,B,A,M]=[B,W,M,A]),this.#h.style.color="";const D=(K,J,ue)=>{const Ae=new Array(256),ce=(B-W)/ue,fe=K/255,me=(J-K)/(255*ue);let ge=0;for(let ye=0;ye<=ue;ye++){const _e=Math.round(W+ye*ce),Re=fe+ye*me;for(let Ie=ge;Ie<=_e;Ie++)Ae[Ie]=Re;ge=_e+1}for(let ye=ge;ye<256;ye++)Ae[ye]=Ae[ge-1];return Ae.join(",")},U=`g_${this.#n}_hcm_highlight_filter`,$=this.#l=this.#x(U);return this.#f($),this.#m(D(A[0],M[0],5),D(A[1],M[1],5),D(A[2],M[2],5),$),this.#i=`url(#${U})`,this.#i}destroy(G=!1){G&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#p=0)}#f(G){const P=this.#r.createElementNS(h,"feColorMatrix");P.setAttribute("type","matrix"),P.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),G.append(P)}#x(G){const P=this.#r.createElementNS(h,"filter");return P.setAttribute("color-interpolation-filters","sRGB"),P.setAttribute("id",G),this.#h.append(P),P}#g(G,P,T){const v=this.#r.createElementNS(h,P);v.setAttribute("type","discrete"),v.setAttribute("tableValues",T),G.append(v)}#m(G,P,T,v){const C=this.#r.createElementNS(h,"feComponentTransfer");v.append(C),this.#g(C,"feFuncR",G),this.#g(C,"feFuncG",P),this.#g(C,"feFuncB",T)}#c(G){return this.#h.style.color=G,Q(getComputedStyle(this.#h).getPropertyValue("color"))}}i.DOMFilterFactory=g;class w extends o.BaseCanvasFactory{constructor({ownerDocument:G=globalThis.document}={}){super(),this._document=G}_createCanvas(G,P){const T=this._document.createElement("canvas");return T.width=G,T.height=P,T}}i.DOMCanvasFactory=w;async function d(ae,G=!1){if(z(ae,document.baseURI)){const P=await fetch(ae);if(!P.ok)throw new Error(P.statusText);return G?new Uint8Array(await P.arrayBuffer()):(0,l.stringToBytes)(await P.text())}return new Promise((P,T)=>{const v=new XMLHttpRequest;v.open("GET",ae,!0),G&&(v.responseType="arraybuffer"),v.onreadystatechange=()=>{if(v.readyState===XMLHttpRequest.DONE){if(v.status===200||v.status===0){let C;if(G&&v.response?C=new Uint8Array(v.response):!G&&v.responseText&&(C=(0,l.stringToBytes)(v.responseText)),C){P(C);return}}T(new Error(v.statusText))}},v.send(null)})}class u extends o.BaseCMapReaderFactory{_fetchData(G,P){return d(G,this.isCompressed).then(T=>({cMapData:T,compressionType:P}))}}i.DOMCMapReaderFactory=u;class c extends o.BaseStandardFontDataFactory{_fetchData(G){return d(G,!0)}}i.DOMStandardFontDataFactory=c;class y extends o.BaseSVGFactory{_createSVG(G){return document.createElementNS(h,G)}}i.DOMSVGFactory=y;class x{constructor({viewBox:G,scale:P,rotation:T,offsetX:v=0,offsetY:C=0,dontFlip:N=!1}){this.viewBox=G,this.scale=P,this.rotation=T,this.offsetX=v,this.offsetY=C;const R=(G[2]+G[0])/2,W=(G[3]+G[1])/2;let B,A,M,D;switch(T%=360,T<0&&(T+=360),T){case 180:B=-1,A=0,M=0,D=1;break;case 90:B=0,A=1,M=1,D=0;break;case 270:B=0,A=-1,M=-1,D=0;break;case 0:B=1,A=0,M=0,D=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}N&&(M=-M,D=-D);let U,$,K,J;B===0?(U=Math.abs(W-G[1])*P+v,$=Math.abs(R-G[0])*P+C,K=(G[3]-G[1])*P,J=(G[2]-G[0])*P):(U=Math.abs(R-G[0])*P+v,$=Math.abs(W-G[1])*P+C,K=(G[2]-G[0])*P,J=(G[3]-G[1])*P),this.transform=[B*P,A*P,M*P,D*P,U-B*P*R-M*P*W,$-A*P*R-D*P*W],this.width=K,this.height=J}get rawDims(){const{viewBox:G}=this;return(0,l.shadow)(this,"rawDims",{pageWidth:G[2]-G[0],pageHeight:G[3]-G[1],pageX:G[0],pageY:G[1]})}clone({scale:G=this.scale,rotation:P=this.rotation,offsetX:T=this.offsetX,offsetY:v=this.offsetY,dontFlip:C=!1}={}){return new x({viewBox:this.viewBox.slice(),scale:G,rotation:P,offsetX:T,offsetY:v,dontFlip:C})}convertToViewportPoint(G,P){return l.Util.applyTransform([G,P],this.transform)}convertToViewportRectangle(G){const P=l.Util.applyTransform([G[0],G[1]],this.transform),T=l.Util.applyTransform([G[2],G[3]],this.transform);return[P[0],P[1],T[0],T[1]]}convertToPdfPoint(G,P){return l.Util.applyInverseTransform([G,P],this.transform)}}i.PageViewport=x;class m extends l.BaseException{constructor(G,P=0){super(G,"RenderingCancelledException"),this.extraDelay=P}}i.RenderingCancelledException=m;function S(ae){const G=ae.length;let P=0;for(;P<G&&ae[P].trim()==="";)P++;return ae.substring(P,P+5).toLowerCase()==="data:"}function k(ae){return typeof ae=="string"&&/\.pdf$/i.test(ae)}function E(ae,G=!1){return G||([ae]=ae.split(/[#?]/,1)),ae.substring(ae.lastIndexOf("/")+1)}function I(ae,G="document.pdf"){if(typeof ae!="string")return G;if(S(ae))return(0,l.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),G;const P=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,T=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,v=P.exec(ae);let C=T.exec(v[1])||T.exec(v[2])||T.exec(v[3]);if(C&&(C=C[0],C.includes("%")))try{C=T.exec(decodeURIComponent(C))[0]}catch{}return C||G}class L{started=Object.create(null);times=[];time(G){G in this.started&&(0,l.warn)(`Timer is already running for ${G}`),this.started[G]=Date.now()}timeEnd(G){G in this.started||(0,l.warn)(`Timer has not been started for ${G}`),this.times.push({name:G,start:this.started[G],end:Date.now()}),delete this.started[G]}toString(){const G=[];let P=0;for(const{name:T}of this.times)P=Math.max(T.length,P);for(const{name:T,start:v,end:C}of this.times)G.push(`${T.padEnd(P)} ${C-v}ms
`);return G.join("")}}i.StatTimer=L;function z(ae,G){try{const{protocol:P}=G?new URL(ae,G):new URL(ae);return P==="http:"||P==="https:"}catch{return!1}}function j(ae){ae.preventDefault()}function F(ae,G=!1){return new Promise((P,T)=>{const v=document.createElement("script");v.src=ae,v.onload=function(C){G&&v.remove(),P(C)},v.onerror=function(){T(new Error(`Cannot load script at: ${v.src}`))},(document.head||document.documentElement).append(v)})}function V(ae){console.log("Deprecated API usage: "+ae)}let H;class X{static toDateObject(G){if(!G||typeof G!="string")return null;H||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const P=H.exec(G);if(!P)return null;const T=parseInt(P[1],10);let v=parseInt(P[2],10);v=v>=1&&v<=12?v-1:0;let C=parseInt(P[3],10);C=C>=1&&C<=31?C:1;let N=parseInt(P[4],10);N=N>=0&&N<=23?N:0;let R=parseInt(P[5],10);R=R>=0&&R<=59?R:0;let W=parseInt(P[6],10);W=W>=0&&W<=59?W:0;const B=P[7]||"Z";let A=parseInt(P[8],10);A=A>=0&&A<=23?A:0;let M=parseInt(P[9],10)||0;return M=M>=0&&M<=59?M:0,B==="-"?(N+=A,R+=M):B==="+"&&(N-=A,R-=M),new Date(Date.UTC(T,v,C,N,R,W))}}i.PDFDateString=X;function q(ae,{scale:G=1,rotation:P=0}){const{width:T,height:v}=ae.attributes.style,C=[0,0,parseInt(T),parseInt(v)];return new x({viewBox:C,scale:G,rotation:P})}function Q(ae){if(ae.startsWith("#")){const G=parseInt(ae.slice(1),16);return[(G&16711680)>>16,(G&65280)>>8,G&255]}return ae.startsWith("rgb(")?ae.slice(4,-1).split(",").map(G=>parseInt(G)):ae.startsWith("rgba(")?ae.slice(5,-1).split(",").map(G=>parseInt(G)).slice(0,3):((0,l.warn)(`Not a valid color format: "${ae}"`),[0,0,0])}function ie(ae){const G=document.createElement("span");G.style.visibility="hidden",document.body.append(G);for(const P of ae.keys()){G.style.color=P;const T=window.getComputedStyle(G).color;ae.set(P,Q(T))}G.remove()}function te(ae){const{a:G,b:P,c:T,d:v,e:C,f:N}=ae.getTransform();return[G,P,T,v,C,N]}function ne(ae){const{a:G,b:P,c:T,d:v,e:C,f:N}=ae.getTransform().invertSelf();return[G,P,T,v,C,N]}function he(ae,G,P=!1,T=!0){if(G instanceof x){const{pageWidth:v,pageHeight:C}=G.rawDims,{style:N}=ae,R=l.FeatureTest.isCSSRoundSupported,W=`var(--scale-factor) * ${v}px`,B=`var(--scale-factor) * ${C}px`,A=R?`round(${W}, 1px)`:`calc(${W})`,M=R?`round(${B}, 1px)`:`calc(${B})`;!P||G.rotation%180===0?(N.width=A,N.height=M):(N.width=M,N.height=A)}T&&ae.setAttribute("data-main-rotation",G.rotation)}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class l{constructor(){this.constructor===l&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(u){return"none"}addHCMFilter(u,c){return"none"}addHighlightHCMFilter(u,c,y,x){return"none"}destroy(u=!1){}}i.BaseFilterFactory=l;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,c){if(u<=0||c<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(u,c);return{canvas:y,context:y.getContext("2d")}}reset(u,c,y){if(!u.canvas)throw new Error("Canvas is not specified");if(c<=0||y<=0)throw new Error("Invalid canvas size");u.canvas.width=c,u.canvas.height=y}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,c){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=h;class p{constructor({baseUrl:u=null,isCompressed:c=!0}){this.constructor===p&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=c}async fetch({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const c=this.baseUrl+u+(this.isCompressed?".bcmap":""),y=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(c,y).catch(x=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${c}`)})}_fetchData(u,c){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=p;class g{constructor({baseUrl:u=null}){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}async fetch({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const c=`${this.baseUrl}${u}`;return this._fetchData(c).catch(y=>{throw new Error(`Unable to load font data at: ${c}`)})}_fetchData(u){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=g;class w{constructor(){this.constructor===w&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,c,y=!1){if(u<=0||c<=0)throw new Error("Invalid SVG dimensions");const x=this._createSVG("svg:svg");return x.setAttribute("version","1.1"),y||(x.setAttribute("width",`${u}px`),x.setAttribute("height",`${c}px`)),x.setAttribute("preserveAspectRatio","none"),x.setAttribute("viewBox",`0 0 ${u} ${c}`),x}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=w},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const l=3285377520,h=4294901760,p=65535;class g{constructor(d){this.h1=d?d&4294967295:l,this.h2=d?d&4294967295:l}update(d){let u,c;if(typeof d=="string"){u=new Uint8Array(d.length*2),c=0;for(let V=0,H=d.length;V<H;V++){const X=d.charCodeAt(V);X<=255?u[c++]=X:(u[c++]=X>>>8,u[c++]=X&255)}}else if((0,o.isArrayBuffer)(d))u=d.slice(),c=u.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=c>>2,x=c-y*4,m=new Uint32Array(u.buffer,0,y);let S=0,k=0,E=this.h1,I=this.h2;const L=3432918353,z=461845907,j=L&p,F=z&p;for(let V=0;V<y;V++)V&1?(S=m[V],S=S*L&h|S*j&p,S=S<<15|S>>>17,S=S*z&h|S*F&p,E^=S,E=E<<13|E>>>19,E=E*5+3864292196):(k=m[V],k=k*L&h|k*j&p,k=k<<15|k>>>17,k=k*z&h|k*F&p,I^=k,I=I<<13|I>>>19,I=I*5+3864292196);switch(S=0,x){case 3:S^=u[y*4+2]<<16;case 2:S^=u[y*4+1]<<8;case 1:S^=u[y*4],S=S*L&h|S*j&p,S=S<<15|S>>>17,S=S*z&h|S*F&p,y&1?E^=S:I^=S}this.h1=E,this.h2=I}hexdigest(){let d=this.h1,u=this.h2;return d^=u>>>1,d=d*3981806797&h|d*36045&p,u=u*4283543511&h|((u<<16|d>>>16)*2950163797&h)>>>16,d^=u>>>1,d=d*444984403&h|d*60499&p,u=u*3301882366&h|((u<<16|d>>>16)*3120437893&h)>>>16,d^=u>>>1,(d>>>0).toString(16).padStart(8,"0")+(u>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=g},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1);class l{#e=new Set;constructor({ownerDocument:g=globalThis.document,styleElement:w=null}){this._document=g,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(g){this.nativeFontFaces.add(g),this._document.fonts.add(g)}removeNativeFontFace(g){this.nativeFontFaces.delete(g),this._document.fonts.delete(g)}insertRule(g){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const w=this.styleElement.sheet;w.insertRule(g,w.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(g){if(!(!g||this.#e.has(g.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:w,src:d,style:u}=g,c=new FontFace(w,d,u);this.addNativeFontFace(c);try{await c.load(),this.#e.add(w)}catch{(0,o.warn)(`Cannot load system font: ${g.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(g){if(g.attached||g.missingFile&&!g.systemFontInfo)return;if(g.attached=!0,g.systemFontInfo){await this.loadSystemFont(g.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=g.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(u){throw(0,o.warn)(`Failed to load font '${d.family}': '${u}'.`),g.disableFontFace=!0,u}}return}const w=g.createFontFaceRule();if(w){if(this.insertRule(w),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const u=this._queueLoadingCallback(d);this._prepareFontLoadEvent(g,u)})}}get isFontLoadingAPISupported(){const g=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){let g=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(g=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function w(){for((0,o.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;d.length>0&&d[0].done;){const c=d.shift();setTimeout(c.callback,0)}}const{loadingRequests:d}=this,u={done:!1,complete:w,callback:g};return d.push(u),u}get _loadTestFont(){const g=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",g)}_prepareFontLoadEvent(g,w){function d(q,Q){return q.charCodeAt(Q)<<24|q.charCodeAt(Q+1)<<16|q.charCodeAt(Q+2)<<8|q.charCodeAt(Q+3)&255}function u(q,Q,ie,te){const ne=q.substring(0,Q),he=q.substring(Q+ie);return ne+te+he}let c,y;const x=this._document.createElement("canvas");x.width=1,x.height=1;const m=x.getContext("2d");let S=0;function k(q,Q){if(++S>30){(0,o.warn)("Load test font never loaded."),Q();return}if(m.font="30px "+q,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0){Q();return}setTimeout(k.bind(null,q,Q))}const E=`lt${Date.now()}${this.loadTestFontId++}`;let I=this._loadTestFont;I=u(I,976,E.length,E);const z=16,j=1482184792;let F=d(I,z);for(c=0,y=E.length-3;c<y;c+=4)F=F-j+d(E,c)|0;c<E.length&&(F=F-j+d(E+"XXX",c)|0),I=u(I,z,4,(0,o.string32)(F));const V=`url(data:font/opentype;base64,${btoa(I)});`,H=`@font-face {font-family:"${E}";src:${V}}`;this.insertRule(H);const X=this._document.createElement("div");X.style.visibility="hidden",X.style.width=X.style.height="10px",X.style.position="absolute",X.style.top=X.style.left="0px";for(const q of[g.loadedName,E]){const Q=this._document.createElement("span");Q.textContent="Hi",Q.style.fontFamily=q,X.append(Q)}this._document.body.append(X),k(E,()=>{X.remove(),w.complete()})}}i.FontLoader=l;class h{constructor(g,{isEvalSupported:w=!0,disableFontFace:d=!1,ignoreErrors:u=!1,inspectFont:c=null}){this.compiledGlyphs=Object.create(null);for(const y in g)this[y]=g[y];this.isEvalSupported=w!==!1,this.disableFontFace=d===!0,this.ignoreErrors=u===!0,this._inspectFont=c}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const w={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(w.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,w)}return this._inspectFont?.(this),g}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const g=(0,o.bytesToString)(this.data),w=`url(data:${this.mimetype};base64,${btoa(g)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${w}}`;else{let u=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(u+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${u}src:${w}}`}return this._inspectFont?.(this,w),d}getPathGenerator(g,w){if(this.compiledGlyphs[w]!==void 0)return this.compiledGlyphs[w];let d;try{d=g.get(this.loadedName+"_path_"+w)}catch(u){if(!this.ignoreErrors)throw u;return(0,o.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[w]=function(c,y){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const u=[];for(const c of d){const y=c.args!==void 0?c.args.join(","):"";u.push("c.",c.cmd,"(",y,`);
`)}return this.compiledGlyphs[w]=new Function("c","size",u.join(""))}return this.compiledGlyphs[w]=function(u,c){for(const y of d)y.cmd==="scale"&&(y.args=[c,-c]),u[y.cmd].apply(u,y.args)}}}i.FontFaceObject=h},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const l=function(d){return new Promise((u,c)=>{require$$5.readFile(d,(x,m)=>{if(x||!m){c(new Error(x));return}u(new Uint8Array(m))})})};class h extends o.BaseFilterFactory{}i.NodeFilterFactory=h;class p extends o.BaseCanvasFactory{_createCanvas(u,c){return require$$5.createCanvas(u,c)}}i.NodeCanvasFactory=p;class g extends o.BaseCMapReaderFactory{_fetchData(u,c){return l(u).then(y=>({cMapData:y,compressionType:c}))}}i.NodeCMapReaderFactory=g;class w extends o.BaseStandardFontDataFactory{_fetchData(u){return l(u)}}i.NodeStandardFontDataFactory=w},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(1),l=s(6),h=s(12),p=s(13);const g=16,w=100,d=4096,u=15,c=10,y=1e3,x=16;function m(P,T){if(P._removeMirroring)throw new Error("Context is already forwarding operations.");P.__originalSave=P.save,P.__originalRestore=P.restore,P.__originalRotate=P.rotate,P.__originalScale=P.scale,P.__originalTranslate=P.translate,P.__originalTransform=P.transform,P.__originalSetTransform=P.setTransform,P.__originalResetTransform=P.resetTransform,P.__originalClip=P.clip,P.__originalMoveTo=P.moveTo,P.__originalLineTo=P.lineTo,P.__originalBezierCurveTo=P.bezierCurveTo,P.__originalRect=P.rect,P.__originalClosePath=P.closePath,P.__originalBeginPath=P.beginPath,P._removeMirroring=()=>{P.save=P.__originalSave,P.restore=P.__originalRestore,P.rotate=P.__originalRotate,P.scale=P.__originalScale,P.translate=P.__originalTranslate,P.transform=P.__originalTransform,P.setTransform=P.__originalSetTransform,P.resetTransform=P.__originalResetTransform,P.clip=P.__originalClip,P.moveTo=P.__originalMoveTo,P.lineTo=P.__originalLineTo,P.bezierCurveTo=P.__originalBezierCurveTo,P.rect=P.__originalRect,P.closePath=P.__originalClosePath,P.beginPath=P.__originalBeginPath,delete P._removeMirroring},P.save=function(){T.save(),this.__originalSave()},P.restore=function(){T.restore(),this.__originalRestore()},P.translate=function(C,N){T.translate(C,N),this.__originalTranslate(C,N)},P.scale=function(C,N){T.scale(C,N),this.__originalScale(C,N)},P.transform=function(C,N,R,W,B,A){T.transform(C,N,R,W,B,A),this.__originalTransform(C,N,R,W,B,A)},P.setTransform=function(C,N,R,W,B,A){T.setTransform(C,N,R,W,B,A),this.__originalSetTransform(C,N,R,W,B,A)},P.resetTransform=function(){T.resetTransform(),this.__originalResetTransform()},P.rotate=function(C){T.rotate(C),this.__originalRotate(C)},P.clip=function(C){T.clip(C),this.__originalClip(C)},P.moveTo=function(v,C){T.moveTo(v,C),this.__originalMoveTo(v,C)},P.lineTo=function(v,C){T.lineTo(v,C),this.__originalLineTo(v,C)},P.bezierCurveTo=function(v,C,N,R,W,B){T.bezierCurveTo(v,C,N,R,W,B),this.__originalBezierCurveTo(v,C,N,R,W,B)},P.rect=function(v,C,N,R){T.rect(v,C,N,R),this.__originalRect(v,C,N,R)},P.closePath=function(){T.closePath(),this.__originalClosePath()},P.beginPath=function(){T.beginPath(),this.__originalBeginPath()}}class S{constructor(T){this.canvasFactory=T,this.cache=Object.create(null)}getCanvas(T,v,C){let N;return this.cache[T]!==void 0?(N=this.cache[T],this.canvasFactory.reset(N,v,C)):(N=this.canvasFactory.create(v,C),this.cache[T]=N),N}delete(T){delete this.cache[T]}clear(){for(const T in this.cache){const v=this.cache[T];this.canvasFactory.destroy(v),delete this.cache[T]}}}function k(P,T,v,C,N,R,W,B,A,M){const[D,U,$,K,J,ue]=(0,l.getCurrentTransform)(P);if(U===0&&$===0){const fe=W*D+J,me=Math.round(fe),ge=B*K+ue,ye=Math.round(ge),_e=(W+A)*D+J,Re=Math.abs(Math.round(_e)-me)||1,Ie=(B+M)*K+ue,Ne=Math.abs(Math.round(Ie)-ye)||1;return P.setTransform(Math.sign(D),0,0,Math.sign(K),me,ye),P.drawImage(T,v,C,N,R,0,0,Re,Ne),P.setTransform(D,U,$,K,J,ue),[Re,Ne]}if(D===0&&K===0){const fe=B*$+J,me=Math.round(fe),ge=W*U+ue,ye=Math.round(ge),_e=(B+M)*$+J,Re=Math.abs(Math.round(_e)-me)||1,Ie=(W+A)*U+ue,Ne=Math.abs(Math.round(Ie)-ye)||1;return P.setTransform(0,Math.sign(U),Math.sign($),0,me,ye),P.drawImage(T,v,C,N,R,0,0,Ne,Re),P.setTransform(D,U,$,K,J,ue),[Ne,Re]}P.drawImage(T,v,C,N,R,W,B,A,M);const Ae=Math.hypot(D,U),ce=Math.hypot($,K);return[Ae*A,ce*M]}function E(P){const{width:T,height:v}=P;if(T>y||v>y)return null;const C=1e3,N=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),R=T+1;let W=new Uint8Array(R*(v+1)),B,A,M;const D=T+7&-8;let U=new Uint8Array(D*v),$=0;for(const ce of P.data){let fe=128;for(;fe>0;)U[$++]=ce&fe?0:255,fe>>=1}let K=0;for($=0,U[$]!==0&&(W[0]=1,++K),A=1;A<T;A++)U[$]!==U[$+1]&&(W[A]=U[$]?2:1,++K),$++;for(U[$]!==0&&(W[A]=2,++K),B=1;B<v;B++){$=B*D,M=B*R,U[$-D]!==U[$]&&(W[M]=U[$]?1:8,++K);let ce=(U[$]?4:0)+(U[$-D]?8:0);for(A=1;A<T;A++)ce=(ce>>2)+(U[$+1]?4:0)+(U[$-D+1]?8:0),N[ce]&&(W[M+A]=N[ce],++K),$++;if(U[$-D]!==U[$]&&(W[M+A]=U[$]?2:4,++K),K>C)return null}for($=D*(v-1),M=B*R,U[$]!==0&&(W[M]=8,++K),A=1;A<T;A++)U[$]!==U[$+1]&&(W[M+A]=U[$]?4:8,++K),$++;if(U[$]!==0&&(W[M+A]=4,++K),K>C)return null;const J=new Int32Array([0,R,-1,0,-R,0,0,0,1]),ue=new Path2D;for(B=0;K&&B<=v;B++){let ce=B*R;const fe=ce+T;for(;ce<fe&&!W[ce];)ce++;if(ce===fe)continue;ue.moveTo(ce%R,B);const me=ce;let ge=W[ce];do{const ye=J[ge];do ce+=ye;while(!W[ce]);const _e=W[ce];_e!==5&&_e!==10?(ge=_e,W[ce]=0):(ge=_e&51*ge>>4,W[ce]&=ge>>2|ge<<2),ue.lineTo(ce%R,ce/R|0),W[ce]||--K}while(me!==ce);--B}return U=null,W=null,function(ce){ce.save(),ce.scale(1/T,-1/v),ce.translate(0,-v),ce.fill(ue),ce.beginPath(),ce.restore()}}class I{constructor(T,v){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,T,v])}clone(){const T=Object.create(this);return T.clipBox=this.clipBox.slice(),T}setCurrentPoint(T,v){this.x=T,this.y=v}updatePathMinMax(T,v,C){[v,C]=o.Util.applyTransform([v,C],T),this.minX=Math.min(this.minX,v),this.minY=Math.min(this.minY,C),this.maxX=Math.max(this.maxX,v),this.maxY=Math.max(this.maxY,C)}updateRectMinMax(T,v){const C=o.Util.applyTransform(v,T),N=o.Util.applyTransform(v.slice(2),T);this.minX=Math.min(this.minX,C[0],N[0]),this.minY=Math.min(this.minY,C[1],N[1]),this.maxX=Math.max(this.maxX,C[0],N[0]),this.maxY=Math.max(this.maxY,C[1],N[1])}updateScalingPathMinMax(T,v){o.Util.scaleMinMax(T,v),this.minX=Math.min(this.minX,v[0]),this.maxX=Math.max(this.maxX,v[1]),this.minY=Math.min(this.minY,v[2]),this.maxY=Math.max(this.maxY,v[3])}updateCurvePathMinMax(T,v,C,N,R,W,B,A,M,D){const U=o.Util.bezierBoundingBox(v,C,N,R,W,B,A,M);if(D){D[0]=Math.min(D[0],U[0],U[2]),D[1]=Math.max(D[1],U[0],U[2]),D[2]=Math.min(D[2],U[1],U[3]),D[3]=Math.max(D[3],U[1],U[3]);return}this.updateRectMinMax(T,U)}getPathBoundingBox(T=h.PathType.FILL,v=null){const C=[this.minX,this.minY,this.maxX,this.maxY];if(T===h.PathType.STROKE){v||(0,o.unreachable)("Stroke bounding box must include transform.");const N=o.Util.singularValueDecompose2dScale(v),R=N[0]*this.lineWidth/2,W=N[1]*this.lineWidth/2;C[0]-=R,C[1]-=W,C[2]+=R,C[3]+=W}return C}updateClipFromPath(){const T=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(T||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(T){this.clipBox=T,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(T=h.PathType.FILL,v=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(T,v))}}function L(P,T){if(typeof ImageData<"u"&&T instanceof ImageData){P.putImageData(T,0,0);return}const v=T.height,C=T.width,N=v%x,R=(v-N)/x,W=N===0?R:R+1,B=P.createImageData(C,x);let A=0,M;const D=T.data,U=B.data;let $,K,J,ue;if(T.kind===o.ImageKind.GRAYSCALE_1BPP){const Ae=D.byteLength,ce=new Uint32Array(U.buffer,0,U.byteLength>>2),fe=ce.length,me=C+7>>3,ge=4294967295,ye=o.FeatureTest.isLittleEndian?4278190080:255;for($=0;$<W;$++){for(J=$<R?x:N,M=0,K=0;K<J;K++){const _e=Ae-A;let Re=0;const Ie=_e>me?C:_e*8-7,Ne=Ie&-8;let Be=0,$e=0;for(;Re<Ne;Re+=8)$e=D[A++],ce[M++]=$e&128?ge:ye,ce[M++]=$e&64?ge:ye,ce[M++]=$e&32?ge:ye,ce[M++]=$e&16?ge:ye,ce[M++]=$e&8?ge:ye,ce[M++]=$e&4?ge:ye,ce[M++]=$e&2?ge:ye,ce[M++]=$e&1?ge:ye;for(;Re<Ie;Re++)Be===0&&($e=D[A++],Be=128),ce[M++]=$e&Be?ge:ye,Be>>=1}for(;M<fe;)ce[M++]=0;P.putImageData(B,0,$*x)}}else if(T.kind===o.ImageKind.RGBA_32BPP){for(K=0,ue=C*x*4,$=0;$<R;$++)U.set(D.subarray(A,A+ue)),A+=ue,P.putImageData(B,0,K),K+=x;$<W&&(ue=C*N*4,U.set(D.subarray(A,A+ue)),P.putImageData(B,0,K))}else if(T.kind===o.ImageKind.RGB_24BPP)for(J=x,ue=C*J,$=0;$<W;$++){for($>=R&&(J=N,ue=C*J),M=0,K=ue;K--;)U[M++]=D[A++],U[M++]=D[A++],U[M++]=D[A++],U[M++]=255;P.putImageData(B,0,$*x)}else throw new Error(`bad image kind: ${T.kind}`)}function z(P,T){if(T.bitmap){P.drawImage(T.bitmap,0,0);return}const v=T.height,C=T.width,N=v%x,R=(v-N)/x,W=N===0?R:R+1,B=P.createImageData(C,x);let A=0;const M=T.data,D=B.data;for(let U=0;U<W;U++){const $=U<R?x:N;({srcPos:A}=(0,p.convertBlackAndWhiteToRGBA)({src:M,srcPos:A,dest:D,width:C,height:$,nonBlackColor:0})),P.putImageData(B,0,U*x)}}function j(P,T){const v=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const C of v)P[C]!==void 0&&(T[C]=P[C]);P.setLineDash!==void 0&&(T.setLineDash(P.getLineDash()),T.lineDashOffset=P.lineDashOffset)}function F(P){if(P.strokeStyle=P.fillStyle="#000000",P.fillRule="nonzero",P.globalAlpha=1,P.lineWidth=1,P.lineCap="butt",P.lineJoin="miter",P.miterLimit=10,P.globalCompositeOperation="source-over",P.font="10px sans-serif",P.setLineDash!==void 0&&(P.setLineDash([]),P.lineDashOffset=0),!o.isNodeJS){const{filter:T}=P;T!=="none"&&T!==""&&(P.filter="none")}}function V(P,T,v,C){const N=P.length;for(let R=3;R<N;R+=4){const W=P[R];if(W===0)P[R-3]=T,P[R-2]=v,P[R-1]=C;else if(W<255){const B=255-W;P[R-3]=P[R-3]*W+T*B>>8,P[R-2]=P[R-2]*W+v*B>>8,P[R-1]=P[R-1]*W+C*B>>8}}}function H(P,T,v){const C=P.length,N=1/255;for(let R=3;R<C;R+=4){const W=v?v[P[R]]:P[R];T[R]=T[R]*W*N|0}}function X(P,T,v){const C=P.length;for(let N=3;N<C;N+=4){const R=P[N-3]*77+P[N-2]*152+P[N-1]*28;T[N]=v?T[N]*v[R>>8]>>8:T[N]*R>>16}}function q(P,T,v,C,N,R,W,B,A,M,D){const U=!!R,$=U?R[0]:0,K=U?R[1]:0,J=U?R[2]:0,ue=N==="Luminosity"?X:H,ce=Math.min(C,Math.ceil(1048576/v));for(let fe=0;fe<C;fe+=ce){const me=Math.min(ce,C-fe),ge=P.getImageData(B-M,fe+(A-D),v,me),ye=T.getImageData(B,fe+A,v,me);U&&V(ge.data,$,K,J),ue(ge.data,ye.data,W),T.putImageData(ye,B,fe+A)}}function Q(P,T,v,C){const N=C[0],R=C[1],W=C[2]-N,B=C[3]-R;W===0||B===0||(q(T.context,v,W,B,T.subtype,T.backdrop,T.transferMap,N,R,T.offsetX,T.offsetY),P.save(),P.globalAlpha=1,P.globalCompositeOperation="source-over",P.setTransform(1,0,0,1,0,0),P.drawImage(v.canvas,0,0),P.restore())}function ie(P,T){const v=o.Util.singularValueDecompose2dScale(P);v[0]=Math.fround(v[0]),v[1]=Math.fround(v[1]);const C=Math.fround((globalThis.devicePixelRatio||1)*l.PixelsPerInch.PDF_TO_CSS_UNITS);return T!==void 0?T:v[0]<=C||v[1]<=C}const te=["butt","round","square"],ne=["miter","round","bevel"],he={},ae={};class G{constructor(T,v,C,N,R,{optionalContentConfig:W,markedContentStack:B=null},A,M){this.ctx=T,this.current=new I(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=v,this.objs=C,this.canvasFactory=N,this.filterFactory=R,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=B||[],this.optionalContentConfig=W,this.cachedCanvases=new S(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=A,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=M,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(T,v=null){return typeof T=="string"?T.startsWith("g_")?this.commonObjs.get(T):this.objs.get(T):v}beginDrawing({transform:T,viewport:v,transparency:C=!1,background:N=null}){const R=this.ctx.canvas.width,W=this.ctx.canvas.height,B=this.ctx.fillStyle;if(this.ctx.fillStyle=N||"#ffffff",this.ctx.fillRect(0,0,R,W),this.ctx.fillStyle=B,C){const A=this.cachedCanvases.getCanvas("transparent",R,W);this.compositeCtx=this.ctx,this.transparentCanvas=A.canvas,this.ctx=A.context,this.ctx.save(),this.ctx.transform(...(0,l.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),F(this.ctx),T&&(this.ctx.transform(...T),this.outputScaleX=T[0],this.outputScaleY=T[0]),this.ctx.transform(...v.transform),this.viewportScale=v.scale,this.baseTransform=(0,l.getCurrentTransform)(this.ctx)}executeOperatorList(T,v,C,N){const R=T.argsArray,W=T.fnArray;let B=v||0;const A=R.length;if(A===B)return B;const M=A-B>c&&typeof C=="function",D=M?Date.now()+u:0;let U=0;const $=this.commonObjs,K=this.objs;let J;for(;;){if(N!==void 0&&B===N.nextBreakPoint)return N.breakIt(B,C),B;if(J=W[B],J!==o.OPS.dependency)this[J].apply(this,R[B]);else for(const ue of R[B]){const Ae=ue.startsWith("g_")?$:K;if(!Ae.has(ue))return Ae.get(ue,C),B}if(B++,B===A)return B;if(M&&++U>c){if(Date.now()>D)return C(),B;U=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const T of this._cachedBitmapsMap.values()){for(const v of T.values())typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement&&(v.width=v.height=0);T.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const T=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(T!=="none"){const v=this.ctx.filter;this.ctx.filter=T,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=v}}}_scaleImage(T,v){const C=T.width,N=T.height;let R=Math.max(Math.hypot(v[0],v[1]),1),W=Math.max(Math.hypot(v[2],v[3]),1),B=C,A=N,M="prescale1",D,U;for(;R>2&&B>1||W>2&&A>1;){let $=B,K=A;R>2&&B>1&&($=B>=16384?Math.floor(B/2)-1||1:Math.ceil(B/2),R/=B/$),W>2&&A>1&&(K=A>=16384?Math.floor(A/2)-1||1:Math.ceil(A)/2,W/=A/K),D=this.cachedCanvases.getCanvas(M,$,K),U=D.context,U.clearRect(0,0,$,K),U.drawImage(T,0,0,B,A,0,0,$,K),T=D.canvas,B=$,A=K,M=M==="prescale1"?"prescale2":"prescale1"}return{img:T,paintWidth:B,paintHeight:A}}_createMaskCanvas(T){const v=this.ctx,{width:C,height:N}=T,R=this.current.fillColor,W=this.current.patternFill,B=(0,l.getCurrentTransform)(v);let A,M,D,U;if((T.bitmap||T.data)&&T.count>1){const Re=T.bitmap||T.data.buffer;M=JSON.stringify(W?B:[B.slice(0,4),R]),A=this._cachedBitmapsMap.get(Re),A||(A=new Map,this._cachedBitmapsMap.set(Re,A));const Ie=A.get(M);if(Ie&&!W){const Ne=Math.round(Math.min(B[0],B[2])+B[4]),Be=Math.round(Math.min(B[1],B[3])+B[5]);return{canvas:Ie,offsetX:Ne,offsetY:Be}}D=Ie}D||(U=this.cachedCanvases.getCanvas("maskCanvas",C,N),z(U.context,T));let $=o.Util.transform(B,[1/C,0,0,-1/N,0,0]);$=o.Util.transform($,[1,0,0,1,0,-N]);const K=o.Util.applyTransform([0,0],$),J=o.Util.applyTransform([C,N],$),ue=o.Util.normalizeRect([K[0],K[1],J[0],J[1]]),Ae=Math.round(ue[2]-ue[0])||1,ce=Math.round(ue[3]-ue[1])||1,fe=this.cachedCanvases.getCanvas("fillCanvas",Ae,ce),me=fe.context,ge=Math.min(K[0],J[0]),ye=Math.min(K[1],J[1]);me.translate(-ge,-ye),me.transform(...$),D||(D=this._scaleImage(U.canvas,(0,l.getCurrentTransformInverse)(me)),D=D.img,A&&W&&A.set(M,D)),me.imageSmoothingEnabled=ie((0,l.getCurrentTransform)(me),T.interpolate),k(me,D,0,0,D.width,D.height,0,0,C,N),me.globalCompositeOperation="source-in";const _e=o.Util.transform((0,l.getCurrentTransformInverse)(me),[1,0,0,1,-ge,-ye]);return me.fillStyle=W?R.getPattern(v,this,_e,h.PathType.FILL):R,me.fillRect(0,0,C,N),A&&!W&&(this.cachedCanvases.delete("fillCanvas"),A.set(M,fe.canvas)),{canvas:fe.canvas,offsetX:Math.round(ge),offsetY:Math.round(ye)}}setLineWidth(T){T!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=T,this.ctx.lineWidth=T}setLineCap(T){this.ctx.lineCap=te[T]}setLineJoin(T){this.ctx.lineJoin=ne[T]}setMiterLimit(T){this.ctx.miterLimit=T}setDash(T,v){const C=this.ctx;C.setLineDash!==void 0&&(C.setLineDash(T),C.lineDashOffset=v)}setRenderingIntent(T){}setFlatness(T){}setGState(T){for(const[v,C]of T)switch(v){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C[0],C[1]);break;case"CA":this.current.strokeAlpha=C;break;case"ca":this.current.fillAlpha=C,this.ctx.globalAlpha=C;break;case"BM":this.ctx.globalCompositeOperation=C;break;case"SMask":this.current.activeSMask=C?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(C);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const T=this.inSMaskMode;this.current.activeSMask&&!T?this.beginSMaskMode():!this.current.activeSMask&&T&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const T=this.ctx.canvas.width,v=this.ctx.canvas.height,C="smaskGroupAt"+this.groupLevel,N=this.cachedCanvases.getCanvas(C,T,v);this.suspendedCtx=this.ctx,this.ctx=N.context;const R=this.ctx;R.setTransform(...(0,l.getCurrentTransform)(this.suspendedCtx)),j(this.suspendedCtx,R),m(R,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),j(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(T){if(!this.current.activeSMask)return;T?(T[0]=Math.floor(T[0]),T[1]=Math.floor(T[1]),T[2]=Math.ceil(T[2]),T[3]=Math.ceil(T[3])):T=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const v=this.current.activeSMask,C=this.suspendedCtx;Q(C,v,this.ctx,T),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(j(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const T=this.current;this.stateStack.push(T),this.current=T.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),j(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(T,v,C,N,R,W){this.ctx.transform(T,v,C,N,R,W),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(T,v,C){const N=this.ctx,R=this.current;let W=R.x,B=R.y,A,M;const D=(0,l.getCurrentTransform)(N),U=D[0]===0&&D[3]===0||D[1]===0&&D[2]===0,$=U?C.slice(0):null;for(let K=0,J=0,ue=T.length;K<ue;K++)switch(T[K]|0){case o.OPS.rectangle:W=v[J++],B=v[J++];const Ae=v[J++],ce=v[J++],fe=W+Ae,me=B+ce;N.moveTo(W,B),Ae===0||ce===0?N.lineTo(fe,me):(N.lineTo(fe,B),N.lineTo(fe,me),N.lineTo(W,me)),U||R.updateRectMinMax(D,[W,B,fe,me]),N.closePath();break;case o.OPS.moveTo:W=v[J++],B=v[J++],N.moveTo(W,B),U||R.updatePathMinMax(D,W,B);break;case o.OPS.lineTo:W=v[J++],B=v[J++],N.lineTo(W,B),U||R.updatePathMinMax(D,W,B);break;case o.OPS.curveTo:A=W,M=B,W=v[J+4],B=v[J+5],N.bezierCurveTo(v[J],v[J+1],v[J+2],v[J+3],W,B),R.updateCurvePathMinMax(D,A,M,v[J],v[J+1],v[J+2],v[J+3],W,B,$),J+=6;break;case o.OPS.curveTo2:A=W,M=B,N.bezierCurveTo(W,B,v[J],v[J+1],v[J+2],v[J+3]),R.updateCurvePathMinMax(D,A,M,W,B,v[J],v[J+1],v[J+2],v[J+3],$),W=v[J+2],B=v[J+3],J+=4;break;case o.OPS.curveTo3:A=W,M=B,W=v[J+2],B=v[J+3],N.bezierCurveTo(v[J],v[J+1],W,B,W,B),R.updateCurvePathMinMax(D,A,M,v[J],v[J+1],W,B,W,B,$),J+=4;break;case o.OPS.closePath:N.closePath();break}U&&R.updateScalingPathMinMax(D,$),R.setCurrentPoint(W,B)}closePath(){this.ctx.closePath()}stroke(T=!0){const v=this.ctx,C=this.current.strokeColor;v.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof C=="object"&&C?.getPattern?(v.save(),v.strokeStyle=C.getPattern(v,this,(0,l.getCurrentTransformInverse)(v),h.PathType.STROKE),this.rescaleAndStroke(!1),v.restore()):this.rescaleAndStroke(!0)),T&&this.consumePath(this.current.getClippedPathBoundingBox()),v.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(T=!0){const v=this.ctx,C=this.current.fillColor,N=this.current.patternFill;let R=!1;N&&(v.save(),v.fillStyle=C.getPattern(v,this,(0,l.getCurrentTransformInverse)(v),h.PathType.FILL),R=!0);const W=this.current.getClippedPathBoundingBox();this.contentVisible&&W!==null&&(this.pendingEOFill?(v.fill("evenodd"),this.pendingEOFill=!1):v.fill()),R&&v.restore(),T&&this.consumePath(W)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=he}eoClip(){this.pendingClip=ae}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const T=this.pendingTextPaths,v=this.ctx;if(T===void 0){v.beginPath();return}v.save(),v.beginPath();for(const C of T)v.setTransform(...C.transform),v.translate(C.x,C.y),C.addToPath(v,C.fontSize);v.restore(),v.clip(),v.beginPath(),delete this.pendingTextPaths}setCharSpacing(T){this.current.charSpacing=T}setWordSpacing(T){this.current.wordSpacing=T}setHScale(T){this.current.textHScale=T/100}setLeading(T){this.current.leading=-T}setFont(T,v){const C=this.commonObjs.get(T),N=this.current;if(!C)throw new Error(`Can't find font for ${T}`);if(N.fontMatrix=C.fontMatrix||o.FONT_IDENTITY_MATRIX,(N.fontMatrix[0]===0||N.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+T),v<0?(v=-v,N.fontDirection=-1):N.fontDirection=1,this.current.font=C,this.current.fontSize=v,C.isType3Font)return;const R=C.loadedName||"sans-serif",W=C.systemFontInfo?.css||`"${R}", ${C.fallbackName}`;let B="normal";C.black?B="900":C.bold&&(B="bold");const A=C.italic?"italic":"normal";let M=v;v<g?M=g:v>w&&(M=w),this.current.fontSizeScale=v/M,this.ctx.font=`${A} ${B} ${M}px ${W}`}setTextRenderingMode(T){this.current.textRenderingMode=T}setTextRise(T){this.current.textRise=T}moveText(T,v){this.current.x=this.current.lineX+=T,this.current.y=this.current.lineY+=v}setLeadingMoveText(T,v){this.setLeading(-v),this.moveText(T,v)}setTextMatrix(T,v,C,N,R,W){this.current.textMatrix=[T,v,C,N,R,W],this.current.textMatrixScale=Math.hypot(T,v),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(T,v,C,N){const R=this.ctx,W=this.current,B=W.font,A=W.textRenderingMode,M=W.fontSize/W.fontSizeScale,D=A&o.TextRenderingMode.FILL_STROKE_MASK,U=!!(A&o.TextRenderingMode.ADD_TO_PATH_FLAG),$=W.patternFill&&!B.missingFile;let K;(B.disableFontFace||U||$)&&(K=B.getPathGenerator(this.commonObjs,T)),B.disableFontFace||$?(R.save(),R.translate(v,C),R.beginPath(),K(R,M),N&&R.setTransform(...N),(D===o.TextRenderingMode.FILL||D===o.TextRenderingMode.FILL_STROKE)&&R.fill(),(D===o.TextRenderingMode.STROKE||D===o.TextRenderingMode.FILL_STROKE)&&R.stroke(),R.restore()):((D===o.TextRenderingMode.FILL||D===o.TextRenderingMode.FILL_STROKE)&&R.fillText(T,v,C),(D===o.TextRenderingMode.STROKE||D===o.TextRenderingMode.FILL_STROKE)&&R.strokeText(T,v,C)),U&&(this.pendingTextPaths||=[]).push({transform:(0,l.getCurrentTransform)(R),x:v,y:C,fontSize:M,addToPath:K})}get isFontSubpixelAAEnabled(){const{context:T}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);T.scale(1.5,1),T.fillText("I",0,10);const v=T.getImageData(0,0,10,10).data;let C=!1;for(let N=3;N<v.length;N+=4)if(v[N]>0&&v[N]<255){C=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",C)}showText(T){const v=this.current,C=v.font;if(C.isType3Font)return this.showType3Text(T);const N=v.fontSize;if(N===0)return;const R=this.ctx,W=v.fontSizeScale,B=v.charSpacing,A=v.wordSpacing,M=v.fontDirection,D=v.textHScale*M,U=T.length,$=C.vertical,K=$?1:-1,J=C.defaultVMetrics,ue=N*v.fontMatrix[0],Ae=v.textRenderingMode===o.TextRenderingMode.FILL&&!C.disableFontFace&&!v.patternFill;R.save(),R.transform(...v.textMatrix),R.translate(v.x,v.y+v.textRise),M>0?R.scale(D,-1):R.scale(D,1);let ce;if(v.patternFill){R.save();const _e=v.fillColor.getPattern(R,this,(0,l.getCurrentTransformInverse)(R),h.PathType.FILL);ce=(0,l.getCurrentTransform)(R),R.restore(),R.fillStyle=_e}let fe=v.lineWidth;const me=v.textMatrixScale;if(me===0||fe===0){const _e=v.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(_e===o.TextRenderingMode.STROKE||_e===o.TextRenderingMode.FILL_STROKE)&&(fe=this.getSinglePixelWidth())}else fe/=me;if(W!==1&&(R.scale(W,W),fe/=W),R.lineWidth=fe,C.isInvalidPDFjsFont){const _e=[];let Re=0;for(const Ie of T)_e.push(Ie.unicode),Re+=Ie.width;R.fillText(_e.join(""),0,0),v.x+=Re*ue*D,R.restore(),this.compose();return}let ge=0,ye;for(ye=0;ye<U;++ye){const _e=T[ye];if(typeof _e=="number"){ge+=K*_e*N/1e3;continue}let Re=!1;const Ie=(_e.isSpace?A:0)+B,Ne=_e.fontChar,Be=_e.accent;let $e,ut,pe=_e.width;if($){const Te=_e.vmetric||J,ze=-(_e.vmetric?Te[1]:pe*.5)*ue,Ue=Te[2]*ue;pe=Te?-Te[0]:pe,$e=ze/W,ut=(ge+Ue)/W}else $e=ge/W,ut=0;if(C.remeasure&&pe>0){const Te=R.measureText(Ne).width*1e3/N*W;if(pe<Te&&this.isFontSubpixelAAEnabled){const ze=pe/Te;Re=!0,R.save(),R.scale(ze,1),$e/=ze}else pe!==Te&&($e+=(pe-Te)/2e3*N/W)}if(this.contentVisible&&(_e.isInFont||C.missingFile)){if(Ae&&!Be)R.fillText(Ne,$e,ut);else if(this.paintChar(Ne,$e,ut,ce),Be){const Te=$e+N*Be.offset.x/W,ze=ut-N*Be.offset.y/W;this.paintChar(Be.fontChar,Te,ze,ce)}}const Ee=$?pe*ue-Ie*M:pe*ue+Ie*M;ge+=Ee,Re&&R.restore()}$?v.y-=ge:v.x+=ge*D,R.restore(),this.compose()}showType3Text(T){const v=this.ctx,C=this.current,N=C.font,R=C.fontSize,W=C.fontDirection,B=N.vertical?1:-1,A=C.charSpacing,M=C.wordSpacing,D=C.textHScale*W,U=C.fontMatrix||o.FONT_IDENTITY_MATRIX,$=T.length,K=C.textRenderingMode===o.TextRenderingMode.INVISIBLE;let J,ue,Ae,ce;if(!(K||R===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,v.save(),v.transform(...C.textMatrix),v.translate(C.x,C.y),v.scale(D,W),J=0;J<$;++J){if(ue=T[J],typeof ue=="number"){ce=B*ue*R/1e3,this.ctx.translate(ce,0),C.x+=ce*D;continue}const fe=(ue.isSpace?M:0)+A,me=N.charProcOperatorList[ue.operatorListId];if(!me){(0,o.warn)(`Type3 character "${ue.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ue,this.save(),v.scale(R,R),v.transform(...U),this.executeOperatorList(me),this.restore()),Ae=o.Util.applyTransform([ue.width,0],U)[0]*R+fe,v.translate(Ae,0),C.x+=Ae*D}v.restore(),this.processingType3=null}}setCharWidth(T,v){}setCharWidthAndBounds(T,v,C,N,R,W){this.ctx.rect(C,N,R-C,W-N),this.ctx.clip(),this.endPath()}getColorN_Pattern(T){let v;if(T[0]==="TilingPattern"){const C=T[1],N=this.baseTransform||(0,l.getCurrentTransform)(this.ctx),R={createCanvasGraphics:W=>new G(W,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};v=new h.TilingPattern(T,C,this.ctx,R,N)}else v=this._getPattern(T[1],T[2]);return v}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(T,v,C){const N=o.Util.makeHexColor(T,v,C);this.ctx.strokeStyle=N,this.current.strokeColor=N}setFillRGBColor(T,v,C){const N=o.Util.makeHexColor(T,v,C);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1}_getPattern(T,v=null){let C;return this.cachedPatterns.has(T)?C=this.cachedPatterns.get(T):(C=(0,h.getShadingPattern)(this.getObject(T)),this.cachedPatterns.set(T,C)),v&&(C.matrix=v),C}shadingFill(T){if(!this.contentVisible)return;const v=this.ctx;this.save();const C=this._getPattern(T);v.fillStyle=C.getPattern(v,this,(0,l.getCurrentTransformInverse)(v),h.PathType.SHADING);const N=(0,l.getCurrentTransformInverse)(v);if(N){const{width:R,height:W}=v.canvas,[B,A,M,D]=o.Util.getAxialAlignedBoundingBox([0,0,R,W],N);this.ctx.fillRect(B,A,M-B,D-A)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(T,v){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(T)&&T.length===6&&this.transform(...T),this.baseTransform=(0,l.getCurrentTransform)(this.ctx),v)){const C=v[2]-v[0],N=v[3]-v[1];this.ctx.rect(v[0],v[1],C,N),this.current.updateRectMinMax((0,l.getCurrentTransform)(this.ctx),v),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(T){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const v=this.ctx;T.isolated||(0,o.info)("TODO: Support non-isolated groups."),T.knockout&&(0,o.warn)("Knockout groups not supported.");const C=(0,l.getCurrentTransform)(v);if(T.matrix&&v.transform(...T.matrix),!T.bbox)throw new Error("Bounding box is required.");let N=o.Util.getAxialAlignedBoundingBox(T.bbox,(0,l.getCurrentTransform)(v));const R=[0,0,v.canvas.width,v.canvas.height];N=o.Util.intersect(N,R)||[0,0,0,0];const W=Math.floor(N[0]),B=Math.floor(N[1]);let A=Math.max(Math.ceil(N[2])-W,1),M=Math.max(Math.ceil(N[3])-B,1),D=1,U=1;A>d&&(D=A/d,A=d),M>d&&(U=M/d,M=d),this.current.startNewPathAndClipBox([0,0,A,M]);let $="groupAt"+this.groupLevel;T.smask&&($+="_smask_"+this.smaskCounter++%2);const K=this.cachedCanvases.getCanvas($,A,M),J=K.context;J.scale(1/D,1/U),J.translate(-W,-B),J.transform(...C),T.smask?this.smaskStack.push({canvas:K.canvas,context:J,offsetX:W,offsetY:B,scaleX:D,scaleY:U,subtype:T.smask.subtype,backdrop:T.smask.backdrop,transferMap:T.smask.transferMap||null,startTransformInverse:null}):(v.setTransform(1,0,0,1,0,0),v.translate(W,B),v.scale(D,U),v.save()),j(v,J),this.ctx=J,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(v),this.groupLevel++}endGroup(T){if(!this.contentVisible)return;this.groupLevel--;const v=this.ctx,C=this.groupStack.pop();if(this.ctx=C,this.ctx.imageSmoothingEnabled=!1,T.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const N=(0,l.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...N);const R=o.Util.getAxialAlignedBoundingBox([0,0,v.canvas.width,v.canvas.height],N);this.ctx.drawImage(v.canvas,0,0),this.ctx.restore(),this.compose(R)}}beginAnnotation(T,v,C,N,R){if(this.#e(),F(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(v)&&v.length===4){const W=v[2]-v[0],B=v[3]-v[1];if(R&&this.annotationCanvasMap){C=C.slice(),C[4]-=v[0],C[5]-=v[1],v=v.slice(),v[0]=v[1]=0,v[2]=W,v[3]=B;const[A,M]=o.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(this.ctx)),{viewportScale:D}=this,U=Math.ceil(W*this.outputScaleX*D),$=Math.ceil(B*this.outputScaleY*D);this.annotationCanvas=this.canvasFactory.create(U,$);const{canvas:K,context:J}=this.annotationCanvas;this.annotationCanvasMap.set(T,K),this.annotationCanvas.savedCtx=this.ctx,this.ctx=J,this.ctx.save(),this.ctx.setTransform(A,0,0,-M,0,B*M),F(this.ctx)}else F(this.ctx),this.ctx.rect(v[0],v[1],W,B),this.ctx.clip(),this.endPath()}this.current=new I(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...C),this.transform(...N)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(T){if(!this.contentVisible)return;const v=T.count;T=this.getObject(T.data,T),T.count=v;const C=this.ctx,N=this.processingType3;if(N&&(N.compiled===void 0&&(N.compiled=E(T)),N.compiled)){N.compiled(C);return}const R=this._createMaskCanvas(T),W=R.canvas;C.save(),C.setTransform(1,0,0,1,0,0),C.drawImage(W,R.offsetX,R.offsetY),C.restore(),this.compose()}paintImageMaskXObjectRepeat(T,v,C=0,N=0,R,W){if(!this.contentVisible)return;T=this.getObject(T.data,T);const B=this.ctx;B.save();const A=(0,l.getCurrentTransform)(B);B.transform(v,C,N,R,0,0);const M=this._createMaskCanvas(T);B.setTransform(1,0,0,1,M.offsetX-A[4],M.offsetY-A[5]);for(let D=0,U=W.length;D<U;D+=2){const $=o.Util.transform(A,[v,C,N,R,W[D],W[D+1]]),[K,J]=o.Util.applyTransform([0,0],$);B.drawImage(M.canvas,K,J)}B.restore(),this.compose()}paintImageMaskXObjectGroup(T){if(!this.contentVisible)return;const v=this.ctx,C=this.current.fillColor,N=this.current.patternFill;for(const R of T){const{data:W,width:B,height:A,transform:M}=R,D=this.cachedCanvases.getCanvas("maskCanvas",B,A),U=D.context;U.save();const $=this.getObject(W,R);z(U,$),U.globalCompositeOperation="source-in",U.fillStyle=N?C.getPattern(U,this,(0,l.getCurrentTransformInverse)(v),h.PathType.FILL):C,U.fillRect(0,0,B,A),U.restore(),v.save(),v.transform(...M),v.scale(1,-1),k(v,D.canvas,0,0,B,A,0,-1,1,1),v.restore()}this.compose()}paintImageXObject(T){if(!this.contentVisible)return;const v=this.getObject(T);if(!v){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(v)}paintImageXObjectRepeat(T,v,C,N){if(!this.contentVisible)return;const R=this.getObject(T);if(!R){(0,o.warn)("Dependent image isn't ready yet");return}const W=R.width,B=R.height,A=[];for(let M=0,D=N.length;M<D;M+=2)A.push({transform:[v,0,0,C,N[M],N[M+1]],x:0,y:0,w:W,h:B});this.paintInlineImageXObjectGroup(R,A)}applyTransferMapsToCanvas(T){return this.current.transferMaps!=="none"&&(T.filter=this.current.transferMaps,T.drawImage(T.canvas,0,0),T.filter="none"),T.canvas}applyTransferMapsToBitmap(T){if(this.current.transferMaps==="none")return T.bitmap;const{bitmap:v,width:C,height:N}=T,R=this.cachedCanvases.getCanvas("inlineImage",C,N),W=R.context;return W.filter=this.current.transferMaps,W.drawImage(v,0,0),W.filter="none",R.canvas}paintInlineImageXObject(T){if(!this.contentVisible)return;const v=T.width,C=T.height,N=this.ctx;if(this.save(),!o.isNodeJS){const{filter:B}=N;B!=="none"&&B!==""&&(N.filter="none")}N.scale(1/v,-1/C);let R;if(T.bitmap)R=this.applyTransferMapsToBitmap(T);else if(typeof HTMLElement=="function"&&T instanceof HTMLElement||!T.data)R=T;else{const A=this.cachedCanvases.getCanvas("inlineImage",v,C).context;L(A,T),R=this.applyTransferMapsToCanvas(A)}const W=this._scaleImage(R,(0,l.getCurrentTransformInverse)(N));N.imageSmoothingEnabled=ie((0,l.getCurrentTransform)(N),T.interpolate),k(N,W.img,0,0,W.paintWidth,W.paintHeight,0,-C,v,C),this.compose(),this.restore()}paintInlineImageXObjectGroup(T,v){if(!this.contentVisible)return;const C=this.ctx;let N;if(T.bitmap)N=T.bitmap;else{const R=T.width,W=T.height,A=this.cachedCanvases.getCanvas("inlineImage",R,W).context;L(A,T),N=this.applyTransferMapsToCanvas(A)}for(const R of v)C.save(),C.transform(...R.transform),C.scale(1,-1),k(C,N,R.x,R.y,R.w,R.h,0,-1,1,1),C.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(T){}markPointProps(T,v){}beginMarkedContent(T){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(T,v){T==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(v)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(T){const v=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(T);const C=this.ctx;this.pendingClip&&(v||(this.pendingClip===ae?C.clip("evenodd"):C.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),C.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const T=(0,l.getCurrentTransform)(this.ctx);if(T[1]===0&&T[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(T[0]),Math.abs(T[3]));else{const v=Math.abs(T[0]*T[3]-T[2]*T[1]),C=Math.hypot(T[0],T[2]),N=Math.hypot(T[1],T[3]);this._cachedGetSinglePixelWidth=Math.max(C,N)/v}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:T}=this.current,{a:v,b:C,c:N,d:R}=this.ctx.getTransform();let W,B;if(C===0&&N===0){const A=Math.abs(v),M=Math.abs(R);if(A===M)if(T===0)W=B=1/A;else{const D=A*T;W=B=D<1?1/D:1}else if(T===0)W=1/A,B=1/M;else{const D=A*T,U=M*T;W=D<1?1/D:1,B=U<1?1/U:1}}else{const A=Math.abs(v*R-C*N),M=Math.hypot(v,C),D=Math.hypot(N,R);if(T===0)W=D/A,B=M/A;else{const U=T*A;W=D>U?D/U:1,B=M>U?M/U:1}}this._cachedScaleForStroking[0]=W,this._cachedScaleForStroking[1]=B}return this._cachedScaleForStroking}rescaleAndStroke(T){const{ctx:v}=this,{lineWidth:C}=this.current,[N,R]=this.getScaleForStroking();if(v.lineWidth=C||1,N===1&&R===1){v.stroke();return}const W=v.getLineDash();if(T&&v.save(),v.scale(N,R),W.length>0){const B=Math.max(N,R);v.setLineDash(W.map(A=>A/B)),v.lineDashOffset/=B}v.stroke(),T&&v.restore()}isContentVisible(){for(let T=this.markedContentStack.length-1;T>=0;T--)if(!this.markedContentStack[T].visible)return!1;return!0}}i.CanvasGraphics=G;for(const P in o.OPS)G.prototype[P]!==void 0&&(G.prototype[o.OPS[P]]=G.prototype[P])},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=x;var o=s(1),l=s(6);const h={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=h;function p(k,E){if(!E)return;const I=E[2]-E[0],L=E[3]-E[1],z=new Path2D;z.rect(E[0],E[1],I,L),k.clip(z)}class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class w extends g{constructor(E){super(),this._type=E[1],this._bbox=E[2],this._colorStops=E[3],this._p0=E[4],this._p1=E[5],this._r0=E[6],this._r1=E[7],this.matrix=null}_createGradient(E){let I;this._type==="axial"?I=E.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(I=E.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const L of this._colorStops)I.addColorStop(L[0],L[1]);return I}getPattern(E,I,L,z){let j;if(z===h.STROKE||z===h.FILL){const F=I.current.getClippedPathBoundingBox(z,(0,l.getCurrentTransform)(E))||[0,0,0,0],V=Math.ceil(F[2]-F[0])||1,H=Math.ceil(F[3]-F[1])||1,X=I.cachedCanvases.getCanvas("pattern",V,H,!0),q=X.context;q.clearRect(0,0,q.canvas.width,q.canvas.height),q.beginPath(),q.rect(0,0,q.canvas.width,q.canvas.height),q.translate(-F[0],-F[1]),L=o.Util.transform(L,[1,0,0,1,F[0],F[1]]),q.transform(...I.baseTransform),this.matrix&&q.transform(...this.matrix),p(q,this._bbox),q.fillStyle=this._createGradient(q),q.fill(),j=E.createPattern(X.canvas,"no-repeat");const Q=new DOMMatrix(L);j.setTransform(Q)}else p(E,this._bbox),j=this._createGradient(E);return j}}function d(k,E,I,L,z,j,F,V){const H=E.coords,X=E.colors,q=k.data,Q=k.width*4;let ie;H[I+1]>H[L+1]&&(ie=I,I=L,L=ie,ie=j,j=F,F=ie),H[L+1]>H[z+1]&&(ie=L,L=z,z=ie,ie=F,F=V,V=ie),H[I+1]>H[L+1]&&(ie=I,I=L,L=ie,ie=j,j=F,F=ie);const te=(H[I]+E.offsetX)*E.scaleX,ne=(H[I+1]+E.offsetY)*E.scaleY,he=(H[L]+E.offsetX)*E.scaleX,ae=(H[L+1]+E.offsetY)*E.scaleY,G=(H[z]+E.offsetX)*E.scaleX,P=(H[z+1]+E.offsetY)*E.scaleY;if(ne>=P)return;const T=X[j],v=X[j+1],C=X[j+2],N=X[F],R=X[F+1],W=X[F+2],B=X[V],A=X[V+1],M=X[V+2],D=Math.round(ne),U=Math.round(P);let $,K,J,ue,Ae,ce,fe,me;for(let ge=D;ge<=U;ge++){if(ge<ae){const Ne=ge<ne?0:(ne-ge)/(ne-ae);$=te-(te-he)*Ne,K=T-(T-N)*Ne,J=v-(v-R)*Ne,ue=C-(C-W)*Ne}else{let Ne;ge>P?Ne=1:ae===P?Ne=0:Ne=(ae-ge)/(ae-P),$=he-(he-G)*Ne,K=N-(N-B)*Ne,J=R-(R-A)*Ne,ue=W-(W-M)*Ne}let ye;ge<ne?ye=0:ge>P?ye=1:ye=(ne-ge)/(ne-P),Ae=te-(te-G)*ye,ce=T-(T-B)*ye,fe=v-(v-A)*ye,me=C-(C-M)*ye;const _e=Math.round(Math.min($,Ae)),Re=Math.round(Math.max($,Ae));let Ie=Q*ge+_e*4;for(let Ne=_e;Ne<=Re;Ne++)ye=($-Ne)/($-Ae),ye<0?ye=0:ye>1&&(ye=1),q[Ie++]=K-(K-ce)*ye|0,q[Ie++]=J-(J-fe)*ye|0,q[Ie++]=ue-(ue-me)*ye|0,q[Ie++]=255}}function u(k,E,I){const L=E.coords,z=E.colors;let j,F;switch(E.type){case"lattice":const V=E.verticesPerRow,H=Math.floor(L.length/V)-1,X=V-1;for(j=0;j<H;j++){let q=j*V;for(let Q=0;Q<X;Q++,q++)d(k,I,L[q],L[q+1],L[q+V],z[q],z[q+1],z[q+V]),d(k,I,L[q+V+1],L[q+1],L[q+V],z[q+V+1],z[q+1],z[q+V])}break;case"triangles":for(j=0,F=L.length;j<F;j+=3)d(k,I,L[j],L[j+1],L[j+2],z[j],z[j+1],z[j+2]);break;default:throw new Error("illegal figure")}}class c extends g{constructor(E){super(),this._coords=E[2],this._colors=E[3],this._figures=E[4],this._bounds=E[5],this._bbox=E[7],this._background=E[8],this.matrix=null}_createMeshCanvas(E,I,L){const V=Math.floor(this._bounds[0]),H=Math.floor(this._bounds[1]),X=Math.ceil(this._bounds[2])-V,q=Math.ceil(this._bounds[3])-H,Q=Math.min(Math.ceil(Math.abs(X*E[0]*1.1)),3e3),ie=Math.min(Math.ceil(Math.abs(q*E[1]*1.1)),3e3),te=X/Q,ne=q/ie,he={coords:this._coords,colors:this._colors,offsetX:-V,offsetY:-H,scaleX:1/te,scaleY:1/ne},ae=Q+4,G=ie+4,P=L.getCanvas("mesh",ae,G,!1),T=P.context,v=T.createImageData(Q,ie);if(I){const N=v.data;for(let R=0,W=N.length;R<W;R+=4)N[R]=I[0],N[R+1]=I[1],N[R+2]=I[2],N[R+3]=255}for(const N of this._figures)u(v,N,he);return T.putImageData(v,2,2),{canvas:P.canvas,offsetX:V-2*te,offsetY:H-2*ne,scaleX:te,scaleY:ne}}getPattern(E,I,L,z){p(E,this._bbox);let j;if(z===h.SHADING)j=o.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(E));else if(j=o.Util.singularValueDecompose2dScale(I.baseTransform),this.matrix){const V=o.Util.singularValueDecompose2dScale(this.matrix);j=[j[0]*V[0],j[1]*V[1]]}const F=this._createMeshCanvas(j,z===h.SHADING?null:this._background,I.cachedCanvases);return z!==h.SHADING&&(E.setTransform(...I.baseTransform),this.matrix&&E.transform(...this.matrix)),E.translate(F.offsetX,F.offsetY),E.scale(F.scaleX,F.scaleY),E.createPattern(F.canvas,"no-repeat")}}class y extends g{getPattern(){return"hotpink"}}function x(k){switch(k[0]){case"RadialAxial":return new w(k);case"Mesh":return new c(k);case"Dummy":return new y}throw new Error(`Unknown IR type: ${k[0]}`)}const m={COLORED:1,UNCOLORED:2};class S{static MAX_PATTERN_SIZE=3e3;constructor(E,I,L,z,j){this.operatorList=E[2],this.matrix=E[3]||[1,0,0,1,0,0],this.bbox=E[4],this.xstep=E[5],this.ystep=E[6],this.paintType=E[7],this.tilingType=E[8],this.color=I,this.ctx=L,this.canvasGraphicsFactory=z,this.baseTransform=j}createPatternCanvas(E){const I=this.operatorList,L=this.bbox,z=this.xstep,j=this.ystep,F=this.paintType,V=this.tilingType,H=this.color,X=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+V);const q=L[0],Q=L[1],ie=L[2],te=L[3],ne=o.Util.singularValueDecompose2dScale(this.matrix),he=o.Util.singularValueDecompose2dScale(this.baseTransform),ae=[ne[0]*he[0],ne[1]*he[1]],G=this.getSizeAndScale(z,this.ctx.canvas.width,ae[0]),P=this.getSizeAndScale(j,this.ctx.canvas.height,ae[1]),T=E.cachedCanvases.getCanvas("pattern",G.size,P.size,!0),v=T.context,C=X.createCanvasGraphics(v);C.groupLevel=E.groupLevel,this.setFillAndStrokeStyleToContext(C,F,H);let N=q,R=Q,W=ie,B=te;return q<0&&(N=0,W+=Math.abs(q)),Q<0&&(R=0,B+=Math.abs(Q)),v.translate(-(G.scale*N),-(P.scale*R)),C.transform(G.scale,0,0,P.scale,0,0),v.save(),this.clipBbox(C,N,R,W,B),C.baseTransform=(0,l.getCurrentTransform)(C.ctx),C.executeOperatorList(I),C.endDrawing(),{canvas:T.canvas,scaleX:G.scale,scaleY:P.scale,offsetX:N,offsetY:R}}getSizeAndScale(E,I,L){E=Math.abs(E);const z=Math.max(S.MAX_PATTERN_SIZE,I);let j=Math.ceil(E*L);return j>=z?j=z:L=j/E,{scale:L,size:j}}clipBbox(E,I,L,z,j){const F=z-I,V=j-L;E.ctx.rect(I,L,F,V),E.current.updateRectMinMax((0,l.getCurrentTransform)(E.ctx),[I,L,z,j]),E.clip(),E.endPath()}setFillAndStrokeStyleToContext(E,I,L){const z=E.ctx,j=E.current;switch(I){case m.COLORED:const F=this.ctx;z.fillStyle=F.fillStyle,z.strokeStyle=F.strokeStyle,j.fillColor=F.fillStyle,j.strokeColor=F.strokeStyle;break;case m.UNCOLORED:const V=o.Util.makeHexColor(L[0],L[1],L[2]);z.fillStyle=V,z.strokeStyle=V,j.fillColor=V,j.strokeColor=V;break;default:throw new o.FormatError(`Unsupported paint type: ${I}`)}}getPattern(E,I,L,z){let j=L;z!==h.SHADING&&(j=o.Util.transform(j,I.baseTransform),this.matrix&&(j=o.Util.transform(j,this.matrix)));const F=this.createPatternCanvas(I);let V=new DOMMatrix(j);V=V.translate(F.offsetX,F.offsetY),V=V.scale(1/F.scaleX,1/F.scaleY);const H=E.createPattern(F.canvas,"repeat");return H.setTransform(V),H}}i.TilingPattern=S},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=h,i.convertToRGBA=l,i.grayToRGBA=g;var o=s(1);function l(w){switch(w.kind){case o.ImageKind.GRAYSCALE_1BPP:return h(w);case o.ImageKind.RGB_24BPP:return p(w)}return null}function h({src:w,srcPos:d=0,dest:u,width:c,height:y,nonBlackColor:x=4294967295,inverseDecode:m=!1}){const S=o.FeatureTest.isLittleEndian?4278190080:255,[k,E]=m?[x,S]:[S,x],I=c>>3,L=c&7,z=w.length;u=new Uint32Array(u.buffer);let j=0;for(let F=0;F<y;F++){for(const H=d+I;d<H;d++){const X=d<z?w[d]:255;u[j++]=X&128?E:k,u[j++]=X&64?E:k,u[j++]=X&32?E:k,u[j++]=X&16?E:k,u[j++]=X&8?E:k,u[j++]=X&4?E:k,u[j++]=X&2?E:k,u[j++]=X&1?E:k}if(L===0)continue;const V=d<z?w[d++]:255;for(let H=0;H<L;H++)u[j++]=V&1<<7-H?E:k}return{srcPos:d,destPos:j}}function p({src:w,srcPos:d=0,dest:u,destPos:c=0,width:y,height:x}){let m=0;const S=w.length>>2,k=new Uint32Array(w.buffer,d,S);if(o.FeatureTest.isLittleEndian){for(;m<S-2;m+=3,c+=4){const E=k[m],I=k[m+1],L=k[m+2];u[c]=E|4278190080,u[c+1]=E>>>24|I<<8|4278190080,u[c+2]=I>>>16|L<<16|4278190080,u[c+3]=L>>>8|4278190080}for(let E=m*4,I=w.length;E<I;E+=3)u[c++]=w[E]|w[E+1]<<8|w[E+2]<<16|4278190080}else{for(;m<S-2;m+=3,c+=4){const E=k[m],I=k[m+1],L=k[m+2];u[c]=E|255,u[c+1]=E<<24|I>>>8|255,u[c+2]=I<<16|L>>>16|255,u[c+3]=L<<8|255}for(let E=m*4,I=w.length;E<I;E+=3)u[c++]=w[E]<<24|w[E+1]<<16|w[E+2]<<8|255}return{srcPos:d,destPos:c}}function g(w,d){if(o.FeatureTest.isLittleEndian)for(let u=0,c=w.length;u<c;u++)d[u]=w[u]*65793|4278190080;else for(let u=0,c=w.length;u<c;u++)d[u]=w[u]*16843008|255}},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const l={DATA:1,ERROR:2},h={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function p(w){switch(w instanceof Error||typeof w=="object"&&w!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),w.name){case"AbortException":return new o.AbortException(w.message);case"MissingPDFException":return new o.MissingPDFException(w.message);case"PasswordException":return new o.PasswordException(w.message,w.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(w.message,w.status);case"UnknownErrorException":return new o.UnknownErrorException(w.message,w.details);default:return new o.UnknownErrorException(w.message,w.toString())}}class g{constructor(d,u,c){this.sourceName=d,this.targetName=u,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const x=y.data;if(x.targetName!==this.sourceName)return;if(x.stream){this.#t(x);return}if(x.callback){const S=x.callbackId,k=this.callbackCapabilities[S];if(!k)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],x.callback===l.DATA)k.resolve(x.data);else if(x.callback===l.ERROR)k.reject(p(x.reason));else throw new Error("Unexpected callback case");return}const m=this.actionHandler[x.action];if(!m)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const S=this.sourceName,k=x.sourceName;new Promise(function(E){E(m(x.data))}).then(function(E){c.postMessage({sourceName:S,targetName:k,callback:l.DATA,callbackId:x.callbackId,data:E})},function(E){c.postMessage({sourceName:S,targetName:k,callback:l.ERROR,callbackId:x.callbackId,reason:p(E)})});return}if(x.streamId){this.#e(x);return}m(x.data)},c.addEventListener("message",this._onComObjOnMessage)}on(d,u){const c=this.actionHandler;if(c[d])throw new Error(`There is already an actionName called "${d}"`);c[d]=u}send(d,u,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:u},c)}sendWithPromise(d,u,c){const y=this.callbackId++,x=new o.PromiseCapability;this.callbackCapabilities[y]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:y,data:u},c)}catch(m){x.reject(m)}return x.promise}sendWithStream(d,u,c,y){const x=this.streamId++,m=this.sourceName,S=this.targetName,k=this.comObj;return new ReadableStream({start:E=>{const I=new o.PromiseCapability;return this.streamControllers[x]={controller:E,startCall:I,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:m,targetName:S,action:d,streamId:x,data:u,desiredSize:E.desiredSize},y),I.promise},pull:E=>{const I=new o.PromiseCapability;return this.streamControllers[x].pullCall=I,k.postMessage({sourceName:m,targetName:S,stream:h.PULL,streamId:x,desiredSize:E.desiredSize}),I.promise},cancel:E=>{(0,o.assert)(E instanceof Error,"cancel must have a valid reason");const I=new o.PromiseCapability;return this.streamControllers[x].cancelCall=I,this.streamControllers[x].isClosed=!0,k.postMessage({sourceName:m,targetName:S,stream:h.CANCEL,streamId:x,reason:p(E)}),I.promise}},c)}#e(d){const u=d.streamId,c=this.sourceName,y=d.sourceName,x=this.comObj,m=this,S=this.actionHandler[d.action],k={enqueue(E,I=1,L){if(this.isCancelled)return;const z=this.desiredSize;this.desiredSize-=I,z>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),x.postMessage({sourceName:c,targetName:y,stream:h.ENQUEUE,streamId:u,chunk:E},L)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:c,targetName:y,stream:h.CLOSE,streamId:u}),delete m.streamSinks[u])},error(E){(0,o.assert)(E instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:c,targetName:y,stream:h.ERROR,streamId:u,reason:p(E)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[u]=k,new Promise(function(E){E(S(d.data,k))}).then(function(){x.postMessage({sourceName:c,targetName:y,stream:h.START_COMPLETE,streamId:u,success:!0})},function(E){x.postMessage({sourceName:c,targetName:y,stream:h.START_COMPLETE,streamId:u,reason:p(E)})})}#t(d){const u=d.streamId,c=this.sourceName,y=d.sourceName,x=this.comObj,m=this.streamControllers[u],S=this.streamSinks[u];switch(d.stream){case h.START_COMPLETE:d.success?m.startCall.resolve():m.startCall.reject(p(d.reason));break;case h.PULL_COMPLETE:d.success?m.pullCall.resolve():m.pullCall.reject(p(d.reason));break;case h.PULL:if(!S){x.postMessage({sourceName:c,targetName:y,stream:h.PULL_COMPLETE,streamId:u,success:!0});break}S.desiredSize<=0&&d.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=d.desiredSize,new Promise(function(k){k(S.onPull?.())}).then(function(){x.postMessage({sourceName:c,targetName:y,stream:h.PULL_COMPLETE,streamId:u,success:!0})},function(k){x.postMessage({sourceName:c,targetName:y,stream:h.PULL_COMPLETE,streamId:u,reason:p(k)})});break;case h.ENQUEUE:if((0,o.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(d.chunk);break;case h.CLOSE:if((0,o.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this.#n(m,u);break;case h.ERROR:(0,o.assert)(m,"error should have stream controller"),m.controller.error(p(d.reason)),this.#n(m,u);break;case h.CANCEL_COMPLETE:d.success?m.cancelCall.resolve():m.cancelCall.reject(p(d.reason)),this.#n(m,u);break;case h.CANCEL:if(!S)break;new Promise(function(k){k(S.onCancel?.(p(d.reason)))}).then(function(){x.postMessage({sourceName:c,targetName:y,stream:h.CANCEL_COMPLETE,streamId:u,success:!0})},function(k){x.postMessage({sourceName:c,targetName:y,stream:h.CANCEL_COMPLETE,streamId:u,reason:p(k)})}),S.sinkCapability.reject(p(d.reason)),S.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}async#n(d,u){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[u]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=g},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class l{#e;#t;constructor({parsedData:p,rawData:g}){this.#e=p,this.#t=g}getRaw(){return this.#t}get(p){return this.#e.get(p)??null}getAll(){return(0,o.objectFromMap)(this.#e)}has(p){return this.#e.has(p)}}i.Metadata=l},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1),l=s(8);const h=Symbol("INTERNAL");class p{#e=!0;constructor(d,u){this.name=d,this.intent=u}get visible(){return this.#e}_setVisible(d,u){d!==h&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#e=u}}class g{#e=null;#t=new Map;#n=null;#r=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#r=d.order;for(const u of d.groups)this.#t.set(u.id,new p(u.name,u.intent));if(d.baseState==="OFF")for(const u of this.#t.values())u._setVisible(h,!1);for(const u of d.on)this.#t.get(u)._setVisible(h,!0);for(const u of d.off)this.#t.get(u)._setVisible(h,!1);this.#n=this.getHash()}}#a(d){const u=d.length;if(u<2)return!0;const c=d[0];for(let y=1;y<u;y++){const x=d[y];let m;if(Array.isArray(x))m=this.#a(x);else if(this.#t.has(x))m=this.#t.get(x).visible;else return(0,o.warn)(`Optional content group not found: ${x}`),!0;switch(c){case"And":if(!m)return!1;break;case"Or":if(m)return!0;break;case"Not":return!m;default:return!0}}return c==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,o.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,o.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#a(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const u of d.ids){if(!this.#t.has(u))return(0,o.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const u of d.ids){if(!this.#t.has(u))return(0,o.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const u of d.ids){if(!this.#t.has(u))return(0,o.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const u of d.ids){if(!this.#t.has(u))return(0,o.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,o.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,u=!0){if(!this.#t.has(d)){(0,o.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(h,!!u),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;const d=new l.MurmurHash3_64;for(const[u,c]of this.#t)d.update(`${u}:${c.visible}`);return this.#e=d.hexdigest()}}i.OptionalContentConfig=g},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),l=s(6);class h{constructor({length:d,initialData:u,progressiveDone:c=!1,contentDispositionFilename:y=null,disableRange:x=!1,disableStream:m=!1},S){if((0,o.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=y,u?.length>0){const k=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(k)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!m,this._isRangeSupported=!x,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((k,E)=>{this._onReceiveData({begin:k,chunk:E})}),this._pdfDataRangeTransport.addProgressListener((k,E)=>{this._onProgress({loaded:k,total:E})}),this._pdfDataRangeTransport.addProgressiveReadListener(k=>{this._onReceiveData({chunk:k})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:u}){const c=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{const y=this._rangeReaders.some(function(x){return x._begin!==d?!1:(x._enqueue(c),!0)});(0,o.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const u=this._rangeReaders.indexOf(d);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new p(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,u){if(u<=this._progressiveDataLength)return null;const c=new g(this,d,u);return this._pdfDataRangeTransport.requestDataRange(d,u),this._rangeReaders.push(c),c}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const u of this._rangeReaders.slice(0))u.cancel(d);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=h;class p{constructor(d,u,c=!1,y=null){this._stream=d,this._done=c||!1,this._filename=(0,l.isPdfFile)(y)?y:null,this._queuedChunks=u||[],this._loaded=0;for(const x of this._queuedChunks)this._loaded+=x.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(d,u,c){this._stream=d,this._begin=u,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),l=s(20);function h(c,y,x){return{method:"GET",headers:c,signal:x.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function p(c){const y=new Headers;for(const x in c){const m=c[x];m!==void 0&&y.append(x,m)}return y}function g(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:((0,o.warn)(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class w{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(y,x){if(x<=this._progressiveDataLength)return null;const m=new u(this,y,x);return this._rangeRequestReaders.push(m),m}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const x of this._rangeRequestReaders.slice(0))x.cancel(y)}}i.PDFFetchStream=w;class d{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const x=y.source;this._withCredentials=x.withCredentials||!1,this._contentLength=x.length,this._headersCapability=new o.PromiseCapability,this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._headers=p(this._stream.httpHeaders);const m=x.url;fetch(m,h(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,l.validateResponseStatus)(S.status))throw(0,l.createResponseStatusError)(S.status,m);this._reader=S.body.getReader(),this._headersCapability.resolve();const k=L=>S.headers.get(L),{allowRangeRequests:E,suggestedLength:I}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=I||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(k),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:y,done:x}=await this._reader.read();return x?{value:y,done:x}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:g(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}class u{constructor(y,x,m){this._stream=y,this._reader=null,this._loaded=0;const S=y.source;this._withCredentials=S.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!S.disableStream,this._abortController=new AbortController,this._headers=p(this._stream.httpHeaders),this._headers.append("Range",`bytes=${x}-${m-1}`);const k=S.url;fetch(k,h(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,l.validateResponseStatus)(E.status))throw(0,l.createResponseStatusError)(E.status,k);this._readCapability.resolve(),this._reader=E.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:y,done:x}=await this._reader.read();return x?{value:y,done:x}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded}),{value:g(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=w,i.extractFilenameFromHeader=g,i.validateRangeRequestCapabilities=p,i.validateResponseStatus=d;var o=s(1),l=s(21),h=s(6);function p({getResponseHeader:u,isHttp:c,rangeChunkSize:y,disableRange:x}){const m={allowRangeRequests:!1,suggestedLength:void 0},S=parseInt(u("Content-Length"),10);return!Number.isInteger(S)||(m.suggestedLength=S,S<=2*y)||x||!c||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function g(u){const c=u("Content-Disposition");if(c){let y=(0,l.getFilenameFromContentDispositionHeader)(c);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,h.isPdfFile)(y))return y}return null}function w(u,c){return u===404||u===0&&c.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+c+'".'):new o.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${c}".`,u)}function d(u){return u===200||u===206}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=l;var o=s(1);function l(h){let p=!0,g=w("filename\\*","i").exec(h);if(g){g=g[1];let S=y(g);return S=unescape(S),S=x(S),S=m(S),u(S)}if(g=c(h),g){const S=m(g);return u(S)}if(g=w("filename","i").exec(h),g){g=g[1];let S=y(g);return S=m(S),u(S)}function w(S,k){return new RegExp("(?:^|;)\\s*"+S+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',k)}function d(S,k){if(S){if(!/^[\x00-\xFF]+$/.test(k))return k;try{const E=new TextDecoder(S,{fatal:!0}),I=(0,o.stringToBytes)(k);k=E.decode(I),p=!1}catch{}}return k}function u(S){return p&&/[\x80-\xff]/.test(S)&&(S=d("utf-8",S),p&&(S=d("iso-8859-1",S))),S}function c(S){const k=[];let E;const I=w("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(E=I.exec(S))!==null;){let[,z,j,F]=E;if(z=parseInt(z,10),z in k){if(z===0)break;continue}k[z]=[j,F]}const L=[];for(let z=0;z<k.length&&z in k;++z){let[j,F]=k[z];F=y(F),j&&(F=unescape(F),z===0&&(F=x(F))),L.push(F)}return L.join("")}function y(S){if(S.startsWith('"')){const k=S.slice(1).split('\\"');for(let E=0;E<k.length;++E){const I=k[E].indexOf('"');I!==-1&&(k[E]=k[E].slice(0,I),k.length=E+1),k[E]=k[E].replaceAll(/\\(.)/g,"$1")}S=k.join('"')}return S}function x(S){const k=S.indexOf("'");if(k===-1)return S;const E=S.slice(0,k),L=S.slice(k+1).replace(/^[^']*'/,"");return d(E,L)}function m(S){return!S.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(S)?S:S.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(k,E,I,L){if(I==="q"||I==="Q")return L=L.replaceAll("_"," "),L=L.replaceAll(/=([0-9a-fA-F]{2})/g,function(z,j){return String.fromCharCode(parseInt(j,16))}),d(E,L);try{L=atob(L)}catch{}return d(E,L)})}return""}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),l=s(20);const h=200,p=206;function g(y){const x=y.response;return typeof x!="string"?x:(0,o.stringToBytes)(x).buffer}class w{constructor(x,m={}){this.url=x,this.isHttp=/^https?:/i.test(x),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(x,m,S){const k={begin:x,end:m};for(const E in S)k[E]=S[E];return this.request(k)}requestFull(x){return this.request(x)}request(x){const m=new XMLHttpRequest,S=this.currXhrId++,k=this.pendingRequests[S]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const E in this.httpHeaders){const I=this.httpHeaders[E];I!==void 0&&m.setRequestHeader(E,I)}return this.isHttp&&"begin"in x&&"end"in x?(m.setRequestHeader("Range",`bytes=${x.begin}-${x.end-1}`),k.expectedStatus=p):k.expectedStatus=h,m.responseType="arraybuffer",x.onError&&(m.onerror=function(E){x.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,S),m.onprogress=this.onProgress.bind(this,S),k.onHeadersReceived=x.onHeadersReceived,k.onDone=x.onDone,k.onError=x.onError,k.onProgress=x.onProgress,m.send(null),S}onProgress(x,m){const S=this.pendingRequests[x];S&&S.onProgress?.(m)}onStateChange(x,m){const S=this.pendingRequests[x];if(!S)return;const k=S.xhr;if(k.readyState>=2&&S.onHeadersReceived&&(S.onHeadersReceived(),delete S.onHeadersReceived),k.readyState!==4||!(x in this.pendingRequests))return;if(delete this.pendingRequests[x],k.status===0&&this.isHttp){S.onError?.(k.status);return}const E=k.status||h;if(!(E===h&&S.expectedStatus===p)&&E!==S.expectedStatus){S.onError?.(k.status);return}const L=g(k);if(E===p){const z=k.getResponseHeader("Content-Range"),j=/bytes (\d+)-(\d+)\/(\d+)/.exec(z);S.onDone({begin:parseInt(j[1],10),chunk:L})}else L?S.onDone({begin:0,chunk:L}):S.onError?.(k.status)}getRequestXhr(x){return this.pendingRequests[x].xhr}isPendingRequest(x){return x in this.pendingRequests}abortRequest(x){const m=this.pendingRequests[x].xhr;delete this.pendingRequests[x],m.abort()}}class d{constructor(x){this._source=x,this._manager=new w(x.url,{httpHeaders:x.httpHeaders,withCredentials:x.withCredentials}),this._rangeChunkSize=x.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(x){const m=this._rangeRequestReaders.indexOf(x);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(x,m){const S=new c(this._manager,x,m);return S.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(S),S}cancelAllRequests(x){this._fullRequestReader?.cancel(x);for(const m of this._rangeRequestReaders.slice(0))m.cancel(x)}}i.PDFNetworkStream=d;class u{constructor(x,m){this._manager=x;const S={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=x.requestFull(S),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const x=this._fullRequestId,m=this._manager.getRequestXhr(x),S=I=>m.getResponseHeader(I),{allowRangeRequests:k,suggestedLength:E}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});k&&(this._isRangeSupported=!0),this._contentLength=E||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(S),this._isRangeSupported&&this._manager.abortRequest(x),this._headersReceivedCapability.resolve()}_onDone(x){if(x&&(this._requests.length>0?this._requests.shift().resolve({value:x.chunk,done:!1}):this._cachedChunks.push(x.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(x){this._storedError=(0,l.createResponseStatusError)(x,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(x){this.onProgress?.({loaded:x.loaded,total:x.lengthComputable?x.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const x=new o.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0,this._headersReceivedCapability.reject(x);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c{constructor(x,m,S){this._manager=x;const k={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=x.url,this._requestId=x.requestRange(m,S,k),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(x){const m=x.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(x){this._storedError=(0,l.createResponseStatusError)(x,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(x){this.isStreamingSupported||this.onProgress?.({loaded:x.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const x=new o.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),l=s(20);const h=/^file:\/\/\/[a-zA-Z]:\//;function p(S){const k=require$$5,E=k.parse(S);return E.protocol==="file:"||E.host?E:/^[a-z]:[/\\]/i.test(S)?k.parse(`file:///${S}`):(E.host||(E.protocol="file:"),E)}class g{constructor(k){this.source=k,this.url=p(k.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&k.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new x(this):new c(this),this._fullRequestReader}getRangeReader(k,E){if(E<=this._progressiveDataLength)return null;const I=this.isFsUrl?new m(this,k,E):new y(this,k,E);return this._rangeRequestReaders.push(I),I}cancelAllRequests(k){this._fullRequestReader?.cancel(k);for(const E of this._rangeRequestReaders.slice(0))E.cancel(k)}}i.PDFNodeStream=g;class w{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null;const E=k.source;this._contentLength=E.length,this._loaded=0,this._filename=null,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const k=this._readableStream.read();return k===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=k.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){if(!this._readableStream){this._error(k);return}this._readableStream.destroy(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",E=>{this._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const E=k.source;this._isStreamingSupported=!E.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const k=this._readableStream.read();return k===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=k.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){if(!this._readableStream){this._error(k);return}this._readableStream.destroy(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",E=>{this._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(S,k){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:k}}class c extends w{constructor(k){super(k);const E=I=>{if(I.statusCode===404){const F=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F,this._headersCapability.reject(F);return}this._headersCapability.resolve(),this._setReadableStream(I);const L=F=>this._readableStream.headers[F.toLowerCase()],{allowRangeRequests:z,suggestedLength:j}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:L,isHttp:k.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=z,this._contentLength=j||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(L)};if(this._request=null,this._url.protocol==="http:"){const I=require$$5;this._request=I.request(u(this._url,k.httpHeaders),E)}else{const I=require$$5;this._request=I.request(u(this._url,k.httpHeaders),E)}this._request.on("error",I=>{this._storedError=I,this._headersCapability.reject(I)}),this._request.end()}}class y extends d{constructor(k,E,I){super(k),this._httpHeaders={};for(const z in k.httpHeaders){const j=k.httpHeaders[z];j!==void 0&&(this._httpHeaders[z]=j)}this._httpHeaders.Range=`bytes=${E}-${I-1}`;const L=z=>{if(z.statusCode===404){const j=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=j;return}this._setReadableStream(z)};if(this._request=null,this._url.protocol==="http:"){const z=require$$5;this._request=z.request(u(this._url,this._httpHeaders),L)}else{const z=require$$5;this._request=z.request(u(this._url,this._httpHeaders),L)}this._request.on("error",z=>{this._storedError=z}),this._request.end()}}class x extends w{constructor(k){super(k);let E=decodeURIComponent(this._url.path);h.test(this._url.href)&&(E=E.replace(/^\//,""));const I=require$$5;I.lstat(E,(L,z)=>{if(L){L.code==="ENOENT"&&(L=new o.MissingPDFException(`Missing PDF "${E}".`)),this._storedError=L,this._headersCapability.reject(L);return}this._contentLength=z.size,this._setReadableStream(I.createReadStream(E)),this._headersCapability.resolve()})}}class m extends d{constructor(k,E,I){super(k);let L=decodeURIComponent(this._url.path);h.test(this._url.href)&&(L=L.replace(/^\//,""));const z=require$$5;this._setReadableStream(z.createReadStream(L,{start:E,end:I-1}))}}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(6),l=s(1);const h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},p="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",w=["butt","round","square"],d=["miter","round","bevel"],u=function(z,j="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([z],{type:j}));const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let H=`data:${j};base64,`;for(let X=0,q=z.length;X<q;X+=3){const Q=z[X]&255,ie=z[X+1]&255,te=z[X+2]&255,ne=Q>>2,he=(Q&3)<<4|ie>>4,ae=X+1<q?(ie&15)<<2|te>>6:64,G=X+2<q?te&63:64;H+=V[ne]+V[he]+V[ae]+V[G]}return H},c=function(){const z=new Uint8Array([137,80,78,71,13,10,26,10]),j=12,F=new Int32Array(256);for(let te=0;te<256;te++){let ne=te;for(let he=0;he<8;he++)ne=ne&1?3988292384^ne>>1&2147483647:ne>>1&2147483647;F[te]=ne}function V(te,ne,he){let ae=-1;for(let G=ne;G<he;G++){const P=(ae^te[G])&255,T=F[P];ae=ae>>>8^T}return ae^-1}function H(te,ne,he,ae){let G=ae;const P=ne.length;he[G]=P>>24&255,he[G+1]=P>>16&255,he[G+2]=P>>8&255,he[G+3]=P&255,G+=4,he[G]=te.charCodeAt(0)&255,he[G+1]=te.charCodeAt(1)&255,he[G+2]=te.charCodeAt(2)&255,he[G+3]=te.charCodeAt(3)&255,G+=4,he.set(ne,G),G+=ne.length;const T=V(he,ae+4,G);he[G]=T>>24&255,he[G+1]=T>>16&255,he[G+2]=T>>8&255,he[G+3]=T&255}function X(te,ne,he){let ae=1,G=0;for(let P=ne;P<he;++P)ae=(ae+(te[P]&255))%65521,G=(G+ae)%65521;return G<<16|ae}function q(te){if(!l.isNodeJS)return Q(te);try{const ne=parseInt(process.versions.node)>=8?te:Buffer.from(te),he=require$$5.deflateSync(ne,{level:9});return he instanceof Uint8Array?he:new Uint8Array(he)}catch(ne){(0,l.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ne)}return Q(te)}function Q(te){let ne=te.length;const he=65535,ae=Math.ceil(ne/he),G=new Uint8Array(2+ne+ae*5+4);let P=0;G[P++]=120,G[P++]=156;let T=0;for(;ne>he;)G[P++]=0,G[P++]=255,G[P++]=255,G[P++]=0,G[P++]=0,G.set(te.subarray(T,T+he),P),P+=he,T+=he,ne-=he;G[P++]=1,G[P++]=ne&255,G[P++]=ne>>8&255,G[P++]=~ne&65535&255,G[P++]=(~ne&65535)>>8&255,G.set(te.subarray(T),P),P+=te.length-T;const v=X(te,0,te.length);return G[P++]=v>>24&255,G[P++]=v>>16&255,G[P++]=v>>8&255,G[P++]=v&255,G}function ie(te,ne,he,ae){const G=te.width,P=te.height;let T,v,C;const N=te.data;switch(ne){case l.ImageKind.GRAYSCALE_1BPP:v=0,T=1,C=G+7>>3;break;case l.ImageKind.RGB_24BPP:v=2,T=8,C=G*3;break;case l.ImageKind.RGBA_32BPP:v=6,T=8,C=G*4;break;default:throw new Error("invalid format")}const R=new Uint8Array((1+C)*P);let W=0,B=0;for(let K=0;K<P;++K)R[W++]=0,R.set(N.subarray(B,B+C),W),B+=C,W+=C;if(ne===l.ImageKind.GRAYSCALE_1BPP&&ae){W=0;for(let K=0;K<P;K++){W++;for(let J=0;J<C;J++)R[W++]^=255}}const A=new Uint8Array([G>>24&255,G>>16&255,G>>8&255,G&255,P>>24&255,P>>16&255,P>>8&255,P&255,T,v,0,0,0]),M=q(R),D=z.length+j*3+A.length+M.length,U=new Uint8Array(D);let $=0;return U.set(z,$),$+=z.length,H("IHDR",A,U,$),$+=j+A.length,H("IDATA",M,U,$),$+=j+M.length,H("IEND",new Uint8Array(0),U,$),u(U,"image/png",he)}return function(ne,he,ae){const G=ne.kind===void 0?l.ImageKind.GRAYSCALE_1BPP:ne.kind;return ie(ne,G,he,ae)}}();class y{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=l.IDENTITY_MATRIX,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=l.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(j,F){this.x=j,this.y=F}}function x(z){let j=[];const F=[];for(const V of z){if(V.fn==="save"){j.push({fnId:92,fn:"group",items:[]}),F.push(j),j=j.at(-1).items;continue}V.fn==="restore"?j=F.pop():j.push(V)}return j}function m(z){if(Number.isInteger(z))return z.toString();const j=z.toFixed(10);let F=j.length-1;if(j[F]!=="0")return j;do F--;while(j[F]==="0");return j.substring(0,j[F]==="."?F:F+1)}function S(z){if(z[4]===0&&z[5]===0){if(z[1]===0&&z[2]===0)return z[0]===1&&z[3]===1?"":`scale(${m(z[0])} ${m(z[3])})`;if(z[0]===z[3]&&z[1]===-z[2]){const j=Math.acos(z[0])*180/Math.PI;return`rotate(${m(j)})`}}else if(z[0]===1&&z[1]===0&&z[2]===0&&z[3]===1)return`translate(${m(z[4])} ${m(z[5])})`;return`matrix(${m(z[0])} ${m(z[1])} ${m(z[2])} ${m(z[3])} ${m(z[4])} ${m(z[5])})`}let k=0,E=0,I=0;class L{constructor(j,F,V=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new y,this.transformMatrix=l.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=j,this.objs=F,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!V,this._operatorIdMapping=[];for(const H in l.OPS)this._operatorIdMapping[l.OPS[H]]=H}getObject(j,F=null){return typeof j=="string"?j.startsWith("g_")?this.commonObjs.get(j):this.objs.get(j):F}save(){this.transformStack.push(this.transformMatrix);const j=this.current;this.extraStack.push(j),this.current=j.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(j){this.save(),this.executeOpTree(j),this.restore()}loadDependencies(j){const F=j.fnArray,V=j.argsArray;for(let H=0,X=F.length;H<X;H++)if(F[H]===l.OPS.dependency)for(const q of V[H]){const Q=q.startsWith("g_")?this.commonObjs:this.objs,ie=new Promise(te=>{Q.get(q,te)});this.current.dependencies.push(ie)}return Promise.all(this.current.dependencies)}transform(j,F,V,H,X,q){const Q=[j,F,V,H,X,q];this.transformMatrix=l.Util.transform(this.transformMatrix,Q),this.tgrp=null}getSVG(j,F){this.viewport=F;const V=this._initialize(F);return this.loadDependencies(j).then(()=>(this.transformMatrix=l.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(j)),V))}convertOpList(j){const F=this._operatorIdMapping,V=j.argsArray,H=j.fnArray,X=[];for(let q=0,Q=H.length;q<Q;q++){const ie=H[q];X.push({fnId:ie,fn:F[ie],args:V[q]})}return x(X)}executeOpTree(j){for(const F of j){const V=F.fn,H=F.fnId,X=F.args;switch(H|0){case l.OPS.beginText:this.beginText();break;case l.OPS.dependency:break;case l.OPS.setLeading:this.setLeading(X);break;case l.OPS.setLeadingMoveText:this.setLeadingMoveText(X[0],X[1]);break;case l.OPS.setFont:this.setFont(X);break;case l.OPS.showText:this.showText(X[0]);break;case l.OPS.showSpacedText:this.showText(X[0]);break;case l.OPS.endText:this.endText();break;case l.OPS.moveText:this.moveText(X[0],X[1]);break;case l.OPS.setCharSpacing:this.setCharSpacing(X[0]);break;case l.OPS.setWordSpacing:this.setWordSpacing(X[0]);break;case l.OPS.setHScale:this.setHScale(X[0]);break;case l.OPS.setTextMatrix:this.setTextMatrix(X[0],X[1],X[2],X[3],X[4],X[5]);break;case l.OPS.setTextRise:this.setTextRise(X[0]);break;case l.OPS.setTextRenderingMode:this.setTextRenderingMode(X[0]);break;case l.OPS.setLineWidth:this.setLineWidth(X[0]);break;case l.OPS.setLineJoin:this.setLineJoin(X[0]);break;case l.OPS.setLineCap:this.setLineCap(X[0]);break;case l.OPS.setMiterLimit:this.setMiterLimit(X[0]);break;case l.OPS.setFillRGBColor:this.setFillRGBColor(X[0],X[1],X[2]);break;case l.OPS.setStrokeRGBColor:this.setStrokeRGBColor(X[0],X[1],X[2]);break;case l.OPS.setStrokeColorN:this.setStrokeColorN(X);break;case l.OPS.setFillColorN:this.setFillColorN(X);break;case l.OPS.shadingFill:this.shadingFill(X[0]);break;case l.OPS.setDash:this.setDash(X[0],X[1]);break;case l.OPS.setRenderingIntent:this.setRenderingIntent(X[0]);break;case l.OPS.setFlatness:this.setFlatness(X[0]);break;case l.OPS.setGState:this.setGState(X[0]);break;case l.OPS.fill:this.fill();break;case l.OPS.eoFill:this.eoFill();break;case l.OPS.stroke:this.stroke();break;case l.OPS.fillStroke:this.fillStroke();break;case l.OPS.eoFillStroke:this.eoFillStroke();break;case l.OPS.clip:this.clip("nonzero");break;case l.OPS.eoClip:this.clip("evenodd");break;case l.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case l.OPS.paintImageXObject:this.paintImageXObject(X[0]);break;case l.OPS.paintInlineImageXObject:this.paintInlineImageXObject(X[0]);break;case l.OPS.paintImageMaskXObject:this.paintImageMaskXObject(X[0]);break;case l.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(X[0],X[1]);break;case l.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case l.OPS.closePath:this.closePath();break;case l.OPS.closeStroke:this.closeStroke();break;case l.OPS.closeFillStroke:this.closeFillStroke();break;case l.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case l.OPS.nextLine:this.nextLine();break;case l.OPS.transform:this.transform(X[0],X[1],X[2],X[3],X[4],X[5]);break;case l.OPS.constructPath:this.constructPath(X[0],X[1]);break;case l.OPS.endPath:this.endPath();break;case 92:this.group(F.items);break;default:(0,l.warn)(`Unimplemented operator ${V}`);break}}}setWordSpacing(j){this.current.wordSpacing=j}setCharSpacing(j){this.current.charSpacing=j}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(j,F,V,H,X,q){const Q=this.current;Q.textMatrix=Q.lineMatrix=[j,F,V,H,X,q],Q.textMatrixScale=Math.hypot(j,F),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${m(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",m(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.append(Q.tspan)}beginText(){const j=this.current;j.x=j.lineX=0,j.y=j.lineY=0,j.textMatrix=l.IDENTITY_MATRIX,j.lineMatrix=l.IDENTITY_MATRIX,j.textMatrixScale=1,j.tspan=this.svgFactory.createElement("svg:tspan"),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtgrp=this.svgFactory.createElement("svg:g"),j.xcoords=[],j.ycoords=[]}moveText(j,F){const V=this.current;V.x=V.lineX+=j,V.y=V.lineY+=F,V.xcoords=[],V.ycoords=[],V.tspan=this.svgFactory.createElement("svg:tspan"),V.tspan.setAttributeNS(null,"font-family",V.fontFamily),V.tspan.setAttributeNS(null,"font-size",`${m(V.fontSize)}px`),V.tspan.setAttributeNS(null,"y",m(-V.y))}showText(j){const F=this.current,V=F.font,H=F.fontSize;if(H===0)return;const X=F.fontSizeScale,q=F.charSpacing,Q=F.wordSpacing,ie=F.fontDirection,te=F.textHScale*ie,ne=V.vertical,he=ne?1:-1,ae=V.defaultVMetrics,G=H*F.fontMatrix[0];let P=0;for(const C of j){if(C===null){P+=ie*Q;continue}else if(typeof C=="number"){P+=he*C*H/1e3;continue}const N=(C.isSpace?Q:0)+q,R=C.fontChar;let W,B,A=C.width;if(ne){let D;const U=C.vmetric||ae;D=C.vmetric?U[1]:A*.5,D=-D*G;const $=U[2]*G;A=U?-U[0]:A,W=D/X,B=(P+$)/X}else W=P/X,B=0;(C.isInFont||V.missingFile)&&(F.xcoords.push(F.x+W),ne&&F.ycoords.push(-F.y+B),F.tspan.textContent+=R);const M=ne?A*G-N*ie:A*G+N*ie;P+=M}F.tspan.setAttributeNS(null,"x",F.xcoords.map(m).join(" ")),ne?F.tspan.setAttributeNS(null,"y",F.ycoords.map(m).join(" ")):F.tspan.setAttributeNS(null,"y",m(-F.y)),ne?F.y-=P:F.x+=P*te,F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${m(F.fontSize)}px`),F.fontStyle!==h.fontStyle&&F.tspan.setAttributeNS(null,"font-style",F.fontStyle),F.fontWeight!==h.fontWeight&&F.tspan.setAttributeNS(null,"font-weight",F.fontWeight);const T=F.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;if(T===l.TextRenderingMode.FILL||T===l.TextRenderingMode.FILL_STROKE?(F.fillColor!==h.fillColor&&F.tspan.setAttributeNS(null,"fill",F.fillColor),F.fillAlpha<1&&F.tspan.setAttributeNS(null,"fill-opacity",F.fillAlpha)):F.textRenderingMode===l.TextRenderingMode.ADD_TO_PATH?F.tspan.setAttributeNS(null,"fill","transparent"):F.tspan.setAttributeNS(null,"fill","none"),T===l.TextRenderingMode.STROKE||T===l.TextRenderingMode.FILL_STROKE){const C=1/(F.textMatrixScale||1);this._setStrokeAttributes(F.tspan,C)}let v=F.textMatrix;F.textRise!==0&&(v=v.slice(),v[5]+=F.textRise),F.txtElement.setAttributeNS(null,"transform",`${S(v)} scale(${m(te)}, -1)`),F.txtElement.setAttributeNS(p,"xml:space","preserve"),F.txtElement.append(F.tspan),F.txtgrp.append(F.txtElement),this._ensureTransformGroup().append(F.txtElement)}setLeadingMoveText(j,F){this.setLeading(-F),this.moveText(j,F)}addFontStyle(j){if(!j.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const F=u(j.data,j.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${j.loadedName}"; src: url(${F}); }
`}setFont(j){const F=this.current,V=this.commonObjs.get(j[0]);let H=j[1];F.font=V,this.embedFonts&&!V.missingFile&&!this.embeddedFonts[V.loadedName]&&(this.addFontStyle(V),this.embeddedFonts[V.loadedName]=V),F.fontMatrix=V.fontMatrix||l.FONT_IDENTITY_MATRIX;let X="normal";V.black?X="900":V.bold&&(X="bold");const q=V.italic?"italic":"normal";H<0?(H=-H,F.fontDirection=-1):F.fontDirection=1,F.fontSize=H,F.fontFamily=V.loadedName,F.fontWeight=X,F.fontStyle=q,F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"y",m(-F.y)),F.xcoords=[],F.ycoords=[]}endText(){const j=this.current;j.textRenderingMode&l.TextRenderingMode.ADD_TO_PATH_FLAG&&j.txtElement?.hasChildNodes()&&(j.element=j.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(j){j>0&&(this.current.lineWidth=j)}setLineCap(j){this.current.lineCap=w[j]}setLineJoin(j){this.current.lineJoin=d[j]}setMiterLimit(j){this.current.miterLimit=j}setStrokeAlpha(j){this.current.strokeAlpha=j}setStrokeRGBColor(j,F,V){this.current.strokeColor=l.Util.makeHexColor(j,F,V)}setFillAlpha(j){this.current.fillAlpha=j}setFillRGBColor(j,F,V){this.current.fillColor=l.Util.makeHexColor(j,F,V),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(j){this.current.strokeColor=this._makeColorN_Pattern(j)}setFillColorN(j){this.current.fillColor=this._makeColorN_Pattern(j)}shadingFill(j){const{width:F,height:V}=this.viewport,H=l.Util.inverseTransform(this.transformMatrix),[X,q,Q,ie]=l.Util.getAxialAlignedBoundingBox([0,0,F,V],H),te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",X),te.setAttributeNS(null,"y",q),te.setAttributeNS(null,"width",Q-X),te.setAttributeNS(null,"height",ie-q),te.setAttributeNS(null,"fill",this._makeShadingPattern(j)),this.current.fillAlpha<1&&te.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(te)}_makeColorN_Pattern(j){return j[0]==="TilingPattern"?this._makeTilingPattern(j):this._makeShadingPattern(j)}_makeTilingPattern(j){const F=j[1],V=j[2],H=j[3]||l.IDENTITY_MATRIX,[X,q,Q,ie]=j[4],te=j[5],ne=j[6],he=j[7],ae=`shading${I++}`,[G,P,T,v]=l.Util.normalizeRect([...l.Util.applyTransform([X,q],H),...l.Util.applyTransform([Q,ie],H)]),[C,N]=l.Util.singularValueDecompose2dScale(H),R=te*C,W=ne*N,B=this.svgFactory.createElement("svg:pattern");B.setAttributeNS(null,"id",ae),B.setAttributeNS(null,"patternUnits","userSpaceOnUse"),B.setAttributeNS(null,"width",R),B.setAttributeNS(null,"height",W),B.setAttributeNS(null,"x",`${G}`),B.setAttributeNS(null,"y",`${P}`);const A=this.svg,M=this.transformMatrix,D=this.current.fillColor,U=this.current.strokeColor,$=this.svgFactory.create(T-G,v-P);if(this.svg=$,this.transformMatrix=H,he===2){const K=l.Util.makeHexColor(...F);this.current.fillColor=K,this.current.strokeColor=K}return this.executeOpTree(this.convertOpList(V)),this.svg=A,this.transformMatrix=M,this.current.fillColor=D,this.current.strokeColor=U,B.append($.childNodes[0]),this.defs.append(B),`url(#${ae})`}_makeShadingPattern(j){switch(typeof j=="string"&&(j=this.objs.get(j)),j[0]){case"RadialAxial":const F=`shading${I++}`,V=j[3];let H;switch(j[1]){case"axial":const X=j[4],q=j[5];H=this.svgFactory.createElement("svg:linearGradient"),H.setAttributeNS(null,"id",F),H.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),H.setAttributeNS(null,"x1",X[0]),H.setAttributeNS(null,"y1",X[1]),H.setAttributeNS(null,"x2",q[0]),H.setAttributeNS(null,"y2",q[1]);break;case"radial":const Q=j[4],ie=j[5],te=j[6],ne=j[7];H=this.svgFactory.createElement("svg:radialGradient"),H.setAttributeNS(null,"id",F),H.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),H.setAttributeNS(null,"cx",ie[0]),H.setAttributeNS(null,"cy",ie[1]),H.setAttributeNS(null,"r",ne),H.setAttributeNS(null,"fx",Q[0]),H.setAttributeNS(null,"fy",Q[1]),H.setAttributeNS(null,"fr",te);break;default:throw new Error(`Unknown RadialAxial type: ${j[1]}`)}for(const X of V){const q=this.svgFactory.createElement("svg:stop");q.setAttributeNS(null,"offset",X[0]),q.setAttributeNS(null,"stop-color",X[1]),H.append(q)}return this.defs.append(H),`url(#${F})`;case"Mesh":return(0,l.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${j[0]}`)}}setDash(j,F){this.current.dashArray=j,this.current.dashPhase=F}constructPath(j,F){const V=this.current;let H=V.x,X=V.y,q=[],Q=0;for(const ie of j)switch(ie|0){case l.OPS.rectangle:H=F[Q++],X=F[Q++];const te=F[Q++],ne=F[Q++],he=H+te,ae=X+ne;q.push("M",m(H),m(X),"L",m(he),m(X),"L",m(he),m(ae),"L",m(H),m(ae),"Z");break;case l.OPS.moveTo:H=F[Q++],X=F[Q++],q.push("M",m(H),m(X));break;case l.OPS.lineTo:H=F[Q++],X=F[Q++],q.push("L",m(H),m(X));break;case l.OPS.curveTo:H=F[Q+4],X=F[Q+5],q.push("C",m(F[Q]),m(F[Q+1]),m(F[Q+2]),m(F[Q+3]),m(H),m(X)),Q+=6;break;case l.OPS.curveTo2:q.push("C",m(H),m(X),m(F[Q]),m(F[Q+1]),m(F[Q+2]),m(F[Q+3])),H=F[Q+2],X=F[Q+3],Q+=4;break;case l.OPS.curveTo3:H=F[Q+2],X=F[Q+3],q.push("C",m(F[Q]),m(F[Q+1]),m(H),m(X),m(H),m(X)),Q+=4;break;case l.OPS.closePath:q.push("Z");break}q=q.join(" "),V.path&&j.length>0&&j[0]!==l.OPS.rectangle&&j[0]!==l.OPS.moveTo?q=V.path.getAttributeNS(null,"d")+q:(V.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(V.path)),V.path.setAttributeNS(null,"d",q),V.path.setAttributeNS(null,"fill","none"),V.element=V.path,V.setCurrentPoint(H,X)}endPath(){const j=this.current;if(j.path=null,!this.pendingClip)return;if(!j.element){this.pendingClip=null;return}const F=`clippath${k++}`,V=this.svgFactory.createElement("svg:clipPath");V.setAttributeNS(null,"id",F),V.setAttributeNS(null,"transform",S(this.transformMatrix));const H=j.element.cloneNode(!0);if(this.pendingClip==="evenodd"?H.setAttributeNS(null,"clip-rule","evenodd"):H.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,V.append(H),this.defs.append(V),j.activeClipUrl){j.clipGroup=null;for(const X of this.extraStack)X.clipGroup=null;V.setAttributeNS(null,"clip-path",j.activeClipUrl)}j.activeClipUrl=`url(#${F})`,this.tgrp=null}clip(j){this.pendingClip=j}closePath(){const j=this.current;if(j.path){const F=`${j.path.getAttributeNS(null,"d")}Z`;j.path.setAttributeNS(null,"d",F)}}setLeading(j){this.current.leading=-j}setTextRise(j){this.current.textRise=j}setTextRenderingMode(j){this.current.textRenderingMode=j}setHScale(j){this.current.textHScale=j/100}setRenderingIntent(j){}setFlatness(j){}setGState(j){for(const[F,V]of j)switch(F){case"LW":this.setLineWidth(V);break;case"LC":this.setLineCap(V);break;case"LJ":this.setLineJoin(V);break;case"ML":this.setMiterLimit(V);break;case"D":this.setDash(V[0],V[1]);break;case"RI":this.setRenderingIntent(V);break;case"FL":this.setFlatness(V);break;case"Font":this.setFont(V);break;case"CA":this.setStrokeAlpha(V);break;case"ca":this.setFillAlpha(V);break;default:(0,l.warn)(`Unimplemented graphic state operator ${F}`);break}}fill(){const j=this.current;j.element&&(j.element.setAttributeNS(null,"fill",j.fillColor),j.element.setAttributeNS(null,"fill-opacity",j.fillAlpha),this.endPath())}stroke(){const j=this.current;j.element&&(this._setStrokeAttributes(j.element),j.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(j,F=1){const V=this.current;let H=V.dashArray;F!==1&&H.length>0&&(H=H.map(function(X){return F*X})),j.setAttributeNS(null,"stroke",V.strokeColor),j.setAttributeNS(null,"stroke-opacity",V.strokeAlpha),j.setAttributeNS(null,"stroke-miterlimit",m(V.miterLimit)),j.setAttributeNS(null,"stroke-linecap",V.lineCap),j.setAttributeNS(null,"stroke-linejoin",V.lineJoin),j.setAttributeNS(null,"stroke-width",m(F*V.lineWidth)+"px"),j.setAttributeNS(null,"stroke-dasharray",H.map(m).join(" ")),j.setAttributeNS(null,"stroke-dashoffset",m(F*V.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width","1px"),j.setAttributeNS(null,"height","1px"),j.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(j)}paintImageXObject(j){const F=this.getObject(j);if(!F){(0,l.warn)(`Dependent image with object ID ${j} is not ready yet`);return}this.paintInlineImageXObject(F)}paintInlineImageXObject(j,F){const V=j.width,H=j.height,X=c(j,this.forceDataSchema,!!F),q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x","0"),q.setAttributeNS(null,"y","0"),q.setAttributeNS(null,"width",m(V)),q.setAttributeNS(null,"height",m(H)),this.current.element=q,this.clip("nonzero");const Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS(g,"xlink:href",X),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",m(-H)),Q.setAttributeNS(null,"width",m(V)+"px"),Q.setAttributeNS(null,"height",m(H)+"px"),Q.setAttributeNS(null,"transform",`scale(${m(1/V)} ${m(-1/H)})`),F?F.append(Q):this._ensureTransformGroup().append(Q)}paintImageMaskXObject(j){const F=this.getObject(j.data,j);if(F.bitmap){(0,l.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const V=this.current,H=F.width,X=F.height,q=V.fillColor;V.maskId=`mask${E++}`;const Q=this.svgFactory.createElement("svg:mask");Q.setAttributeNS(null,"id",V.maskId);const ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x","0"),ie.setAttributeNS(null,"y","0"),ie.setAttributeNS(null,"width",m(H)),ie.setAttributeNS(null,"height",m(X)),ie.setAttributeNS(null,"fill",q),ie.setAttributeNS(null,"mask",`url(#${V.maskId})`),this.defs.append(Q),this._ensureTransformGroup().append(ie),this.paintInlineImageXObject(F,Q)}paintFormXObjectBegin(j,F){if(Array.isArray(j)&&j.length===6&&this.transform(j[0],j[1],j[2],j[3],j[4],j[5]),F){const V=F[2]-F[0],H=F[3]-F[1],X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x",F[0]),X.setAttributeNS(null,"y",F[1]),X.setAttributeNS(null,"width",m(V)),X.setAttributeNS(null,"height",m(H)),this.current.element=X,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(j){const F=this.svgFactory.create(j.width,j.height),V=this.svgFactory.createElement("svg:defs");F.append(V),this.defs=V;const H=this.svgFactory.createElement("svg:g");return H.setAttributeNS(null,"transform",S(j.transform)),F.append(H),this.svg=H,F}_ensureClipGroup(){if(!this.current.clipGroup){const j=this.svgFactory.createElement("svg:g");j.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(j),this.current.clipGroup=j}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=L},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(l){const h=[],p={items:h,styles:Object.create(null)};function g(w){if(!w)return;let d=null;const u=w.name;if(u==="#text")d=w.value;else if(s.shouldBuildText(u))w?.attributes?.textContent?d=w.attributes.textContent:w.value&&(d=w.value);else return;if(d!==null&&h.push({str:d}),!!w.children)for(const c of w.children)g(c)}return g(l),p}static shouldBuildText(l){return!(l==="textarea"||l==="input"||l==="option"||l==="select")}}i.XfaText=s},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=S,i.updateTextLayer=k;var o=s(1),l=s(6);const h=1e5,p=30,g=.8,w=new Map;function d(E,I){let L;if(I&&o.FeatureTest.isOffscreenCanvasSupported)L=new OffscreenCanvas(E,E).getContext("2d",{alpha:!1});else{const z=document.createElement("canvas");z.width=z.height=E,L=z.getContext("2d",{alpha:!1})}return L}function u(E,I){const L=w.get(E);if(L)return L;const z=d(p,I);z.font=`${p}px ${E}`;const j=z.measureText("");let F=j.fontBoundingBoxAscent,V=Math.abs(j.fontBoundingBoxDescent);if(F){const X=F/(F+V);return w.set(E,X),z.canvas.width=z.canvas.height=0,X}z.strokeStyle="red",z.clearRect(0,0,p,p),z.strokeText("g",0,0);let H=z.getImageData(0,0,p,p).data;V=0;for(let X=H.length-1-3;X>=0;X-=4)if(H[X]>0){V=Math.ceil(X/4/p);break}z.clearRect(0,0,p,p),z.strokeText("A",0,p),H=z.getImageData(0,0,p,p).data,F=0;for(let X=0,q=H.length;X<q;X+=4)if(H[X]>0){F=p-Math.floor(X/4/p);break}if(z.canvas.width=z.canvas.height=0,F){const X=F/(F+V);return w.set(E,X),X}return w.set(E,g),g}function c(E,I,L){const z=document.createElement("span"),j={angle:0,canvasWidth:0,hasText:I.str!=="",hasEOL:I.hasEOL,fontSize:0};E._textDivs.push(z);const F=o.Util.transform(E._transform,I.transform);let V=Math.atan2(F[1],F[0]);const H=L[I.fontName];H.vertical&&(V+=Math.PI/2);const X=Math.hypot(F[2],F[3]),q=X*u(H.fontFamily,E._isOffscreenCanvasSupported);let Q,ie;V===0?(Q=F[4],ie=F[5]-q):(Q=F[4]+q*Math.sin(V),ie=F[5]-q*Math.cos(V));const te="calc(var(--scale-factor)*",ne=z.style;E._container===E._rootContainer?(ne.left=`${(100*Q/E._pageWidth).toFixed(2)}%`,ne.top=`${(100*ie/E._pageHeight).toFixed(2)}%`):(ne.left=`${te}${Q.toFixed(2)}px)`,ne.top=`${te}${ie.toFixed(2)}px)`),ne.fontSize=`${te}${X.toFixed(2)}px)`,ne.fontFamily=H.fontFamily,j.fontSize=X,z.setAttribute("role","presentation"),z.textContent=I.str,z.dir=I.dir,E._fontInspectorEnabled&&(z.dataset.fontName=I.fontName),V!==0&&(j.angle=V*(180/Math.PI));let he=!1;if(I.str.length>1)he=!0;else if(I.str!==" "&&I.transform[0]!==I.transform[3]){const ae=Math.abs(I.transform[0]),G=Math.abs(I.transform[3]);ae!==G&&Math.max(ae,G)/Math.min(ae,G)>1.5&&(he=!0)}he&&(j.canvasWidth=H.vertical?I.height:I.width),E._textDivProperties.set(z,j),E._isReadableStream&&E._layoutText(z)}function y(E){const{div:I,scale:L,properties:z,ctx:j,prevFontSize:F,prevFontFamily:V}=E,{style:H}=I;let X="";if(z.canvasWidth!==0&&z.hasText){const{fontFamily:q}=H,{canvasWidth:Q,fontSize:ie}=z;(F!==ie||V!==q)&&(j.font=`${ie*L}px ${q}`,E.prevFontSize=ie,E.prevFontFamily=q);const{width:te}=j.measureText(I.textContent);te>0&&(X=`scaleX(${Q*L/te})`)}z.angle!==0&&(X=`rotate(${z.angle}deg) ${X}`),X.length>0&&(H.transform=X)}function x(E){if(E._canceled)return;const I=E._textDivs,L=E._capability;if(I.length>h){L.resolve();return}if(!E._isReadableStream)for(const j of I)E._layoutText(j);L.resolve()}class m{constructor({textContentSource:I,container:L,viewport:z,textDivs:j,textDivProperties:F,textContentItemsStr:V,isOffscreenCanvasSupported:H}){this._textContentSource=I,this._isReadableStream=I instanceof ReadableStream,this._container=this._rootContainer=L,this._textDivs=j||[],this._textContentItemsStr=V||[],this._isOffscreenCanvasSupported=H,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=F||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:z.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,H)};const{pageWidth:X,pageHeight:q,pageX:Q,pageY:ie}=z.rawDims;this._transform=[1,0,0,-1,-Q,ie+q],this._pageWidth=X,this._pageHeight=q,(0,l.setLayerDimensions)(L,z),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(I,L){for(const z of I){if(z.str===void 0){if(z.type==="beginMarkedContentProps"||z.type==="beginMarkedContent"){const j=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),z.id!==null&&this._container.setAttribute("id",`${z.id}`),j.append(this._container)}else z.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(z.str),c(this,z,L)}}_layoutText(I){const L=this._layoutTextParams.properties=this._textDivProperties.get(I);if(this._layoutTextParams.div=I,y(this._layoutTextParams),L.hasText&&this._container.append(I),L.hasEOL){const z=document.createElement("br");z.setAttribute("role","presentation"),this._container.append(z)}}_render(){const I=new o.PromiseCapability;let L=Object.create(null);if(this._isReadableStream){const z=()=>{this._reader.read().then(({value:j,done:F})=>{if(F){I.resolve();return}Object.assign(L,j.styles),this._processItems(j.items,L),z()},I.reject)};this._reader=this._textContentSource.getReader(),z()}else if(this._textContentSource){const{items:z,styles:j}=this._textContentSource;this._processItems(z,j),I.resolve()}else throw new Error('No "textContentSource" parameter specified.');I.promise.then(()=>{L=null,x(this)},this._capability.reject)}}i.TextLayerRenderTask=m;function S(E){!E.textContentSource&&(E.textContent||E.textContentStream)&&((0,l.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),E.textContentSource=E.textContent||E.textContentStream);const{container:I,viewport:L}=E,z=getComputedStyle(I),j=z.getPropertyValue("visibility"),F=parseFloat(z.getPropertyValue("--scale-factor"));j==="visible"&&(!F||Math.abs(F-L.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const V=new m(E);return V._render(),V}function k({container:E,viewport:I,textDivs:L,textDivProperties:z,isOffscreenCanvasSupported:j,mustRotate:F=!0,mustRescale:V=!0}){if(F&&(0,l.setLayerDimensions)(E,{rotation:I.rotation}),V){const H=d(0,j),q={prevFontSize:null,prevFontFamily:null,div:null,scale:I.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:H};for(const Q of L)q.properties=z.get(Q),q.div=Q,y(q)}}},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(1),l=s(4),h=s(28),p=s(33),g=s(6),w=s(34);class d{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#o=new Map;#s=!1;#l=!1;#u=!1;#i;static _initialized=!1;constructor({uiManager:c,pageIndex:y,div:x,accessibilityManager:m,annotationLayer:S,viewport:k,l10n:E}){const I=[h.FreeTextEditor,p.InkEditor,w.StampEditor];if(!d._initialized){d._initialized=!0;for(const L of I)L.initialize(E)}c.registerEditorTypes(I),this.#i=c,this.pageIndex=y,this.div=x,this.#e=m,this.#n=S,this.viewport=k,this.#i.addLayer(this)}get isEmpty(){return this.#o.size===0}updateToolbar(c){this.#i.updateToolbar(c)}updateMode(c=this.#i.getMode()){this.#f(),c===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),c!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",c===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",c===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",c===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(c){if(!c&&this.#i.getMode()!==o.AnnotationEditorType.INK)return;if(!c){for(const x of this.#o.values())if(x.isEmpty()){x.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(c){this.#i.setEditingState(c)}addCommands(c){this.#i.addCommands(c)}enable(){this.div.style.pointerEvents="auto";const c=new Set;for(const x of this.#o.values())x.enableEditing(),x.annotationElementId&&c.add(x.annotationElementId);if(!this.#n)return;const y=this.#n.getEditableAnnotations();for(const x of y){if(x.hide(),this.#i.isDeletedAnnotationElement(x.data.id)||c.has(x.data.id))continue;const m=this.deserialize(x);m&&(this.addOrRebuild(m),m.enableEditing())}}disable(){this.#u=!0,this.div.style.pointerEvents="none";const c=new Set;for(const y of this.#o.values()){if(y.disableEditing(),!y.annotationElementId||y.serialize()!==null){c.add(y.annotationElementId);continue}this.getEditableAnnotation(y.annotationElementId)?.show(),y.remove()}if(this.#n){const y=this.#n.getEditableAnnotations();for(const x of y){const{id:m}=x.data;c.has(m)||this.#i.isDeletedAnnotationElement(m)||x.show()}}this.#f(),this.isEmpty&&(this.div.hidden=!0),this.#u=!1}getEditableAnnotation(c){return this.#n?.getEditableAnnotation(c)||null}setActiveEditor(c){this.#i.getActive()!==c&&this.#i.setActiveEditor(c)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#r)}attach(c){this.#o.set(c.id,c);const{annotationElementId:y}=c;y&&this.#i.isDeletedAnnotationElement(y)&&this.#i.removeDeletedAnnotationElement(c)}detach(c){this.#o.delete(c.id),this.#e?.removePointerInTextLayer(c.contentDiv),!this.#u&&c.annotationElementId&&this.#i.addDeletedAnnotationElement(c)}remove(c){this.detach(c),this.#i.removeEditor(c),c.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),c.div.remove(),c.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(c){c.parent!==this&&(c.annotationElementId&&(this.#i.addDeletedAnnotationElement(c.annotationElementId),l.AnnotationEditor.deleteAnnotationElement(c),c.annotationElementId=null),this.attach(c),c.parent?.detach(c),c.setParent(this),c.div&&c.isAttachedToDOM&&(c.div.remove(),this.div.append(c.div)))}add(c){if(this.changeParent(c),this.#i.addEditor(c),this.attach(c),!c.isAttachedToDOM){const y=c.render();this.div.append(y),c.isAttachedToDOM=!0}c.fixAndSetPosition(),c.onceAdded(),this.#i.addToAnnotationStorage(c)}moveEditorInDOM(c){if(!c.isAttachedToDOM)return;const{activeElement:y}=document;c.div.contains(y)&&(c._focusEventsAllowed=!1,setTimeout(()=>{c.div.contains(document.activeElement)?c._focusEventsAllowed=!0:(c.div.addEventListener("focusin",()=>{c._focusEventsAllowed=!0},{once:!0}),y.focus())},0)),c._structTreeParentId=this.#e?.moveElementInDOM(this.div,c.div,c.contentDiv,!0)}addOrRebuild(c){c.needsToBeRebuilt()?c.rebuild():this.add(c)}addUndoableEditor(c){const y=()=>c._uiManager.rebuild(c),x=()=>{c.remove()};this.addCommands({cmd:y,undo:x,mustExec:!1})}getNextId(){return this.#i.getId()}#p(c){switch(this.#i.getMode()){case o.AnnotationEditorType.FREETEXT:return new h.FreeTextEditor(c);case o.AnnotationEditorType.INK:return new p.InkEditor(c);case o.AnnotationEditorType.STAMP:return new w.StampEditor(c)}return null}pasteEditor(c,y){this.#i.updateToolbar(c),this.#i.updateMode(c);const{offsetX:x,offsetY:m}=this.#h(),S=this.getNextId(),k=this.#p({parent:this,id:S,x,y:m,uiManager:this.#i,isCentered:!0,...y});k&&this.add(k)}deserialize(c){switch(c.annotationType??c.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return h.FreeTextEditor.deserialize(c,this,this.#i);case o.AnnotationEditorType.INK:return p.InkEditor.deserialize(c,this,this.#i);case o.AnnotationEditorType.STAMP:return w.StampEditor.deserialize(c,this,this.#i)}return null}#d(c,y){const x=this.getNextId(),m=this.#p({parent:this,id:x,x:c.offsetX,y:c.offsetY,uiManager:this.#i,isCentered:y});return m&&this.add(m),m}#h(){const{x:c,y,width:x,height:m}=this.div.getBoundingClientRect(),S=Math.max(0,c),k=Math.max(0,y),E=Math.min(window.innerWidth,c+x),I=Math.min(window.innerHeight,y+m),L=(S+E)/2-c,z=(k+I)/2-y,[j,F]=this.viewport.rotation%180===0?[L,z]:[z,L];return{offsetX:j,offsetY:F}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(c){this.#i.setSelected(c)}toggleSelected(c){this.#i.toggleSelected(c)}isSelected(c){return this.#i.isSelected(c)}unselect(c){this.#i.unselect(c)}pointerup(c){const{isMac:y}=o.FeatureTest.platform;if(!(c.button!==0||c.ctrlKey&&y)&&c.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===o.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(c,!1)}}pointerdown(c){if(this.#s){this.#s=!1;return}const{isMac:y}=o.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&y||c.target!==this.div)return;this.#s=!0;const x=this.#i.getActive();this.#t=!x||x.isEmpty()}findNewParent(c,y,x){const m=this.#i.findParent(y,x);return m===null||m===this?!1:(m.changeParent(c),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const c of this.#o.values())this.#e?.removePointerInTextLayer(c.contentDiv),c.setParent(null),c.isAttachedToDOM=!1,c.div.remove();this.div=null,this.#o.clear(),this.#i.removeLayer(this)}#f(){this.#l=!0;for(const c of this.#o.values())c.isEmpty()&&c.remove();this.#l=!1}render({viewport:c}){this.viewport=c,(0,g.setLayerDimensions)(this.div,c);for(const y of this.#i.getEditors(this.pageIndex))this.add(y);this.updateMode()}update({viewport:c}){this.#i.commitOrRemove(),this.viewport=c,(0,g.setLayerDimensions)(this.div,{rotation:c.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:c,pageHeight:y}=this.viewport.rawDims;return[c,y]}}i.AnnotationEditorLayer=d},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),l=s(5),h=s(4),p=s(29);class g extends h.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#a;#o="";#s=`${this.id}-editor`;#l;#u=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const d=g.prototype,u=x=>x.isEmpty(),c=l.AnnotationEditorUIManager.TRANSLATE_SMALL,y=l.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new l.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],d.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],d._translateEmpty,{args:[-c,0],checker:u}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d._translateEmpty,{args:[-y,0],checker:u}],[["ArrowRight","mac+ArrowRight"],d._translateEmpty,{args:[c,0],checker:u}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d._translateEmpty,{args:[y,0],checker:u}],[["ArrowUp","mac+ArrowUp"],d._translateEmpty,{args:[0,-c],checker:u}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d._translateEmpty,{args:[0,-y],checker:u}],[["ArrowDown","mac+ArrowDown"],d._translateEmpty,{args:[0,c],checker:u}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d._translateEmpty,{args:[0,y],checker:u}]]))}static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#a=d.color||g._defaultColor||h.AnnotationEditor._defaultLineColor,this.#l=d.fontSize||g._defaultFontSize}static initialize(d){h.AnnotationEditor.initialize(d,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const u=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(u.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,u){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:g._defaultFontSize=u;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:g._defaultColor=u;break}}updateParams(d,u){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(u);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#p(u);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,g._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,g._defaultColor||h.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#i(d){const u=y=>{this.editorDiv.style.fontSize=`calc(${y}px * var(--scale-factor))`,this.translate(0,-(y-this.#l)*this.parentScale),this.#l=y,this.#h()},c=this.#l;this.addCommands({cmd:()=>{u(d)},undo:()=>{u(c)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#p(d){const u=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=d},undo:()=>{this.#a=this.editorDiv.style.color=u},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(d,u){this._uiManager.translateSelectedEditors(d,u,!0)}getInitialTranslation(){const d=this.parentScale;return[-g._internalPadding*d,-(g._internalPadding+this.#l)*d]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const u=[];for(const c of d)u.push(c.innerText.replace(/\r\n?|\n/,""));return u.join(`
`)}#h(){const[d,u]=this.parentDimensions;let c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{const{currentLayer:y,div:x}=this,m=x.style.display;x.style.display="hidden",y.div.append(this.div),c=x.getBoundingClientRect(),x.remove(),x.style.display=m}this.rotation%180===this.parentRotation%180?(this.width=c.width/d,this.height=c.height/u):(this.width=c.height/d,this.height=c.width/u),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const d=this.#o,u=this.#o=this.#d().trimEnd();if(d===u)return;const c=y=>{if(this.#o=y,!y){this.remove();return}this.#f(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{c(u)},undo:()=>{c(d)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(d){this.enterInEditMode()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enterInEditMode(),d.preventDefault())}editorDivKeydown(d){g._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,u;this.width&&(d=this.x,u=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),h.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(y=>this.editorDiv?.setAttribute("aria-label",y)),h.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(y=>this.editorDiv?.setAttribute("default-content",y)),this.editorDiv.contentEditable=!0;const{style:c}=this.editorDiv;if(c.fontSize=`calc(${this.#l}px * var(--scale-factor))`,c.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,l.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[y,x]=this.parentDimensions;if(this.annotationElementId){const{position:m}=this.#u;let[S,k]=this.getInitialTranslation();[S,k]=this.pageTranslationToScreen(S,k);const[E,I]=this.pageDimensions,[L,z]=this.pageTranslation;let j,F;switch(this.rotation){case 0:j=d+(m[0]-L)/E,F=u+this.height-(m[1]-z)/I;break;case 90:j=d+(m[0]-L)/E,F=u-(m[1]-z)/I,[S,k]=[k,-S];break;case 180:j=d-this.width+(m[0]-L)/E,F=u-(m[1]-z)/I,[S,k]=[-S,-k];break;case 270:j=d+(m[0]-L-this.height*I)/E,F=u+(m[1]-z-this.width*E)/I,[S,k]=[-k,S];break}this.setAt(j*y,F*x,S,k)}else this.setAt(d*y,u*x,this.width*y,this.height*x);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#f(){if(this.editorDiv.replaceChildren(),!!this.#o)for(const d of this.#o.split(`
`)){const u=document.createElement("div");u.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(u)}}get contentDiv(){return this.editorDiv}static deserialize(d,u,c){let y=null;if(d instanceof p.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:m,fontColor:S},rect:k,rotation:E,id:I},textContent:L,textPosition:z,parent:{page:{pageNumber:j}}}=d;if(!L||L.length===0)return null;y=d={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(S),fontSize:m,value:L.join(`
`),position:z,pageIndex:j-1,rect:k,rotation:E,id:I,deleted:!1}}const x=super.deserialize(d,u,c);return x.#l=d.fontSize,x.#a=o.Util.makeHexColor(...d.color),x.#o=d.value,x.annotationElementId=d.id||null,x.#u=y,x}serialize(d=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const u=g._internalPadding*this.parentScale,c=this.getRect(u,u),y=h.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),x={annotationType:o.AnnotationEditorType.FREETEXT,color:y,fontSize:this.#l,value:this.#o,pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return d?x:this.annotationElementId&&!this.#x(x)?null:(x.id=this.annotationElementId,x)}#x(d){const{value:u,fontSize:c,color:y,rect:x,pageIndex:m}=this.#u;return d.value!==u||d.fontSize!==c||d.rect.some((S,k)=>Math.abs(S-x[k])>=1)||d.color.some((S,k)=>S!==y[k])||d.pageIndex!==m}#g(d=!1){if(!this.annotationElementId)return;if(this.#h(),!d&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const u=g._internalPadding*this.parentScale;this.#u.rect=this.getRect(u,u)}}i.FreeTextEditor=g},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=s(1),l=s(6),h=s(3),p=s(30),g=s(31),w=s(32);const d=1e3,u=9,c=new WeakSet;function y(B){return{width:B[2]-B[0],height:B[3]-B[1]}}class x{static create(A){switch(A.data.annotationType){case o.AnnotationType.LINK:return new S(A);case o.AnnotationType.TEXT:return new k(A);case o.AnnotationType.WIDGET:switch(A.data.fieldType){case"Tx":return new I(A);case"Btn":return A.data.radioButton?new j(A):A.data.checkBox?new z(A):new F(A);case"Ch":return new V(A);case"Sig":return new L(A)}return new E(A);case o.AnnotationType.POPUP:return new H(A);case o.AnnotationType.FREETEXT:return new q(A);case o.AnnotationType.LINE:return new Q(A);case o.AnnotationType.SQUARE:return new ie(A);case o.AnnotationType.CIRCLE:return new te(A);case o.AnnotationType.POLYLINE:return new ne(A);case o.AnnotationType.CARET:return new ae(A);case o.AnnotationType.INK:return new G(A);case o.AnnotationType.POLYGON:return new he(A);case o.AnnotationType.HIGHLIGHT:return new P(A);case o.AnnotationType.UNDERLINE:return new T(A);case o.AnnotationType.SQUIGGLY:return new v(A);case o.AnnotationType.STRIKEOUT:return new C(A);case o.AnnotationType.STAMP:return new N(A);case o.AnnotationType.FILEATTACHMENT:return new R(A);default:return new m(A)}}}class m{#e=!1;constructor(A,{isRenderable:M=!1,ignoreBorder:D=!1,createQuadrilaterals:U=!1}={}){this.isRenderable=M,this.data=A.data,this.layer=A.layer,this.linkService=A.linkService,this.downloadManager=A.downloadManager,this.imageResourcesPath=A.imageResourcesPath,this.renderForms=A.renderForms,this.svgFactory=A.svgFactory,this.annotationStorage=A.annotationStorage,this.enableScripting=A.enableScripting,this.hasJSActions=A.hasJSActions,this._fieldObjects=A.fieldObjects,this.parent=A.parent,M&&(this.container=this._createContainer(D)),U&&this._createQuadrilaterals()}static _hasPopupData({titleObj:A,contentsObj:M,richText:D}){return!!(A?.str||M?.str||D?.str)}get hasPopupData(){return m._hasPopupData(this.data)}_createContainer(A){const{data:M,parent:{page:D,viewport:U}}=this,$=document.createElement("section");$.setAttribute("data-annotation-id",M.id),this instanceof E||($.tabIndex=d),$.style.zIndex=this.parent.zIndex++,this.data.popupRef&&$.setAttribute("aria-haspopup","dialog"),M.noRotate&&$.classList.add("norotate");const{pageWidth:K,pageHeight:J,pageX:ue,pageY:Ae}=U.rawDims;if(!M.rect||this instanceof H){const{rotation:ye}=M;return!M.hasOwnCanvas&&ye!==0&&this.setRotation(ye,$),$}const{width:ce,height:fe}=y(M.rect),me=o.Util.normalizeRect([M.rect[0],D.view[3]-M.rect[1]+D.view[1],M.rect[2],D.view[3]-M.rect[3]+D.view[1]]);if(!A&&M.borderStyle.width>0){$.style.borderWidth=`${M.borderStyle.width}px`;const ye=M.borderStyle.horizontalCornerRadius,_e=M.borderStyle.verticalCornerRadius;if(ye>0||_e>0){const Ie=`calc(${ye}px * var(--scale-factor)) / calc(${_e}px * var(--scale-factor))`;$.style.borderRadius=Ie}else if(this instanceof j){const Ie=`calc(${ce}px * var(--scale-factor)) / calc(${fe}px * var(--scale-factor))`;$.style.borderRadius=Ie}switch(M.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:$.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:$.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:$.style.borderBottomStyle="solid";break}const Re=M.borderColor||null;Re?(this.#e=!0,$.style.borderColor=o.Util.makeHexColor(Re[0]|0,Re[1]|0,Re[2]|0)):$.style.borderWidth=0}$.style.left=`${100*(me[0]-ue)/K}%`,$.style.top=`${100*(me[1]-Ae)/J}%`;const{rotation:ge}=M;return M.hasOwnCanvas||ge===0?($.style.width=`${100*ce/K}%`,$.style.height=`${100*fe/J}%`):this.setRotation(ge,$),$}setRotation(A,M=this.container){if(!this.data.rect)return;const{pageWidth:D,pageHeight:U}=this.parent.viewport.rawDims,{width:$,height:K}=y(this.data.rect);let J,ue;A%180===0?(J=100*$/D,ue=100*K/U):(J=100*K/D,ue=100*$/U),M.style.width=`${J}%`,M.style.height=`${ue}%`,M.setAttribute("data-main-rotation",(360-A)%360)}get _commonActions(){const A=(M,D,U)=>{const $=U.detail[M],K=$[0],J=$.slice(1);U.target.style[D]=p.ColorConverters[`${K}_HTML`](J),this.annotationStorage.setValue(this.data.id,{[D]:p.ColorConverters[`${K}_rgb`](J)})};return(0,o.shadow)(this,"_commonActions",{display:M=>{const{display:D}=M.detail,U=D%2===1;this.container.style.visibility=U?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:U,noPrint:D===1||D===2})},print:M=>{this.annotationStorage.setValue(this.data.id,{noPrint:!M.detail.print})},hidden:M=>{const{hidden:D}=M.detail;this.container.style.visibility=D?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:D,noView:D})},focus:M=>{setTimeout(()=>M.target.focus({preventScroll:!1}),0)},userName:M=>{M.target.title=M.detail.userName},readonly:M=>{M.target.disabled=M.detail.readonly},required:M=>{this._setRequired(M.target,M.detail.required)},bgColor:M=>{A("bgColor","backgroundColor",M)},fillColor:M=>{A("fillColor","backgroundColor",M)},fgColor:M=>{A("fgColor","color",M)},textColor:M=>{A("textColor","color",M)},borderColor:M=>{A("borderColor","borderColor",M)},strokeColor:M=>{A("strokeColor","borderColor",M)},rotation:M=>{const D=M.detail.rotation;this.setRotation(D),this.annotationStorage.setValue(this.data.id,{rotation:D})}})}_dispatchEventFromSandbox(A,M){const D=this._commonActions;for(const U of Object.keys(M.detail))(A[U]||D[U])?.(M)}_setDefaultPropertiesFromJS(A){if(!this.enableScripting)return;const M=this.annotationStorage.getRawValue(this.data.id);if(!M)return;const D=this._commonActions;for(const[U,$]of Object.entries(M)){const K=D[U];if(K){const J={detail:{[U]:$},target:A};K(J),delete M[U]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:A}=this.data;if(!A)return;const[M,D,U,$]=this.data.rect;if(A.length===1){const[,{x:_e,y:Re},{x:Ie,y:Ne}]=A[0];if(U===_e&&$===Re&&M===Ie&&D===Ne)return}const{style:K}=this.container;let J;if(this.#e){const{borderColor:_e,borderWidth:Re}=K;K.borderWidth=0,J=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_e}" stroke-width="${Re}">`],this.container.classList.add("hasBorder")}const ue=U-M,Ae=$-D,{svgFactory:ce}=this,fe=ce.createElement("svg");fe.classList.add("quadrilateralsContainer"),fe.setAttribute("width",0),fe.setAttribute("height",0);const me=ce.createElement("defs");fe.append(me);const ge=ce.createElement("clipPath"),ye=`clippath_${this.data.id}`;ge.setAttribute("id",ye),ge.setAttribute("clipPathUnits","objectBoundingBox"),me.append(ge);for(const[,{x:_e,y:Re},{x:Ie,y:Ne}]of A){const Be=ce.createElement("rect"),$e=(Ie-M)/ue,ut=($-Re)/Ae,pe=(_e-Ie)/ue,Ee=(Re-Ne)/Ae;Be.setAttribute("x",$e),Be.setAttribute("y",ut),Be.setAttribute("width",pe),Be.setAttribute("height",Ee),ge.append(Be),J?.push(`<rect vector-effect="non-scaling-stroke" x="${$e}" y="${ut}" width="${pe}" height="${Ee}"/>`)}this.#e&&(J.push("</g></svg>')"),K.backgroundImage=J.join("")),this.container.append(fe),this.container.style.clipPath=`url(#${ye})`}_createPopup(){const{container:A,data:M}=this;A.setAttribute("aria-haspopup","dialog");const D=new H({data:{color:M.color,titleObj:M.titleObj,modificationDate:M.modificationDate,contentsObj:M.contentsObj,richText:M.richText,parentRect:M.rect,borderStyle:0,id:`popup_${M.id}`,rotation:M.rotation},parent:this.parent,elements:[this]});this.parent.div.append(D.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(A,M=null){const D=[];if(this._fieldObjects){const U=this._fieldObjects[A];if(U)for(const{page:$,id:K,exportValues:J}of U){if($===-1||K===M)continue;const ue=typeof J=="string"?J:null,Ae=document.querySelector(`[data-element-id="${K}"]`);if(Ae&&!c.has(Ae)){(0,o.warn)(`_getElementsByName - element not allowed: ${K}`);continue}D.push({id:K,exportValue:ue,domElement:Ae})}return D}for(const U of document.getElementsByName(A)){const{exportValue:$}=U,K=U.getAttribute("data-element-id");K!==M&&c.has(U)&&D.push({id:K,exportValue:$,domElement:U})}return D}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const A=this.getElementsToTriggerPopup();if(Array.isArray(A))for(const M of A)M.classList.add("highlightArea");else A.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:A,data:{id:M}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:A,editId:M})})}}class S extends m{constructor(A,M=null){super(A,{isRenderable:!0,ignoreBorder:!!M?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=A.data.isTooltipOnly}render(){const{data:A,linkService:M}=this,D=document.createElement("a");D.setAttribute("data-element-id",A.id);let U=!1;return A.url?(M.addLinkAttributes(D,A.url,A.newWindow),U=!0):A.action?(this._bindNamedAction(D,A.action),U=!0):A.attachment?(this._bindAttachment(D,A.attachment),U=!0):A.setOCGState?(this.#t(D,A.setOCGState),U=!0):A.dest?(this._bindLink(D,A.dest),U=!0):(A.actions&&(A.actions.Action||A.actions["Mouse Up"]||A.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(D,A),U=!0),A.resetForm?(this._bindResetFormAction(D,A.resetForm),U=!0):this.isTooltipOnly&&!U&&(this._bindLink(D,""),U=!0)),this.container.classList.add("linkAnnotation"),U&&this.container.append(D),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(A,M){A.href=this.linkService.getDestinationHash(M),A.onclick=()=>(M&&this.linkService.goToDestination(M),!1),(M||M==="")&&this.#e()}_bindNamedAction(A,M){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeNamedAction(M),!1),this.#e()}_bindAttachment(A,M){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,M.content,M.filename),!1),this.#e()}#t(A,M){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeSetOCGState(M),!1),this.#e()}_bindJSAction(A,M){A.href=this.linkService.getAnchorUrl("");const D=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const U of Object.keys(M.actions)){const $=D.get(U);$&&(A[$]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M.id,name:U}}),!1))}A.onclick||(A.onclick=()=>!1),this.#e()}_bindResetFormAction(A,M){const D=A.onclick;if(D||(A.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),D||(A.onclick=()=>!1);return}A.onclick=()=>{D?.();const{fields:U,refs:$,include:K}=M,J=[];if(U.length!==0||$.length!==0){const ce=new Set($);for(const fe of U){const me=this._fieldObjects[fe]||[];for(const{id:ge}of me)ce.add(ge)}for(const fe of Object.values(this._fieldObjects))for(const me of fe)ce.has(me.id)===K&&J.push(me)}else for(const ce of Object.values(this._fieldObjects))J.push(...ce);const ue=this.annotationStorage,Ae=[];for(const ce of J){const{id:fe}=ce;switch(Ae.push(fe),ce.type){case"text":{const ge=ce.defaultValue||"";ue.setValue(fe,{value:ge});break}case"checkbox":case"radiobutton":{const ge=ce.defaultValue===ce.exportValues;ue.setValue(fe,{value:ge});break}case"combobox":case"listbox":{const ge=ce.defaultValue||"";ue.setValue(fe,{value:ge});break}default:continue}const me=document.querySelector(`[data-element-id="${fe}"]`);if(me){if(!c.has(me)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${fe}`);continue}}else continue;me.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ae,name:"ResetForm"}}),!1}}}class k extends m{constructor(A){super(A,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const A=document.createElement("img");return A.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",A.alt="[{{type}} Annotation]",A.dataset.l10nId="text_annotation_type",A.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(A),this.container}}class E extends m{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(A){this.data.hasOwnCanvas&&(A.previousSibling?.nodeName==="CANVAS"&&(A.previousSibling.hidden=!0),A.hidden=!1)}_getKeyModifier(A){const{isWin:M,isMac:D}=o.FeatureTest.platform;return M&&A.ctrlKey||D&&A.metaKey}_setEventListener(A,M,D,U,$){D.includes("mouse")?A.addEventListener(D,K=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:U,value:$(K),shift:K.shiftKey,modifier:this._getKeyModifier(K)}})}):A.addEventListener(D,K=>{if(D==="blur"){if(!M.focused||!K.relatedTarget)return;M.focused=!1}else if(D==="focus"){if(M.focused)return;M.focused=!0}$&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:U,value:$(K)}})})}_setEventListeners(A,M,D,U){for(const[$,K]of D)(K==="Action"||this.data.actions?.[K])&&((K==="Focus"||K==="Blur")&&(M||={focused:!1}),this._setEventListener(A,M,$,K,U),K==="Focus"&&!this.data.actions?.Blur?this._setEventListener(A,M,"blur","Blur",null):K==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(A,M,"focus","Focus",null))}_setBackgroundColor(A){const M=this.data.backgroundColor||null;A.style.backgroundColor=M===null?"transparent":o.Util.makeHexColor(M[0],M[1],M[2])}_setTextStyle(A){const M=["left","center","right"],{fontColor:D}=this.data.defaultAppearanceData,U=this.data.defaultAppearanceData.fontSize||u,$=A.style;let K;const J=2,ue=Ae=>Math.round(10*Ae)/10;if(this.data.multiLine){const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-J),ce=Math.round(Ae/(o.LINE_FACTOR*U))||1,fe=Ae/ce;K=Math.min(U,ue(fe/o.LINE_FACTOR))}else{const Ae=Math.abs(this.data.rect[3]-this.data.rect[1]-J);K=Math.min(U,ue(Ae/o.LINE_FACTOR))}$.fontSize=`calc(${K}px * var(--scale-factor))`,$.color=o.Util.makeHexColor(D[0],D[1],D[2]),this.data.textAlignment!==null&&($.textAlign=M[this.data.textAlignment])}_setRequired(A,M){M?A.setAttribute("required",!0):A.removeAttribute("required"),A.setAttribute("aria-required",M)}}class I extends E{constructor(A){const M=A.renderForms||!A.data.hasAppearance&&!!A.data.fieldValue;super(A,{isRenderable:M})}setPropertyOnSiblings(A,M,D,U){const $=this.annotationStorage;for(const K of this._getElementsByName(A.name,A.id))K.domElement&&(K.domElement[M]=D),$.setValue(K.id,{[U]:D})}render(){const A=this.annotationStorage,M=this.data.id;this.container.classList.add("textWidgetAnnotation");let D=null;if(this.renderForms){const U=A.getValue(M,{value:this.data.fieldValue});let $=U.value||"";const K=A.getValue(M,{charLimit:this.data.maxLen}).charLimit;K&&$.length>K&&($=$.slice(0,K));let J=U.formattedValue||this.data.textContent?.join(`
`)||null;J&&this.data.comb&&(J=J.replaceAll(/\s+/g,""));const ue={userValue:$,formattedValue:J,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(D=document.createElement("textarea"),D.textContent=J??$,this.data.doNotScroll&&(D.style.overflowY="hidden")):(D=document.createElement("input"),D.type="text",D.setAttribute("value",J??$),this.data.doNotScroll&&(D.style.overflowX="hidden")),this.data.hasOwnCanvas&&(D.hidden=!0),c.add(D),D.setAttribute("data-element-id",M),D.disabled=this.data.readOnly,D.name=this.data.fieldName,D.tabIndex=d,this._setRequired(D,this.data.required),K&&(D.maxLength=K),D.addEventListener("input",ce=>{A.setValue(M,{value:ce.target.value}),this.setPropertyOnSiblings(D,"value",ce.target.value,"value"),ue.formattedValue=null}),D.addEventListener("resetform",ce=>{const fe=this.data.defaultFieldValue??"";D.value=ue.userValue=fe,ue.formattedValue=null});let Ae=ce=>{const{formattedValue:fe}=ue;fe!=null&&(ce.target.value=fe),ce.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){D.addEventListener("focus",fe=>{if(ue.focused)return;const{target:me}=fe;ue.userValue&&(me.value=ue.userValue),ue.lastCommittedValue=me.value,ue.commitKey=1,ue.focused=!0}),D.addEventListener("updatefromsandbox",fe=>{this.showElementAndHideCanvas(fe.target);const me={value(ge){ue.userValue=ge.detail.value??"",A.setValue(M,{value:ue.userValue.toString()}),ge.target.value=ue.userValue},formattedValue(ge){const{formattedValue:ye}=ge.detail;ue.formattedValue=ye,ye!=null&&ge.target!==document.activeElement&&(ge.target.value=ye),A.setValue(M,{formattedValue:ye})},selRange(ge){ge.target.setSelectionRange(...ge.detail.selRange)},charLimit:ge=>{const{charLimit:ye}=ge.detail,{target:_e}=ge;if(ye===0){_e.removeAttribute("maxLength");return}_e.setAttribute("maxLength",ye);let Re=ue.userValue;!Re||Re.length<=ye||(Re=Re.slice(0,ye),_e.value=ue.userValue=Re,A.setValue(M,{value:Re}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Re,willCommit:!0,commitKey:1,selStart:_e.selectionStart,selEnd:_e.selectionEnd}}))}};this._dispatchEventFromSandbox(me,fe)}),D.addEventListener("keydown",fe=>{ue.commitKey=1;let me=-1;if(fe.key==="Escape"?me=0:fe.key==="Enter"&&!this.data.multiLine?me=2:fe.key==="Tab"&&(ue.commitKey=3),me===-1)return;const{value:ge}=fe.target;ue.lastCommittedValue!==ge&&(ue.lastCommittedValue=ge,ue.userValue=ge,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ge,willCommit:!0,commitKey:me,selStart:fe.target.selectionStart,selEnd:fe.target.selectionEnd}}))});const ce=Ae;Ae=null,D.addEventListener("blur",fe=>{if(!ue.focused||!fe.relatedTarget)return;ue.focused=!1;const{value:me}=fe.target;ue.userValue=me,ue.lastCommittedValue!==me&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:me,willCommit:!0,commitKey:ue.commitKey,selStart:fe.target.selectionStart,selEnd:fe.target.selectionEnd}}),ce(fe)}),this.data.actions?.Keystroke&&D.addEventListener("beforeinput",fe=>{ue.lastCommittedValue=null;const{data:me,target:ge}=fe,{value:ye,selectionStart:_e,selectionEnd:Re}=ge;let Ie=_e,Ne=Re;switch(fe.inputType){case"deleteWordBackward":{const Be=ye.substring(0,_e).match(/\w*[^\w]*$/);Be&&(Ie-=Be[0].length);break}case"deleteWordForward":{const Be=ye.substring(_e).match(/^[^\w]*\w*/);Be&&(Ne+=Be[0].length);break}case"deleteContentBackward":_e===Re&&(Ie-=1);break;case"deleteContentForward":_e===Re&&(Ne+=1);break}fe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ye,change:me||"",willCommit:!1,selStart:Ie,selEnd:Ne}})}),this._setEventListeners(D,ue,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],fe=>fe.target.value)}if(Ae&&D.addEventListener("blur",Ae),this.data.comb){const fe=(this.data.rect[2]-this.data.rect[0])/K;D.classList.add("comb"),D.style.letterSpacing=`calc(${fe}px * var(--scale-factor) - 1ch)`}}else D=document.createElement("div"),D.textContent=this.data.fieldValue,D.style.verticalAlign="middle",D.style.display="table-cell";return this._setTextStyle(D),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class L extends E{constructor(A){super(A,{isRenderable:!!A.data.hasOwnCanvas})}}class z extends E{constructor(A){super(A,{isRenderable:A.renderForms})}render(){const A=this.annotationStorage,M=this.data,D=M.id;let U=A.getValue(D,{value:M.exportValue===M.fieldValue}).value;typeof U=="string"&&(U=U!=="Off",A.setValue(D,{value:U})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const $=document.createElement("input");return c.add($),$.setAttribute("data-element-id",D),$.disabled=M.readOnly,this._setRequired($,this.data.required),$.type="checkbox",$.name=M.fieldName,U&&$.setAttribute("checked",!0),$.setAttribute("exportValue",M.exportValue),$.tabIndex=d,$.addEventListener("change",K=>{const{name:J,checked:ue}=K.target;for(const Ae of this._getElementsByName(J,D)){const ce=ue&&Ae.exportValue===M.exportValue;Ae.domElement&&(Ae.domElement.checked=ce),A.setValue(Ae.id,{value:ce})}A.setValue(D,{value:ue})}),$.addEventListener("resetform",K=>{const J=M.defaultFieldValue||"Off";K.target.checked=J===M.exportValue}),this.enableScripting&&this.hasJSActions&&($.addEventListener("updatefromsandbox",K=>{const J={value(ue){ue.target.checked=ue.detail.value!=="Off",A.setValue(D,{value:ue.target.checked})}};this._dispatchEventFromSandbox(J,K)}),this._setEventListeners($,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.checked)),this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class j extends E{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const A=this.annotationStorage,M=this.data,D=M.id;let U=A.getValue(D,{value:M.fieldValue===M.buttonValue}).value;typeof U=="string"&&(U=U!==M.buttonValue,A.setValue(D,{value:U}));const $=document.createElement("input");if(c.add($),$.setAttribute("data-element-id",D),$.disabled=M.readOnly,this._setRequired($,this.data.required),$.type="radio",$.name=M.fieldName,U&&$.setAttribute("checked",!0),$.tabIndex=d,$.addEventListener("change",K=>{const{name:J,checked:ue}=K.target;for(const Ae of this._getElementsByName(J,D))A.setValue(Ae.id,{value:!1});A.setValue(D,{value:ue})}),$.addEventListener("resetform",K=>{const J=M.defaultFieldValue;K.target.checked=J!=null&&J===M.buttonValue}),this.enableScripting&&this.hasJSActions){const K=M.buttonValue;$.addEventListener("updatefromsandbox",J=>{const ue={value:Ae=>{const ce=K===Ae.detail.value;for(const fe of this._getElementsByName(Ae.target.name)){const me=ce&&fe.id===D;fe.domElement&&(fe.domElement.checked=me),A.setValue(fe.id,{value:me})}}};this._dispatchEventFromSandbox(ue,J)}),this._setEventListeners($,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)}return this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class F extends S{constructor(A){super(A,{ignoreBorder:A.data.hasAppearance})}render(){const A=super.render();A.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(A.title=this.data.alternativeText);const M=A.lastChild;return this.enableScripting&&this.hasJSActions&&M&&(this._setDefaultPropertiesFromJS(M),M.addEventListener("updatefromsandbox",D=>{this._dispatchEventFromSandbox({},D)})),A}}class V extends E{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const A=this.annotationStorage,M=this.data.id,D=A.getValue(M,{value:this.data.fieldValue}),U=document.createElement("select");c.add(U),U.setAttribute("data-element-id",M),U.disabled=this.data.readOnly,this._setRequired(U,this.data.required),U.name=this.data.fieldName,U.tabIndex=d;let $=this.data.combo&&this.data.options.length>0;this.data.combo||(U.size=this.data.options.length,this.data.multiSelect&&(U.multiple=!0)),U.addEventListener("resetform",ce=>{const fe=this.data.defaultFieldValue;for(const me of U.options)me.selected=me.value===fe});for(const ce of this.data.options){const fe=document.createElement("option");fe.textContent=ce.displayValue,fe.value=ce.exportValue,D.value.includes(ce.exportValue)&&(fe.setAttribute("selected",!0),$=!1),U.append(fe)}let K=null;if($){const ce=document.createElement("option");ce.value=" ",ce.setAttribute("hidden",!0),ce.setAttribute("selected",!0),U.prepend(ce),K=()=>{ce.remove(),U.removeEventListener("input",K),K=null},U.addEventListener("input",K)}const J=ce=>{const fe=ce?"value":"textContent",{options:me,multiple:ge}=U;return ge?Array.prototype.filter.call(me,ye=>ye.selected).map(ye=>ye[fe]):me.selectedIndex===-1?null:me[me.selectedIndex][fe]};let ue=J(!1);const Ae=ce=>{const fe=ce.target.options;return Array.prototype.map.call(fe,me=>({displayValue:me.textContent,exportValue:me.value}))};return this.enableScripting&&this.hasJSActions?(U.addEventListener("updatefromsandbox",ce=>{const fe={value(me){K?.();const ge=me.detail.value,ye=new Set(Array.isArray(ge)?ge:[ge]);for(const _e of U.options)_e.selected=ye.has(_e.value);A.setValue(M,{value:J(!0)}),ue=J(!1)},multipleSelection(me){U.multiple=!0},remove(me){const ge=U.options,ye=me.detail.remove;ge[ye].selected=!1,U.remove(ye),ge.length>0&&Array.prototype.findIndex.call(ge,Re=>Re.selected)===-1&&(ge[0].selected=!0),A.setValue(M,{value:J(!0),items:Ae(me)}),ue=J(!1)},clear(me){for(;U.length!==0;)U.remove(0);A.setValue(M,{value:null,items:[]}),ue=J(!1)},insert(me){const{index:ge,displayValue:ye,exportValue:_e}=me.detail.insert,Re=U.children[ge],Ie=document.createElement("option");Ie.textContent=ye,Ie.value=_e,Re?Re.before(Ie):U.append(Ie),A.setValue(M,{value:J(!0),items:Ae(me)}),ue=J(!1)},items(me){const{items:ge}=me.detail;for(;U.length!==0;)U.remove(0);for(const ye of ge){const{displayValue:_e,exportValue:Re}=ye,Ie=document.createElement("option");Ie.textContent=_e,Ie.value=Re,U.append(Ie)}U.options.length>0&&(U.options[0].selected=!0),A.setValue(M,{value:J(!0),items:Ae(me)}),ue=J(!1)},indices(me){const ge=new Set(me.detail.indices);for(const ye of me.target.options)ye.selected=ge.has(ye.index);A.setValue(M,{value:J(!0)}),ue=J(!1)},editable(me){me.target.disabled=!me.detail.editable}};this._dispatchEventFromSandbox(fe,ce)}),U.addEventListener("input",ce=>{const fe=J(!0);A.setValue(M,{value:fe}),ce.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ue,changeEx:fe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(U,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ce=>ce.target.value)):U.addEventListener("input",function(ce){A.setValue(M,{value:J(!0)})}),this.data.combo&&this._setTextStyle(U),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class H extends m{constructor(A){const{data:M,elements:D}=A;super(A,{isRenderable:m._hasPopupData(M)}),this.elements=D}render(){this.container.classList.add("popupAnnotation");const A=new X({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),M=[];for(const D of this.elements)D.popup=A,M.push(D.data.id),D.addHighlightArea();return this.container.setAttribute("aria-controls",M.map(D=>`${o.AnnotationPrefix}${D}`).join(",")),this.container}}class X{#e=null;#t=this.#c.bind(this);#n=this.#E.bind(this);#r=this.#S.bind(this);#a=this.#y.bind(this);#o=null;#s=null;#l=null;#u=null;#i=null;#p=null;#d=!1;#h=null;#f=null;#x=null;#g=null;#m=!1;constructor({container:A,color:M,elements:D,titleObj:U,modificationDate:$,contentsObj:K,richText:J,parent:ue,rect:Ae,parentRect:ce,open:fe}){this.#s=A,this.#g=U,this.#l=K,this.#x=J,this.#i=ue,this.#o=M,this.#f=Ae,this.#p=ce,this.#u=D;const me=l.PDFDateString.toDateObject($);me&&(this.#e=ue.l10n.get("annotation_date_string",{date:me.toLocaleDateString(),time:me.toLocaleTimeString()})),this.trigger=D.flatMap(ge=>ge.getElementsToTriggerPopup());for(const ge of this.trigger)ge.addEventListener("click",this.#a),ge.addEventListener("mouseenter",this.#r),ge.addEventListener("mouseleave",this.#n),ge.classList.add("popupTriggerArea");for(const ge of D)ge.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,fe&&this.#y()}render(){if(this.#h)return;const{page:{view:A},viewport:{rawDims:{pageWidth:M,pageHeight:D,pageX:U,pageY:$}}}=this.#i,K=this.#h=document.createElement("div");if(K.className="popup",this.#o){const Be=K.style.outlineColor=o.Util.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?K.style.backgroundColor=`color-mix(in srgb, ${Be} 30%, white)`:K.style.backgroundColor=o.Util.makeHexColor(...this.#o.map(ut=>Math.floor(.7*(255-ut)+ut)))}const J=document.createElement("span");J.className="header";const ue=document.createElement("h1");if(J.append(ue),{dir:ue.dir,str:ue.textContent}=this.#g,K.append(J),this.#e){const Be=document.createElement("span");Be.classList.add("popupDate"),this.#e.then($e=>{Be.textContent=$e}),J.append(Be)}const Ae=this.#l,ce=this.#x;if(ce?.str&&(!Ae?.str||Ae.str===ce.str))w.XfaLayer.render({xfaHtml:ce.html,intent:"richText",div:K}),K.lastChild.classList.add("richText","popupContent");else{const Be=this._formatContents(Ae);K.append(Be)}let fe=!!this.#p,me=fe?this.#p:this.#f;for(const Be of this.#u)if(!me||o.Util.intersect(Be.data.rect,me)!==null){me=Be.data.rect,fe=!0;break}const ge=o.Util.normalizeRect([me[0],A[3]-me[1]+A[1],me[2],A[3]-me[3]+A[1]]),_e=fe?me[2]-me[0]+5:0,Re=ge[0]+_e,Ie=ge[1],{style:Ne}=this.#s;Ne.left=`${100*(Re-U)/M}%`,Ne.top=`${100*(Ie-$)/D}%`,this.#s.append(K)}_formatContents({str:A,dir:M}){const D=document.createElement("p");D.classList.add("popupContent"),D.dir=M;const U=A.split(/(?:\r\n?|\n)/);for(let $=0,K=U.length;$<K;++$){const J=U[$];D.append(document.createTextNode(J)),$<K-1&&D.append(document.createElement("br"))}return D}#c(A){A.altKey||A.shiftKey||A.ctrlKey||A.metaKey||(A.key==="Enter"||A.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#S(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#t)):(this.#E(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#t))}#S(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#E(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#s.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class q extends m{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.textContent=A.data.textContent,this.textPosition=A.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const A=document.createElement("div");A.classList.add("annotationTextContent"),A.setAttribute("role","comment");for(const M of this.textContent){const D=document.createElement("span");D.textContent=M,A.append(D)}this.container.append(A)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=q;class Q extends m{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const A=this.data,{width:M,height:D}=y(A.rect),U=this.svgFactory.create(M,D,!0),$=this.#e=this.svgFactory.createElement("svg:line");return $.setAttribute("x1",A.rect[2]-A.lineCoordinates[0]),$.setAttribute("y1",A.rect[3]-A.lineCoordinates[1]),$.setAttribute("x2",A.rect[2]-A.lineCoordinates[2]),$.setAttribute("y2",A.rect[3]-A.lineCoordinates[3]),$.setAttribute("stroke-width",A.borderStyle.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),U.append($),this.container.append(U),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ie extends m{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const A=this.data,{width:M,height:D}=y(A.rect),U=this.svgFactory.create(M,D,!0),$=A.borderStyle.width,K=this.#e=this.svgFactory.createElement("svg:rect");return K.setAttribute("x",$/2),K.setAttribute("y",$/2),K.setAttribute("width",M-$),K.setAttribute("height",D-$),K.setAttribute("stroke-width",$||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),U.append(K),this.container.append(U),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class te extends m{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const A=this.data,{width:M,height:D}=y(A.rect),U=this.svgFactory.create(M,D,!0),$=A.borderStyle.width,K=this.#e=this.svgFactory.createElement("svg:ellipse");return K.setAttribute("cx",M/2),K.setAttribute("cy",D/2),K.setAttribute("rx",M/2-$/2),K.setAttribute("ry",D/2-$/2),K.setAttribute("stroke-width",$||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),U.append(K),this.container.append(U),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ne extends m{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const A=this.data,{width:M,height:D}=y(A.rect),U=this.svgFactory.create(M,D,!0);let $=[];for(const J of A.vertices){const ue=J.x-A.rect[0],Ae=A.rect[3]-J.y;$.push(ue+","+Ae)}$=$.join(" ");const K=this.#e=this.svgFactory.createElement(this.svgElementName);return K.setAttribute("points",$),K.setAttribute("stroke-width",A.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),U.append(K),this.container.append(U),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends ne{constructor(A){super(A),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ae extends m{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class G extends m{#e=[];constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const A=this.data,{width:M,height:D}=y(A.rect),U=this.svgFactory.create(M,D,!0);for(const $ of A.inkLists){let K=[];for(const ue of $){const Ae=ue.x-A.rect[0],ce=A.rect[3]-ue.y;K.push(`${Ae},${ce}`)}K=K.join(" ");const J=this.svgFactory.createElement(this.svgElementName);this.#e.push(J),J.setAttribute("points",K),J.setAttribute("stroke-width",A.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),!A.popupRef&&this.hasPopupData&&this._createPopup(),U.append(J)}return this.container.append(U),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}i.InkAnnotationElement=G;class P extends m{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class T extends m{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class v extends m{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class C extends m{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class N extends m{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=N;class R extends m{#e=null;constructor(A){super(A,{isRenderable:!0});const{filename:M,content:D}=this.data.file;this.filename=(0,l.getFilenameFromUrl)(M,!0),this.content=D,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:M,content:D})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:A,data:M}=this;let D;M.hasAppearance||M.fillAlpha===0?D=document.createElement("div"):(D=document.createElement("img"),D.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(M.name)?"paperclip":"pushpin"}.svg`,M.fillAlpha&&M.fillAlpha<1&&(D.style=`filter: opacity(${Math.round(M.fillAlpha*100)}%);`)),D.addEventListener("dblclick",this.#t.bind(this)),this.#e=D;const{isMac:U}=o.FeatureTest.platform;return A.addEventListener("keydown",$=>{$.key==="Enter"&&(U?$.metaKey:$.ctrlKey)&&this.#t()}),!M.popupRef&&this.hasPopupData?this._createPopup():D.classList.add("popupTriggerArea"),A.append(D),A}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class W{#e=null;#t=null;#n=new Map;constructor({div:A,accessibilityManager:M,annotationCanvasMap:D,l10n:U,page:$,viewport:K}){this.div=A,this.#e=M,this.#t=D,this.l10n=U,this.page=$,this.viewport=K,this.zIndex=0,this.l10n||=g.NullL10n}#r(A,M){const D=A.firstChild||A;D.id=`${o.AnnotationPrefix}${M}`,this.div.append(A),this.#e?.moveElementInDOM(this.div,A,D,!1)}async render(A){const{annotations:M}=A,D=this.div;(0,l.setLayerDimensions)(D,this.viewport);const U=new Map,$={data:null,layer:D,linkService:A.linkService,downloadManager:A.downloadManager,imageResourcesPath:A.imageResourcesPath||"",renderForms:A.renderForms!==!1,svgFactory:new l.DOMSVGFactory,annotationStorage:A.annotationStorage||new h.AnnotationStorage,enableScripting:A.enableScripting===!0,hasJSActions:A.hasJSActions,fieldObjects:A.fieldObjects,parent:this,elements:null};for(const K of M){if(K.noHTML)continue;const J=K.annotationType===o.AnnotationType.POPUP;if(J){const ce=U.get(K.id);if(!ce)continue;$.elements=ce}else{const{width:ce,height:fe}=y(K.rect);if(ce<=0||fe<=0)continue}$.data=K;const ue=x.create($);if(!ue.isRenderable)continue;if(!J&&K.popupRef){const ce=U.get(K.popupRef);ce?ce.push(ue):U.set(K.popupRef,[ue])}ue.annotationEditorType>0&&this.#n.set(ue.data.id,ue);const Ae=ue.render();K.hidden&&(Ae.style.visibility="hidden"),this.#r(Ae,K.id)}this.#a(),await this.l10n.translate(D)}update({viewport:A}){const M=this.div;this.viewport=A,(0,l.setLayerDimensions)(M,{rotation:A.rotation}),this.#a(),M.hidden=!1}#a(){if(!this.#t)return;const A=this.div;for(const[M,D]of this.#t){const U=A.querySelector(`[data-annotation-id="${M}"]`);if(!U)continue;const{firstChild:$}=U;$?$.nodeName==="CANVAS"?$.replaceWith(D):$.before(D):U.append(D)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(A){return this.#n.get(A)}}i.AnnotationLayer=W},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function o(h){return Math.max(0,Math.min(255,255*h))}class l{static CMYK_G([p,g,w,d]){return["G",1-Math.min(1,.3*p+.59*w+.11*g+d)]}static G_CMYK([p]){return["CMYK",0,0,0,1-p]}static G_RGB([p]){return["RGB",p,p,p]}static G_rgb([p]){return p=o(p),[p,p,p]}static G_HTML([p]){const g=s(p);return`#${g}${g}${g}`}static RGB_G([p,g,w]){return["G",.3*p+.59*g+.11*w]}static RGB_rgb(p){return p.map(o)}static RGB_HTML(p){return`#${p.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([p,g,w,d]){return["RGB",1-Math.min(1,p+d),1-Math.min(1,w+d),1-Math.min(1,g+d)]}static CMYK_rgb([p,g,w,d]){return[o(1-Math.min(1,p+d)),o(1-Math.min(1,w+d)),o(1-Math.min(1,g+d))]}static CMYK_HTML(p){const g=this.CMYK_RGB(p).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([p,g,w]){const d=1-p,u=1-g,c=1-w,y=Math.min(d,u,c);return["CMYK",d,u,c,y]}}i.ColorConverters=l},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(p,g){switch(p){case"find_match_count":p=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":p=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return s[p]||""}function l(p,g){return g?p.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(w,d)=>d in g?g[d]:"{{"+d+"}}"):p}const h={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(p,g=null,w=o(p,g)){return l(w,g)},async translate(p){}};i.NullL10n=h},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(25);class l{static setupStorage(p,g,w,d,u){const c=d.getValue(g,{value:null});switch(w.name){case"textarea":if(c.value!==null&&(p.textContent=c.value),u==="print")break;p.addEventListener("input",y=>{d.setValue(g,{value:y.target.value})});break;case"input":if(w.attributes.type==="radio"||w.attributes.type==="checkbox"){if(c.value===w.attributes.xfaOn?p.setAttribute("checked",!0):c.value===w.attributes.xfaOff&&p.removeAttribute("checked"),u==="print")break;p.addEventListener("change",y=>{d.setValue(g,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&p.setAttribute("value",c.value),u==="print")break;p.addEventListener("input",y=>{d.setValue(g,{value:y.target.value})})}break;case"select":if(c.value!==null){p.setAttribute("value",c.value);for(const y of w.children)y.attributes.value===c.value?y.attributes.selected=!0:y.attributes.hasOwnProperty("selected")&&delete y.attributes.selected}p.addEventListener("input",y=>{const x=y.target.options,m=x.selectedIndex===-1?"":x[x.selectedIndex].value;d.setValue(g,{value:m})});break}}static setAttributes({html:p,element:g,storage:w=null,intent:d,linkService:u}){const{attributes:c}=g,y=p instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${d}`);for(const[x,m]of Object.entries(c))if(m!=null)switch(x){case"class":m.length&&p.setAttribute(x,m.join(" "));break;case"dataId":break;case"id":p.setAttribute("data-element-id",m);break;case"style":Object.assign(p.style,m);break;case"textContent":p.textContent=m;break;default:(!y||x!=="href"&&x!=="newWindow")&&p.setAttribute(x,m)}y&&u.addLinkAttributes(p,c.href,c.newWindow),w&&c.dataId&&this.setupStorage(p,c.dataId,g,w)}static render(p){const g=p.annotationStorage,w=p.linkService,d=p.xfaHtml,u=p.intent||"display",c=document.createElement(d.name);d.attributes&&this.setAttributes({html:c,element:d,intent:u,linkService:w});const y=[[d,-1,c]],x=p.div;if(x.append(c),p.viewport){const S=`matrix(${p.viewport.transform.join(",")})`;x.style.transform=S}u!=="richText"&&x.setAttribute("class","xfaLayer xfaFont");const m=[];for(;y.length>0;){const[S,k,E]=y.at(-1);if(k+1===S.children.length){y.pop();continue}const I=S.children[++y.at(-1)[1]];if(I===null)continue;const{name:L}=I;if(L==="#text"){const j=document.createTextNode(I.value);m.push(j),E.append(j);continue}const z=I?.attributes?.xmlns?document.createElementNS(I.attributes.xmlns,L):document.createElement(L);if(E.append(z),I.attributes&&this.setAttributes({html:z,element:I,storage:g,intent:u,linkService:w}),I.children&&I.children.length>0)y.push([I,-1,z]);else if(I.value){const j=document.createTextNode(I.value);o.XfaText.shouldBuildText(L)&&m.push(j),z.append(j)}}for(const S of x.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:m}}static update(p){const g=`matrix(${p.viewport.transform.join(",")})`;p.div.style.transform=g,p.div.hidden=!1}}i.XfaLayer=l},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=s(1),l=s(4),h=s(29),p=s(6),g=s(5);class w extends l.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#u=!1;#i=!1;#p=null;#d=0;#h=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(u){super({...u,name:"inkEditor"}),this.color=u.color||null,this.thickness=u.thickness||null,this.opacity=u.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(u){l.AnnotationEditor.initialize(u,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(u,c){switch(u){case o.AnnotationEditorParamsType.INK_THICKNESS:w._defaultThickness=c;break;case o.AnnotationEditorParamsType.INK_COLOR:w._defaultColor=c;break;case o.AnnotationEditorParamsType.INK_OPACITY:w._defaultOpacity=c/100;break}}updateParams(u,c){switch(u){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#x(c);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#g(c);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#m(c);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,w._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,w._defaultColor||l.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(w._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||w._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||w._defaultColor||l.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??w._defaultOpacity))]]}#x(u){const c=this.thickness;this.addCommands({cmd:()=>{this.thickness=u,this.#A()},undo:()=>{this.thickness=c,this.#A()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(u){const c=this.color;this.addCommands({cmd:()=>{this.color=u,this.#v()},undo:()=>{this.color=c,this.#v()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(u){u/=100;const c=this.opacity;this.addCommands({cmd:()=>{this.opacity=u,this.#v()},undo:()=>{this.opacity=c,this.#v()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#T(),this.#P()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#A()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#p.disconnect(),this.#p=null,super.remove())}setParent(u){!this.parent&&u?this._uiManager.removeShouldRescale(this):this.parent&&u===null&&this._uiManager.addShouldRescale(this),super.setParent(u)}onScaleChanging(){const[u,c]=this.parentDimensions,y=this.width*u,x=this.height*c;this.setDimensions(y,x)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#o))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#c(){const{parentRotation:u,parentDimensions:[c,y]}=this;switch(u){case 90:return[0,y,y,c];case 180:return[c,y,c,y];case 270:return[c,0,y,c];default:return[0,0,c,y]}}#y(){const{ctx:u,color:c,opacity:y,thickness:x,parentScale:m,scaleFactor:S}=this;u.lineWidth=x*m/S,u.lineCap="round",u.lineJoin="round",u.miterLimit=10,u.strokeStyle=`${c}${(0,g.opacityToHex)(y)}`}#S(u,c){this.canvas.addEventListener("contextmenu",p.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#o),this.isEditing=!0,this.#i||(this.#i=!0,this.#b(),this.thickness||=w._defaultThickness,this.color||=w._defaultColor||l.AnnotationEditor._defaultLineColor,this.opacity??=w._defaultOpacity),this.currentPath.push([u,c]),this.#u=!1,this.#y(),this.#f=()=>{this.#I(),this.#f&&window.requestAnimationFrame(this.#f)},window.requestAnimationFrame(this.#f)}#E(u,c){const[y,x]=this.currentPath.at(-1);if(this.currentPath.length>1&&u===y&&c===x)return;const m=this.currentPath;let S=this.#s;if(m.push([u,c]),this.#u=!0,m.length<=2){S.moveTo(...m[0]),S.lineTo(u,c);return}m.length===3&&(this.#s=S=new Path2D,S.moveTo(...m[0])),this.#L(S,...m.at(-3),...m.at(-2),u,c)}#_(){if(this.currentPath.length===0)return;const u=this.currentPath.at(-1);this.#s.lineTo(...u)}#R(u,c){this.#f=null,u=Math.min(Math.max(u,0),this.canvas.width),c=Math.min(Math.max(c,0),this.canvas.height),this.#E(u,c),this.#_();let y;if(this.currentPath.length!==1)y=this.#D();else{const E=[u,c];y=[[E,E.slice(),E.slice(),E]]}const x=this.#s,m=this.currentPath;this.currentPath=[],this.#s=new Path2D;const S=()=>{this.allRawPaths.push(m),this.paths.push(y),this.bezierPath2D.push(x),this.rebuild()},k=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#T(),this.#P()),this.#A())};this.addCommands({cmd:S,undo:k,mustExec:!0})}#I(){if(!this.#u)return;this.#u=!1;const u=Math.ceil(this.thickness*this.parentScale),c=this.currentPath.slice(-3),y=c.map(S=>S[0]),x=c.map(S=>S[1]);Math.min(...y)-u,Math.max(...y)+u,Math.min(...x)-u,Math.max(...x)+u;const{ctx:m}=this;m.save(),m.clearRect(0,0,this.canvas.width,this.canvas.height);for(const S of this.bezierPath2D)m.stroke(S);m.stroke(this.#s),m.restore()}#L(u,c,y,x,m,S,k){const E=(c+x)/2,I=(y+m)/2,L=(x+S)/2,z=(m+k)/2;u.bezierCurveTo(E+2*(x-E)/3,I+2*(m-I)/3,L+2*(x-L)/3,z+2*(m-z)/3,L,z)}#D(){const u=this.currentPath;if(u.length<=2)return[[u[0],u[0],u.at(-1),u.at(-1)]];const c=[];let y,[x,m]=u[0];for(y=1;y<u.length-2;y++){const[j,F]=u[y],[V,H]=u[y+1],X=(j+V)/2,q=(F+H)/2,Q=[x+2*(j-x)/3,m+2*(F-m)/3],ie=[X+2*(j-X)/3,q+2*(F-q)/3];c.push([[x,m],Q,ie,[X,q]]),[x,m]=[X,q]}const[S,k]=u[y],[E,I]=u[y+1],L=[x+2*(S-x)/3,m+2*(k-m)/3],z=[E+2*(S-E)/3,I+2*(k-I)/3];return c.push([[x,m],L,z,[E,I]]),c}#v(){if(this.isEmpty()){this.#k();return}this.#y();const{canvas:u,ctx:c}=this;c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,u.width,u.height),this.#k();for(const y of this.bezierPath2D)c.stroke(y)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#A(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),this.enableEditMode())}canvasPointerdown(u){u.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),u.preventDefault(),u.type!=="mouse"&&this.div.focus(),this.#S(u.offsetX,u.offsetY))}canvasPointermove(u){u.preventDefault(),this.#E(u.offsetX,u.offsetY)}canvasPointerup(u){u.preventDefault(),this.#M(u)}canvasPointerleave(u){this.#M(u)}#M(u){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#o),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",p.noContextMenu)},10),this.#R(u.offsetX,u.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#T(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(u=>this.canvas?.setAttribute("aria-label",u)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#P(){this.#p=new ResizeObserver(u=>{const c=u[0].contentRect;c.width&&c.height&&this.setDimensions(c.width,c.height)}),this.#p.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let u,c;this.width&&(u=this.x,c=this.y),super.render(),l.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(k=>this.div?.setAttribute("aria-label",k));const[y,x,m,S]=this.#c();if(this.setAt(y,x,0,0),this.setDims(m,S),this.#T(),this.width){const[k,E]=this.parentDimensions;this.setAspectRatio(this.width*k,this.height*E),this.setAt(u*k,c*E,this.width*k,this.height*E),this.#i=!0,this.#b(),this.setDims(this.width*k,this.height*E),this.#v(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#P(),this.div}#b(){if(!this.#i)return;const[u,c]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*u),this.canvas.height=Math.ceil(this.height*c),this.#k()}setDimensions(u,c){const y=Math.round(u),x=Math.round(c);if(this.#d===y&&this.#h===x)return;this.#d=y,this.#h=x,this.canvas.style.visibility="hidden";const[m,S]=this.parentDimensions;this.width=u/m,this.height=c/S,this.fixAndSetPosition(),this.#l&&this.#C(u,c),this.#b(),this.#v(),this.canvas.style.visibility="visible",this.fixDims()}#C(u,c){const y=this.#F(),x=(u-y)/this.#t,m=(c-y)/this.#e;this.scaleFactor=Math.min(x,m)}#k(){const u=this.#F()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+u,this.translationY*this.scaleFactor+u)}static#N(u){const c=new Path2D;for(let y=0,x=u.length;y<x;y++){const[m,S,k,E]=u[y];y===0&&c.moveTo(...m),c.bezierCurveTo(S[0],S[1],k[0],k[1],E[0],E[1])}return c}static#O(u,c,y){const[x,m,S,k]=c;switch(y){case 0:for(let E=0,I=u.length;E<I;E+=2)u[E]+=x,u[E+1]=k-u[E+1];break;case 90:for(let E=0,I=u.length;E<I;E+=2){const L=u[E];u[E]=u[E+1]+x,u[E+1]=L+m}break;case 180:for(let E=0,I=u.length;E<I;E+=2)u[E]=S-u[E],u[E+1]+=m;break;case 270:for(let E=0,I=u.length;E<I;E+=2){const L=u[E];u[E]=S-u[E+1],u[E+1]=k-L}break;default:throw new Error("Invalid rotation")}return u}static#z(u,c,y){const[x,m,S,k]=c;switch(y){case 0:for(let E=0,I=u.length;E<I;E+=2)u[E]-=x,u[E+1]=k-u[E+1];break;case 90:for(let E=0,I=u.length;E<I;E+=2){const L=u[E];u[E]=u[E+1]-m,u[E+1]=L-x}break;case 180:for(let E=0,I=u.length;E<I;E+=2)u[E]=S-u[E],u[E+1]-=m;break;case 270:for(let E=0,I=u.length;E<I;E+=2){const L=u[E];u[E]=k-u[E+1],u[E+1]=S-L}break;default:throw new Error("Invalid rotation")}return u}#B(u,c,y,x){const m=[],S=this.thickness/2,k=u*c+S,E=u*y+S;for(const I of this.paths){const L=[],z=[];for(let j=0,F=I.length;j<F;j++){const[V,H,X,q]=I[j],Q=u*V[0]+k,ie=u*V[1]+E,te=u*H[0]+k,ne=u*H[1]+E,he=u*X[0]+k,ae=u*X[1]+E,G=u*q[0]+k,P=u*q[1]+E;j===0&&(L.push(Q,ie),z.push(Q,ie)),L.push(te,ne,he,ae,G,P),z.push(te,ne),j===F-1&&z.push(G,P)}m.push({bezier:w.#O(L,x,this.rotation),points:w.#O(z,x,this.rotation)})}return m}#j(){let u=1/0,c=-1/0,y=1/0,x=-1/0;for(const m of this.paths)for(const[S,k,E,I]of m){const L=o.Util.bezierBoundingBox(...S,...k,...E,...I);u=Math.min(u,L[0]),y=Math.min(y,L[1]),c=Math.max(c,L[2]),x=Math.max(x,L[3])}return[u,y,c,x]}#F(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#A(u=!1){if(this.isEmpty())return;if(!this.#l){this.#v();return}const c=this.#j(),y=this.#F();this.#t=Math.max(l.AnnotationEditor.MIN_SIZE,c[2]-c[0]),this.#e=Math.max(l.AnnotationEditor.MIN_SIZE,c[3]-c[1]);const x=Math.ceil(y+this.#t*this.scaleFactor),m=Math.ceil(y+this.#e*this.scaleFactor),[S,k]=this.parentDimensions;this.width=x/S,this.height=m/k,this.setAspectRatio(x,m);const E=this.translationX,I=this.translationY;this.translationX=-c[0],this.translationY=-c[1],this.#b(),this.#v(),this.#d=x,this.#h=m,this.setDims(x,m);const L=u?y/this.scaleFactor/2:0;this.translate(E-this.translationX-L,I-this.translationY-L)}static deserialize(u,c,y){if(u instanceof h.InkAnnotationElement)return null;const x=super.deserialize(u,c,y);x.thickness=u.thickness,x.color=o.Util.makeHexColor(...u.color),x.opacity=u.opacity;const[m,S]=x.pageDimensions,k=x.width*m,E=x.height*S,I=x.parentScale,L=u.thickness/2;x.#l=!0,x.#d=Math.round(k),x.#h=Math.round(E);const{paths:z,rect:j,rotation:F}=u;for(let{bezier:H}of z){H=w.#z(H,j,F);const X=[];x.paths.push(X);let q=I*(H[0]-L),Q=I*(H[1]-L);for(let te=2,ne=H.length;te<ne;te+=6){const he=I*(H[te]-L),ae=I*(H[te+1]-L),G=I*(H[te+2]-L),P=I*(H[te+3]-L),T=I*(H[te+4]-L),v=I*(H[te+5]-L);X.push([[q,Q],[he,ae],[G,P],[T,v]]),q=T,Q=v}const ie=this.#N(X);x.bezierPath2D.push(ie)}const V=x.#j();return x.#t=Math.max(l.AnnotationEditor.MIN_SIZE,V[2]-V[0]),x.#e=Math.max(l.AnnotationEditor.MIN_SIZE,V[3]-V[1]),x.#C(k,E),x}serialize(){if(this.isEmpty())return null;const u=this.getRect(0,0),c=l.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:c,thickness:this.thickness,opacity:this.opacity,paths:this.#B(this.scaleFactor/this.parentScale,this.translationX,this.translationY,u),pageIndex:this.pageIndex,rect:u,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}i.InkEditor=w},(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=s(1),l=s(4),h=s(6),p=s(29);class g extends l.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#a=null;#o=null;#s=null;#l=null;#u=!1;#i=!1;static _type="stamp";constructor(d){super({...d,name:"stampEditor"}),this.#r=d.bitmapUrl,this.#a=d.bitmapFile}static initialize(d){l.AnnotationEditor.initialize(d)}static get supportedTypes(){const d=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",d.map(u=>`image/${u}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(d){return this.supportedTypes.includes(d)}static paste(d,u){u.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:d.getAsFile()})}#p(d,u=!1){if(!d){this.remove();return}this.#e=d.bitmap,u||(this.#t=d.id,this.#u=d.isSvg),this.#f()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(u=>this.#p(u,!0)).finally(()=>this.#d());return}if(this.#r){const u=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(u).then(c=>this.#p(c)).finally(()=>this.#d());return}if(this.#a){const u=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(u).then(c=>this.#p(c)).finally(()=>this.#d());return}const d=document.createElement("input");d.type="file",d.accept=g.supportedTypesStr,this.#n=new Promise(u=>{d.addEventListener("change",async()=>{if(!d.files||d.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const c=await this._uiManager.imageManager.getFromFile(d.files[0]);this.#p(c)}u()}),d.addEventListener("cancel",()=>{this.remove(),u()})}).finally(()=>this.#d()),d.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let d,u;if(this.width&&(d=this.x,u=this.y),super.render(),this.div.hidden=!0,this.#e?this.#f():this.#h(),this.width){const[c,y]=this.parentDimensions;this.setAt(d*c,u*y,this.width*c,this.height*y)}return this.div}#f(){const{div:d}=this;let{width:u,height:c}=this.#e;const[y,x]=this.pageDimensions,m=.75;if(this.width)u=this.width*y,c=this.height*x;else if(u>m*y||c>m*x){const I=Math.min(m*y/u,m*x/c);u*=I,c*=I}const[S,k]=this.parentDimensions;this.setDims(u*S/y,c*k/x),this._uiManager.enableWaiting(!1);const E=this.#o=document.createElement("canvas");d.append(E),d.hidden=!1,this.#m(u,c),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#x(d,u){const[c,y]=this.parentDimensions;this.width=d/c,this.height=u/y,this.setDims(d,u),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const x=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(d,u)},x)}#g(d,u){const{width:c,height:y}=this.#e;let x=c,m=y,S=this.#e;for(;x>2*d||m>2*u;){const k=x,E=m;x>2*d&&(x=x>=16384?Math.floor(x/2)-1:Math.ceil(x/2)),m>2*u&&(m=m>=16384?Math.floor(m/2)-1:Math.ceil(m/2));const I=new OffscreenCanvas(x,m);I.getContext("2d").drawImage(S,0,0,k,E,0,0,x,m),S=I.transferToImageBitmap()}return S}#m(d,u){d=Math.ceil(d),u=Math.ceil(u);const c=this.#o;if(!c||c.width===d&&c.height===u)return;c.width=d,c.height=u;const y=this.#u?this.#e:this.#g(d,u),x=c.getContext("2d");x.filter=this._uiManager.hcmFilter,x.drawImage(y,0,0,y.width,y.height,0,0,d,u)}#c(d){if(d){if(this.#u){const y=this._uiManager.imageManager.getSvgUrl(this.#t);if(y)return y}const u=document.createElement("canvas");return{width:u.width,height:u.height}=this.#e,u.getContext("2d").drawImage(this.#e,0,0),u.toDataURL()}if(this.#u){const[u,c]=this.pageDimensions,y=Math.round(this.width*u*h.PixelsPerInch.PDF_TO_CSS_UNITS),x=Math.round(this.height*c*h.PixelsPerInch.PDF_TO_CSS_UNITS),m=new OffscreenCanvas(y,x);return m.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,y,x),m.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#s=new ResizeObserver(d=>{const u=d[0].contentRect;u.width&&u.height&&this.#x(u.width,u.height)}),this.#s.observe(this.div)}static deserialize(d,u,c){if(d instanceof p.StampAnnotationElement)return null;const y=super.deserialize(d,u,c),{rect:x,bitmapUrl:m,bitmapId:S,isSvg:k,accessibilityData:E}=d;S&&c.imageManager.isValidId(S)?y.#t=S:y.#r=m,y.#u=k;const[I,L]=y.pageDimensions;return y.width=(x[2]-x[0])/I,y.height=(x[3]-x[1])/L,E&&(y.altTextData=E),y}serialize(d=!1,u=null){if(this.isEmpty())return null;const c={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(d)return c.bitmapUrl=this.#c(!0),c.accessibilityData=this.altTextData,c;const{decorative:y,altText:x}=this.altTextData;if(!y&&x&&(c.accessibilityData={type:"Figure",alt:x}),u===null)return c;u.stamps||=new Map;const m=this.#u?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!u.stamps.has(this.#t))u.stamps.set(this.#t,{area:m,serialized:c}),c.bitmap=this.#c(!1);else if(this.#u){const S=u.stamps.get(this.#t);m>S.area&&(S.area=m,S.serialized.bitmap.close(),S.serialized.bitmap=this.#c(!1))}return c}}i.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var i=__webpack_module_cache__[t];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return h.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return p.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return w.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return l.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),l=__w_pdfjs_require__(26),h=__w_pdfjs_require__(27),p=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),w=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();const workerSrc="/alego-manus/assets/pdf.worker.min-DKQKFyKK.js";pdfExports.GlobalWorkerOptions.workerSrc=workerSrc;const usePdfText=t=>{const[i,s]=reactExports.useState("");return reactExports.useEffect(()=>{(async()=>{if(!t||t.trim()===""||t==="undefined"){s("");return}if(!t.toLowerCase().endsWith(".pdf")){console.log("⚠️ Arquivo não é PDF, pulando extração de texto:",t),s("");return}try{console.log("🔄 Carregando PDF:",t);const h=await pdfExports.getDocument(t).promise;let p="";for(let g=1;g<=h.numPages;g++){const u=(await(await h.getPage(g)).getTextContent()).items.map(c=>c.str);p+=u.join(" ")+`

`}console.log("✅ Texto extraído do PDF:",p.length,"caracteres"),s(p)}catch(h){console.error("Erro ao extrair texto do PDF:",h),s("")}})()},[t]),i},useTextToSpeech=(t={})=>{const[i,s]=reactExports.useState(!1),[o,l]=reactExports.useState(!1),[h,p]=reactExports.useState([]),{lang:g="pt-BR",rate:w=.9,pitch:d=1,volume:u=1,maxLength:c=1e3}=t;reactExports.useEffect(()=>{(()=>{const S="speechSynthesis"in window;if(s(S),S){const k=()=>{const E=window.speechSynthesis.getVoices();p(E),console.log("📢 Vozes carregadas:",E.length)};return k(),window.speechSynthesis.addEventListener("voiceschanged",k),()=>{window.speechSynthesis.removeEventListener("voiceschanged",k)}}})()},[]);const y=reactExports.useCallback(async m=>{if(!i||!m.trim())return console.warn("Text-to-Speech não suportado ou texto vazio"),!1;try{window.speechSynthesis.cancel(),l(!1),await new Promise(I=>setTimeout(I,100));const S=m.length>c?m.substring(0,c)+"...":m,k=new SpeechSynthesisUtterance(S);k.lang=g,k.rate=w,k.pitch=d,k.volume=u;const E=h.find(I=>I.lang.includes("pt")||I.lang.includes("BR"));return E&&(k.voice=E),k.onstart=()=>{l(!0),console.log("🔊 Text-to-Speech iniciado")},k.onend=()=>{l(!1),console.log("🔇 Text-to-Speech finalizado")},k.onerror=I=>{l(!1),console.error("❌ Erro no Text-to-Speech:",I.error)},window.speechSynthesis.speak(k),!0}catch(S){return console.error("Erro ao executar Text-to-Speech:",S),l(!1),!1}},[i,h,g,w,d,u,c]),x=reactExports.useCallback(()=>{i&&(window.speechSynthesis.cancel(),l(!1),console.log("🔇 Text-to-Speech parado"))},[i]);return{isSupported:i,isSpeaking:o,voices:h,speak:y,stop:x}},MarkdownViewer=({markdown:t,arquivo:i})=>{const[s,o]=reactExports.useState(""),[l,h]=reactExports.useState(!1),[p,g]=reactExports.useState(null);return reactExports.useEffect(()=>{i?(h(!0),g(null),fetch(i).then(w=>{if(!w.ok)throw new Error("Arquivo não encontrado");return w.text()}).then(w=>{o(w),h(!1)}).catch(w=>{g(w.message),h(!1)})):t&&o(t)},[i,t]),l?jsxRuntimeExports.jsx(Card,{className:"mt-6",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Carregando..."})]})})}):jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"📄 Visualização do Conteúdo"})}),jsxRuntimeExports.jsx(CardContent,{children:p?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 font-medium",children:"⚠️ Erro ao carregar"}),jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:p})]}):jsxRuntimeExports.jsx("div",{className:"prose prose-lg max-w-none prose-slate dark:prose-invert overflow-auto max-h-[600px] markdown-content",children:jsxRuntimeExports.jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],children:s})})})]})},API="https://alego-app-6s83a.ondigitalocean.app",PDFNotes=({conteudoId:t})=>{console.log("PDFNotes renderizado com conteudoId:",t,"em:",new Date().toISOString());const[i,s]=reactExports.useState([]),[o,l]=reactExports.useState(""),[h,p]=reactExports.useState(!1);reactExports.useRef(null),console.log("PDFNotes state - showBalloon:",h,"notes:",i.length);const g=()=>{const w=window.open("","_blank");if(!w)return;const d=`
      <html>
        <head>
          <title>Relatório de Anotações</title>
          <style>
            /* 🎨 CSS para deixar a impressão bonita */
            body { font-family: Arial, sans-serif; margin: 40px; }
            h1 { text-align: center; margin-bottom: 32px; }
            .note { border-bottom: 1px solid #ccc; padding: 16px 0; }
            .note:last-child { border-bottom: none; }
            .note-text { font-size: 1.1em; margin-bottom: 8px; }
            .note-date { font-size: 0.9em; color: #666; text-align: right; }
          </style>
        </head>
        <body>
          <h1>Relatório de Anotações</h1>
          <div>
            ${i.map(u=>`
              <div class="note">
                <div class="note-text">${u.texto.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</div>
                <div class="note-date">${new Date(u.data).toLocaleString("pt-BR")}</div>
              </div>
            `).join("")}
          </div>
        </body>
      </html>
    `;w.document.write(d),w.document.close(),w.focus(),setTimeout(()=>w.print(),500)};return reactExports.useEffect(()=>{t&&fetch(`${API}/api/anotacoes/${t}`).then(w=>w.json()).then(w=>{Array.isArray(w)&&s(w.map((d,u)=>({id:d.id??Date.now()+u,texto:d.texto,data:new Date().toISOString()})))}).catch(console.error)},[t]),reactExports.useEffect(()=>{!t||i.length===0||fetch(`${API}/api/anotacoes/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i.map(w=>w.texto))}).catch(console.error)},[i,t]),jsxRuntimeExports.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:999999,fontFamily:"Arial, sans-serif"},children:[jsxRuntimeExports.jsx("button",{onClick:g,style:{position:"absolute",bottom:"70px",right:"0px"},children:"📝"}),jsxRuntimeExports.jsx("button",{onClick:()=>{console.log("Botão principal clicado em:",new Date),p(!h)},style:{position:"absolute",bottom:"70px",right:"0px",backgroundColor:"#3b82f6",color:"white",padding:"12px",borderRadius:"50%",border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",cursor:"pointer",zIndex:999999},children:"💬"}),h&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"130px",right:"0px",backgroundColor:"white",border:"2px solid #ccc",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderRadius:"8px",padding:"16px",width:"320px",zIndex:999998},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[jsxRuntimeExports.jsx("h3",{style:{fontWeight:"bold",margin:0},children:"Anotações"}),jsxRuntimeExports.jsx("button",{onClick:()=>p(!1),style:{color:"#666",border:"none",backgroundColor:"transparent",fontSize:"20px",cursor:"pointer"},children:"✕"})]}),jsxRuntimeExports.jsx("textarea",{value:o,onChange:w=>l(w.target.value),rows:3,placeholder:"Sua anotação...",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"12px",fontFamily:"Arial, sans-serif",fontSize:"14px"}}),jsxRuntimeExports.jsx("button",{onClick:()=>{if(o.trim()){const w={id:Date.now(),texto:o,data:new Date().toISOString()};s([...i,w]),l(""),alert("Anotação salva!")}},disabled:!o.trim(),style:{width:"100%",backgroundColor:o.trim()?"#3b82f6":"#ccc",color:"white",padding:"8px",borderRadius:"4px",border:"none",cursor:o.trim()?"pointer":"not-allowed"},children:"Salvar"}),jsxRuntimeExports.jsx("button",{onClick:g,style:{width:"100%",backgroundColor:"#f59e42",color:"white",padding:"8px",borderRadius:"4px",border:"none",cursor:"pointer",marginTop:"8px"},children:"📝 Imprimir anotações"}),i.length>0&&jsxRuntimeExports.jsxs("div",{style:{marginTop:"12px",maxHeight:"160px",overflowY:"auto"},children:[jsxRuntimeExports.jsxs("h4",{style:{fontSize:"14px",fontWeight:"medium",marginBottom:"8px"},children:["Anotações (",i.length,"):"]}),i.map(w=>jsxRuntimeExports.jsx("div",{style:{backgroundColor:"#fef3c7",padding:"8px",borderRadius:"4px",marginBottom:"8px",fontSize:"12px"},children:w.texto},w.id))]})]})]})},PDFNotes$1=reactExports.memo(PDFNotes),ContentViewer=({conteudo:t})=>{const[i,s]=reactExports.useState(null);if(!t||!t.arquivo)return jsxRuntimeExports.jsxs("div",{className:"p-4 text-center text-gray-500",children:[jsxRuntimeExports.jsx("p",{children:"Erro: Arquivo não encontrado ou não carregado corretamente."}),jsxRuntimeExports.jsxs("p",{className:"text-sm mt-2",children:["Detalhes: ",JSON.stringify(t,null,2)]})]});const l=(c=>c?c.startsWith("http://localhost:5000")?c.replace("http://localhost:5000",""):c:(console.error("URL do arquivo não definida:",t),""))(t.arquivo),h=usePdfText(l),{isSupported:p,isSpeaking:g,speak:w,stop:d}=useTextToSpeech({lang:"pt-BR",rate:.9,maxLength:2e3});reactExports.useEffect(()=>{console.log("🎤 Text-to-Speech suportado:",p)},[p]);const u=async()=>{if(!h){alert("📄 Nenhum texto disponível para reproduzir");return}if(!p){alert("🚫 Text-to-Speech não é suportado neste dispositivo");return}await w(h)||alert("❌ Erro ao reproduzir áudio. Tente novamente.")};return t.tipo==="pdf"?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-gray-200 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px]",onClick:()=>window.open(l,"_blank","noopener,noreferrer"),children:["🖥️ ",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Abrir"})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px]",onClick:()=>{const c=document.createElement("a");c.href=l,c.download="",document.body.appendChild(c),c.click(),document.body.removeChild(c)},children:["🔽 ",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Baixar"})]}),jsxRuntimeExports.jsxs("button",{onClick:u,disabled:!p||g||!h,className:`flex items-center gap-2 px-5 py-3 text-white rounded-lg transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px] ${g?"bg-orange-500 hover:bg-orange-600":"bg-purple-500 hover:bg-purple-600"} ${!p||!h?"opacity-50 cursor-not-allowed":""}`,title:p?h?g?"Reproduzindo...":"Ouvir conteúdo":"Nenhum texto disponível":"Text-to-Speech não suportado",children:[g?"🔊":"🎵",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:g?"Falando...":"Ouvir"})]}),jsxRuntimeExports.jsxs("button",{onClick:d,disabled:!g,className:`flex items-center gap-2 px-5 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px] ${g?"":"opacity-50 cursor-not-allowed"}`,title:g?"Parar reprodução":"Nenhuma reprodução ativa",children:["🔇 ",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Parar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"h-[calc(100vh-250px)] min-h-[600px] overflow-hidden",children:jsxRuntimeExports.jsx("iframe",{src:l,width:"100%",height:"100%",style:{border:"none",borderRadius:"12px"},title:"PDF Viewer",className:"w-full h-full"})})}),jsxRuntimeExports.jsx(PDFNotes$1,{conteudoId:t.id})]})]}):t.tipo==="markdown"?jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"prose prose-lg max-w-none dark:prose-invert",children:jsxRuntimeExports.jsx(MarkdownViewer,{arquivo:l})})})}):t.tipo==="video"?jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:jsxRuntimeExports.jsx("video",{src:l,controls:!0,className:"w-full rounded-lg shadow-md",style:{maxHeight:"70vh"}})}):t.tipo==="youtube"?jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"relative pb-[56.25%] h-0 overflow-hidden rounded-lg shadow-md",children:jsxRuntimeExports.jsx("iframe",{src:l,title:"Vídeo YouTube",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full rounded-lg"})})}):jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-red-600 text-lg font-medium",children:"⚠️ Tipo de conteúdo não suportado"}),jsxRuntimeExports.jsxs("p",{className:"text-red-500 mt-2",children:['O formato "',t.tipo,'" ainda não é suportado pela plataforma.']})]})},uploadFiles=async t=>{const i=new FormData;t.forEach(s=>i.append("files",s));try{const s=await fetch(getApiUrl("/api/upload"),{method:"POST",body:i});if(!s.ok){const l=await s.text();if(console.error("Erro no upload:",l),s.status===405)return console.log("Método POST não permitido, tentando upload alternativo..."),await uploadFilesAlternative(t);throw new Error(`Falha ao enviar arquivos: ${s.status} ${s.statusText}`)}return(await s.json()).urls||[]}catch(s){return console.error("Erro no fetch:",s),console.log("Tentando método alternativo devido a erro de conexão..."),await uploadFilesAlternative(t)}},uploadFilesAlternative=async t=>{console.log("Usando método alternativo de upload (mock)...");const i=[];for(const s of t){const o=`https://via.placeholder.com/400x600/cccccc/666666?text=${encodeURIComponent(s.name)}`;i.push(o)}return i},CursosArea=({curso:t,onVoltar:i,onAtualizar:s})=>{const[o,l]=reactExports.useState(null),[h,p]=reactExports.useState(null),[g,w]=reactExports.useState(!1),[d,u]=reactExports.useState(!1),[c,y]=reactExports.useState(""),[x,m]=reactExports.useState("pdf"),[S,k]=reactExports.useState([]),E=async()=>{if(c.trim())try{const L=await criarMateria(c,t.id),z=[...t.materias||[],{...L,conteudos:[]}];s({...t,materias:z}),l(L),w(!1),y("")}catch(L){console.error(L),alert("Erro ao criar matéria.")}},I=async()=>{if(!o||S.length===0){alert("Selecione ao menos um arquivo.");return}try{console.log("Iniciando upload de arquivos...",S);const L=await uploadFiles(S);console.log("URLs recebidas:",L);const z=[];if(L&&Array.isArray(L)&&L.length>0){L.forEach((V,H)=>{const X=S[H],q=X.type.includes("pdf")?"pdf":X.name.endsWith(".md")||X.type.includes("markdown")?"markdown":X.type.includes("video")?"video":"pdf",Q={titulo:X.name,tipo:q,arquivo:V,materia_id:o.id};z.push(Q)});const j=await Promise.all(z.map(V=>criarConteudo(V))),F=t.materias?.map(V=>V.id===o.id?{...V,conteudos:[...V.conteudos||[],...j]}:V);s({...t,materias:F||[]}),l(F?.find(V=>V.id===o.id)||null),u(!1),k([])}else alert("Erro: Nenhum arquivo foi enviado com sucesso.")}catch(L){console.error(L),alert("Erro ao adicionar conteúdos.")}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 flex-shrink-0",children:[jsxRuntimeExports.jsxs("aside",{className:"bg-white rounded-lg p-4 shadow flex-1 lg:max-w-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"📘 Matérias"}),jsxRuntimeExports.jsx(Button,{onClick:()=>w(!0),className:"text-sm bg-green-100 hover:bg-green-200 text-green-700 px-3 py-1",children:"+ Nova"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-b from-blue-50 to-blue-100 rounded-lg p-3 shadow-inner space-y-2 max-h-48 overflow-y-auto",children:[t.materias?.map(L=>jsxRuntimeExports.jsx("button",{className:`w-full text-left px-3 py-2 rounded-lg transition-all duration-200 text-sm ${o?.id===L.id?"bg-blue-600 text-white shadow-md scale-105":"bg-white hover:bg-blue-50 text-gray-700 hover:shadow-sm"}`,onClick:()=>{l(L),p(null)},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📘"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:L.nome}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-70 ml-auto",children:L.conteudos?.length||0})]})},L.id)),!t.materias?.length&&jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 py-6",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl mb-2",children:"📚"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhuma matéria"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-75",children:"Clique em + Nova"})]})]})]}),jsxRuntimeExports.jsx("aside",{className:"bg-white rounded-lg p-4 shadow flex-1",children:o?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📂"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:o.nome})]}),jsxRuntimeExports.jsx(Button,{className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1",onClick:()=>u(!0),children:"+ Conteúdo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 max-h-48 overflow-y-auto",children:[(o.conteudos??[]).map(L=>jsxRuntimeExports.jsxs("button",{className:`text-left border rounded-lg p-3 transition-all duration-200 ${h?.id===L.id?"ring-2 ring-blue-500 bg-blue-50 border-blue-300 shadow-md scale-105":"bg-white hover:bg-gray-50 border-gray-200 hover:shadow-sm hover:scale-102"}`,onClick:()=>p(L),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 font-medium text-sm mb-1",children:[L.tipo==="pdf"&&"📄",L.tipo==="markdown"&&"📝",L.tipo==="video"&&"🎥",jsxRuntimeExports.jsx("span",{className:"truncate",children:L.titulo})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 capitalize",children:L.tipo})]},L.id)),!o.conteudos?.length&&jsxRuntimeExports.jsxs("div",{className:"col-span-full text-center text-gray-500 py-8",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-3",children:"📁"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Sem conteúdos"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-75",children:"Adicione arquivos à matéria"})]})]})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-40",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-3",children:"👈"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Selecione uma matéria"}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:"para ver os conteúdos"})]})})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg shadow-inner min-h-0",children:h?jsxRuntimeExports.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white flex-shrink-0",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold flex items-center gap-2 truncate",children:[h.tipo==="pdf"&&"📄",h.tipo==="markdown"&&"📝",h.tipo==="video"&&"🎥",jsxRuntimeExports.jsx("span",{children:h.titulo})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/20 px-3 py-1 rounded-full",children:[jsxRuntimeExports.jsx("span",{children:"📘"}),jsxRuntimeExports.jsx("span",{children:o?.nome})]})]}),jsxRuntimeExports.jsx("div",{className:"h-full p-4 overflow-hidden",children:jsxRuntimeExports.jsx(ContentViewer,{conteudo:h})})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Selecione um conteúdo"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-1",children:o?`${o.conteudos?.length||0} conteúdo(s) em "${o.nome}"`:"Escolha uma matéria primeiro"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"PDFs, vídeos e materiais de estudo"})]})})}),g&&jsxRuntimeExports.jsx(Modal,{title:"Nova Matéria",onClose:()=>w(!1),children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Nome da matéria",value:c,onChange:L=>y(L.target.value),className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:E,className:"simple-btn",children:"Criar Matéria"})]})]})}),d&&jsxRuntimeExports.jsx(Modal,{title:"Adicionar Conteúdo",onClose:()=>u(!1),children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Select,{value:x,onValueChange:L=>m(L),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Tipo de conteúdo"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"pdf",children:"📄 PDF"}),jsxRuntimeExports.jsx(SelectItem,{value:"markdown",children:"📝 Markdown"}),jsxRuntimeExports.jsx(SelectItem,{value:"video",children:"🎥 Vídeo"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Selecionar arquivos"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf,.md,video/*",multiple:!0,onChange:L=>{const z=Array.from(L.target.files||[]);k(z)},className:"w-full p-2 border border-gray-300 rounded-md"}),S.length>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[S.length," arquivo(s) selecionado(s)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:I,className:"simple-btn",children:"Adicionar Conteúdo"})]})]})})]})},Cursos=()=>{const[t,i]=reactExports.useState([]),[s,o]=reactExports.useState(null),[l,h]=reactExports.useState(!1),[p,g]=reactExports.useState(""),[w,d]=reactExports.useState(1),[u,c]=reactExports.useState([""]);reactExports.useEffect(()=>{listarCursos().then(i).catch(console.error)},[]);const y=async()=>{if(!p.trim())return alert("Informe nome");try{const x=await criarCurso(p),m=[];for(const k of u)if(k.trim()){const E=await criarMateria(k,x.id);m.push({...E,conteudos:[]})}const S={...x,materias:m};i(k=>[...k,S]),h(!1),g(""),d(1),c([""])}catch{alert("Erro ao criar")}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"📚 Cursos"}),s&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:"→"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-600",children:s.nome}),jsxRuntimeExports.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:[s.materias?.length||0," matérias"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s&&jsxRuntimeExports.jsx(Button,{onClick:()=>o(null),className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700",children:"← Voltar aos Cursos"}),jsxRuntimeExports.jsx(Button,{onClick:()=>h(!0),className:"text-sm bg-blue-600 hover:bg-blue-700 text-white",children:"+ Novo Curso"})]})]}),!s&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[t.map(x=>jsxRuntimeExports.jsxs("div",{onClick:()=>o(x),className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-lg p-4 cursor-pointer hover:shadow-md hover:from-blue-100 hover:to-indigo-200 transition-all duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800 text-lg truncate pr-2",children:x.nome}),jsxRuntimeExports.jsx("div",{className:"text-blue-600 text-xl",children:"📚"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[x.materias?.length||0," matéria(s)"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:"Clique para abrir"}),jsxRuntimeExports.jsx("span",{children:"→"})]})]},x.id)),t.length===0&&jsxRuntimeExports.jsxs("div",{className:"col-span-full text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4 opacity-50",children:"📚"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"Nenhum curso encontrado"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Crie seu primeiro curso para começar"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0",children:s?jsxRuntimeExports.jsx(CursosArea,{curso:s,onVoltar:()=>o(null),onAtualizar:x=>{i(t.map(m=>m.id===x.id?x:m)),o(x)}}):jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow h-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-8xl mb-6 opacity-30",children:"🎓"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"Bem-vindo aos seus Cursos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Organize seus estudos criando cursos com matérias e conteúdos. Cada curso pode ter múltiplas matérias com PDFs, vídeos e materiais de estudo."}),jsxRuntimeExports.jsx(Button,{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 text-lg",children:"🚀 Criar Primeiro Curso"})]})})}),l&&jsxRuntimeExports.jsx(Modal,{title:"Novo Curso",onClose:()=>h(!1),children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Curso"}),jsxRuntimeExports.jsx(Input,{placeholder:"Ex: Concurso ALEGO 2025",value:p,onChange:x=>g(x.target.value),className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantas matérias?"}),jsxRuntimeExports.jsx(Input,{type:"number",min:1,max:20,value:w,onChange:x=>{const m=parseInt(x.target.value)||1;d(m),c(S=>Array.from({length:m},(k,E)=>S[E]||""))},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome das Matérias"}),Array.from({length:w}).map((x,m)=>jsxRuntimeExports.jsx(Input,{placeholder:`Matéria ${m+1} - Ex: Regimento Interno`,value:u[m],onChange:S=>{const k=[...u];k[m]=S.target.value,c(k)},className:"w-full"},m))]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>h(!1),className:"bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"✅ Criar Curso"})]})]})})]})},initialState={theme:"system",setTheme:()=>null},ThemeProviderContext=reactExports.createContext(initialState);function ThemeProvider({children:t,defaultTheme:i="system",storageKey:s="vite-ui-theme",...o}){const[l,h]=reactExports.useState(()=>localStorage.getItem(s)||i);reactExports.useEffect(()=>{const g=window.document.documentElement;if(g.classList.remove("light","dark"),l==="system"){const w=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";g.classList.add(w);return}g.classList.add(l)},[l]);const p={theme:l,setTheme:g=>{localStorage.setItem(s,g),h(g)}};return jsxRuntimeExports.jsx(ThemeProviderContext.Provider,{...o,value:p,children:t})}const App=()=>{const[t,i]=reactExports.useState("home"),s=()=>{switch(t){case"dashboard":return jsxRuntimeExports.jsx(Dashboard,{});case"cursos":return jsxRuntimeExports.jsx(Cursos,{});case"markdown":return jsxRuntimeExports.jsx(MarkdownEditor,{});case"flashcards":return jsxRuntimeExports.jsx(Flashcards,{});case"simulado":return jsxRuntimeExports.jsx(SimuladoArea,{});case"conteudos":return jsxRuntimeExports.jsx(MeusConteudos,{});case"admin":return jsxRuntimeExports.jsx(Admin,{});case"pdf":return jsxRuntimeExports.jsx(SimplePDFViewer,{});case"viewer":return jsxRuntimeExports.jsx(MarkdownViewer,{markdown:""});default:return jsxRuntimeExports.jsx(AppHome,{setCurrentPage:i})}};return jsxRuntimeExports.jsx(ThemeProvider,{defaultTheme:"light",storageKey:"alego-theme",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen",children:[jsxRuntimeExports.jsx(Header,{currentPage:t,setCurrentPage:i}),jsxRuntimeExports.jsx(Main,{children:s()}),jsxRuntimeExports.jsx(Footer,{})]})})};"serviceWorker"in navigator?window.addEventListener("load",async()=>{try{const t=await navigator.serviceWorker.register("/alego-manus/service-worker.js");console.info("✅ Service Worker registered:",t),t.addEventListener("updatefound",()=>{console.info("🔄 Nova versão disponível!")})}catch(t){console.error("❌ Service Worker registration failed:",t)}}):console.info("🔧 Service Worker desabilitado em desenvolvimento");window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),console.info("💫 PWA pode ser instalado")});ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
//# sourceMappingURL=index-DUD_rum6.js.map
