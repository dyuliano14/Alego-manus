var Gs=Object.defineProperty;var Xs=(i,s,o)=>s in i?Gs(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o;var Yn=(i,s,o)=>(Xs(i,typeof s!="symbol"?s+"":s,o),o),jr=(i,s,o)=>{if(!s.has(i))throw TypeError("Cannot "+o)};var lt=(i,s,o)=>(jr(i,s,"read from private field"),o?o.call(i):s.get(i)),Nt=(i,s,o)=>{if(s.has(i))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(i):s.set(i,o)},tn=(i,s,o,a)=>(jr(i,s,"write to private field"),a?a.call(i,o):s.set(i,o),o);var ur=(i,s,o,a)=>({set _(_){tn(i,s,_,o)},get _(){return lt(i,s,a)}}),Ht=(i,s,o)=>(jr(i,s,"access private method"),o);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))a(_);new MutationObserver(_=>{for(const j of _)if(j.type==="childList")for(const $ of j.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&a($)}).observe(document,{childList:!0,subtree:!0});function o(_){const j={};return _.integrity&&(j.integrity=_.integrity),_.referrerPolicy&&(j.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?j.credentials="include":_.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function a(_){if(_.ep)return;_.ep=!0;const j=o(_);fetch(_.href,j)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var o=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var _=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(o,a,_.get?_:{enumerable:!0,get:function(){return i[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,_={},j=null,$=null;if(s!=null)for(a in s.ref!==void 0&&($=s.ref),s.key!==void 0&&(j=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(_[a]=s[a]);var _e=arguments.length-2;if(_e===1)_.children=o;else if(1<_e){for(var et=Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt+2];_.children=et}if(i&&i.defaultProps)for(a in _e=i.defaultProps,_e)_[a]===void 0&&(_[a]=_e[a]);return{$$typeof:l$2,type:i,key:j,ref:$,props:_,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$1(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):s.toString(36)}function R$1(i,s,o,a,_){var j=typeof i;(j==="undefined"||j==="boolean")&&(i=null);var $=!1;if(i===null)$=!0;else switch(j){case"string":case"number":$=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:$=!0}}if($)return $=i,_=_($),i=a===""?"."+Q$1($,0):a,I$1(_)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(_,s,o,"",function(tt){return tt})):_!=null&&(O$1(_)&&(_=N$1(_,o+(!_.key||$&&$.key===_.key?"":(""+_.key).replace(P$1,"$&/")+"/")+i)),s.push(_)),1;if($=0,a=a===""?".":a+":",I$1(i))for(var _e=0;_e<i.length;_e++){j=i[_e];var et=a+Q$1(j,_e);$+=R$1(j,s,o,et,_)}else if(et=A$1(i),typeof et=="function")for(i=et.call(i),_e=0;!(j=i.next()).done;)j=j.value,et=a+Q$1(j,_e++),$+=R$1(j,s,o,et,_);else if(j==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return $}function S$1(i,s,o){if(i==null)return i;var a=[],_=0;return R$1(i,a,"","",function(j){return s.call(o,j,_++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),_=i.key,j=i.ref,$=i._owner;if(s!=null){if(s.ref!==void 0&&(j=s.ref,$=K$1.current),s.key!==void 0&&(_=""+s.key),i.type&&i.type.defaultProps)var _e=i.type.defaultProps;for(et in s)J.call(s,et)&&!L$1.hasOwnProperty(et)&&(a[et]=s[et]===void 0&&_e!==void 0?_e[et]:s[et])}var et=arguments.length-2;if(et===1)a.children=o;else if(1<et){_e=Array(et);for(var tt=0;tt<et;tt++)_e[tt]=arguments[tt+2];a.children=_e}return{$$typeof:l$2,type:i.type,key:_,ref:j,props:a,_owner:$}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$1,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,s,o){var a,_={},j=null,$=null;o!==void 0&&(j=""+o),s.key!==void 0&&(j=""+s.key),s.ref!==void 0&&($=s.ref);for(a in s)m$2.call(s,a)&&!p$2.hasOwnProperty(a)&&(_[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)_[a]===void 0&&(_[a]=s[a]);return{$$typeof:k$1,type:i,key:j,ref:$,props:_,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Tt,Wt){var Rt=Tt.length;Tt.push(Wt);e:for(;0<Rt;){var dn=Rt-1>>>1,pn=Tt[dn];if(0<_(pn,Wt))Tt[dn]=Wt,Tt[Rt]=pn,Rt=dn;else break e}}function o(Tt){return Tt.length===0?null:Tt[0]}function a(Tt){if(Tt.length===0)return null;var Wt=Tt[0],Rt=Tt.pop();if(Rt!==Wt){Tt[0]=Rt;e:for(var dn=0,pn=Tt.length,xt=pn>>>1;dn<xt;){var ft=2*(dn+1)-1,vt=Tt[ft],mt=ft+1,St=Tt[mt];if(0>_(vt,Rt))mt<pn&&0>_(St,vt)?(Tt[dn]=St,Tt[mt]=Rt,dn=mt):(Tt[dn]=vt,Tt[ft]=Rt,dn=ft);else if(mt<pn&&0>_(St,Rt))Tt[dn]=St,Tt[mt]=Rt,dn=mt;else break e}}return Wt}function _(Tt,Wt){var Rt=Tt.sortIndex-Wt.sortIndex;return Rt!==0?Rt:Tt.id-Wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;i.unstable_now=function(){return j.now()}}else{var $=Date,_e=$.now();i.unstable_now=function(){return $.now()-_e}}var et=[],tt=[],nt=1,rt=null,st=3,ot=!1,ut=!1,dt=!1,yt=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ht(Tt){for(var Wt=o(tt);Wt!==null;){if(Wt.callback===null)a(tt);else if(Wt.startTime<=Tt)a(tt),Wt.sortIndex=Wt.expirationTime,s(et,Wt);else break;Wt=o(tt)}}function kt(Tt){if(dt=!1,ht(Tt),!ut)if(o(et)!==null)ut=!0,Xt(pt);else{var Wt=o(tt);Wt!==null&&Zt(kt,Wt.startTime-Tt)}}function pt(Tt,Wt){ut=!1,dt&&(dt=!1,it(wt),wt=-1),ot=!0;var Rt=st;try{for(ht(Wt),rt=o(et);rt!==null&&(!(rt.expirationTime>Wt)||Tt&&!_t());){var dn=rt.callback;if(typeof dn=="function"){rt.callback=null,st=rt.priorityLevel;var pn=dn(rt.expirationTime<=Wt);Wt=i.unstable_now(),typeof pn=="function"?rt.callback=pn:rt===o(et)&&a(et),ht(Wt)}else a(et);rt=o(et)}if(rt!==null)var xt=!0;else{var ft=o(tt);ft!==null&&Zt(kt,ft.startTime-Wt),xt=!1}return xt}finally{rt=null,st=Rt,ot=!1}}var at=!1,At=null,wt=-1,bt=5,Et=-1;function _t(){return!(i.unstable_now()-Et<bt)}function Mt(){if(At!==null){var Tt=i.unstable_now();Et=Tt;var Wt=!0;try{Wt=At(!0,Tt)}finally{Wt?Ot():(at=!1,At=null)}}else at=!1}var Ot;if(typeof ct=="function")Ot=function(){ct(Mt)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Bt=jt.port2;jt.port1.onmessage=Mt,Ot=function(){Bt.postMessage(null)}}else Ot=function(){yt(Mt,0)};function Xt(Tt){At=Tt,at||(at=!0,Ot())}function Zt(Tt,Wt){wt=yt(function(){Tt(i.unstable_now())},Wt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Tt){Tt.callback=null},i.unstable_continueExecution=function(){ut||ot||(ut=!0,Xt(pt))},i.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<Tt?Math.floor(1e3/Tt):5},i.unstable_getCurrentPriorityLevel=function(){return st},i.unstable_getFirstCallbackNode=function(){return o(et)},i.unstable_next=function(Tt){switch(st){case 1:case 2:case 3:var Wt=3;break;default:Wt=st}var Rt=st;st=Wt;try{return Tt()}finally{st=Rt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Tt,Wt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Rt=st;st=Tt;try{return Wt()}finally{st=Rt}},i.unstable_scheduleCallback=function(Tt,Wt,Rt){var dn=i.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?dn+Rt:dn):Rt=dn,Tt){case 1:var pn=-1;break;case 2:pn=250;break;case 5:pn=1073741823;break;case 4:pn=1e4;break;default:pn=5e3}return pn=Rt+pn,Tt={id:nt++,callback:Wt,priorityLevel:Tt,startTime:Rt,expirationTime:pn,sortIndex:-1},Rt>dn?(Tt.sortIndex=Rt,s(tt,Tt),o(et)===null&&Tt===o(tt)&&(dt?(it(wt),wt=-1):dt=!0,Zt(kt,Rt-dn))):(Tt.sortIndex=pn,s(et,Tt),ut||ot||(ut=!0,Xt(pt))),Tt},i.unstable_shouldYield=_t,i.unstable_wrapCallback=function(Tt){var Wt=st;return function(){var Rt=st;st=Wt;try{return Tt.apply(this,arguments)}finally{st=Rt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(i,s,o,a,_,j,$){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=_,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=j,this.removeEmptyString=$}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v$1(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var _=z.hasOwnProperty(s)?z[s]:null;(_!==null?_.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,_,a)&&(o=null),a||_===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):_.mustUseProperty?i[_.propertyName]=o===null?_.type===3?!1:"":o:(s=_.attributeName,a=_.attributeNamespace,o===null?i.removeAttribute(s):(_=_.type,o=_===3||_===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(tt){var a=tt}Reflect.construct(i,[],s)}else{try{s.call()}catch(tt){a=tt}i.call(s.prototype)}else{try{throw Error()}catch(tt){a=tt}i()}}catch(tt){if(tt&&a&&typeof tt.stack=="string"){for(var _=tt.stack.split(`
`),j=a.stack.split(`
`),$=_.length-1,_e=j.length-1;1<=$&&0<=_e&&_[$]!==j[_e];)_e--;for(;1<=$&&0<=_e;$--,_e--)if(_[$]!==j[_e]){if($!==1||_e!==1)do if($--,_e--,0>_e||_[$]!==j[_e]){var et=`
`+_[$].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=$&&0<=_e);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var _=o.get,j=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function($){a=""+$,j.call(this,$)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function($){a=""+$},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var _=0;_<o.length;_++)s["$"+o[_]]=!0;for(o=0;o<i.length;o++)_=s.hasOwnProperty("$"+i[o].value),i[o].selected!==_&&(i[o].selected=_),_&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,_=0;_<i.length;_++){if(i[_].value===o){i[_].selected=!0,a&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p$1(92));if(eb(o)){if(1<o.length)throw Error(p$1(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,_){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,_)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,_=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,_):i[o]=_}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p$1(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,_,j,$,_e,et){var tt=Array.prototype.slice.call(arguments,3);try{s.apply(o,tt)}catch(nt){this.onError(nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,_,j,$,_e,et){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,_,j,$,_e,et){if(Tb.apply(this,arguments),Ob){if(Ob){var tt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=tt)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$1(188));return s!==i?null:i}for(var o=i,a=s;;){var _=o.return;if(_===null)break;var j=_.alternate;if(j===null){if(a=_.return,a!==null){o=a;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===o)return Xb(_),i;if(j===a)return Xb(_),s;j=j.sibling}throw Error(p$1(188))}if(o.return!==a.return)o=_,a=j;else{for(var $=!1,_e=_.child;_e;){if(_e===o){$=!0,o=_,a=j;break}if(_e===a){$=!0,a=_,o=j;break}_e=_e.sibling}if(!$){for(_e=j.child;_e;){if(_e===o){$=!0,o=j,a=_;break}if(_e===a){$=!0,a=j,o=_;break}_e=_e.sibling}if(!$)throw Error(p$1(189))}}if(o.alternate!==a)throw Error(p$1(190))}if(o.tag!==3)throw Error(p$1(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,_=i.suspendedLanes,j=i.pingedLanes,$=o&268435455;if($!==0){var _e=$&~_;_e!==0?a=tc(_e):(j&=$,j!==0&&(a=tc(j)))}else $=o&~_,$!==0?a=tc($):j!==0&&(a=tc(j));if(a===0)return 0;if(s!==0&&s!==a&&!(s&_)&&(_=a&-a,j=s&-s,_>=j||_===16&&(j&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),_=1<<o,a|=i[o],s&=~_;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,_=i.expirationTimes,j=i.pendingLanes;0<j;){var $=31-oc(j),_e=1<<$,et=_[$];et===-1?(!(_e&o)||_e&a)&&(_[$]=vc(_e,s)):et<=s&&(i.expiredLanes|=_e),j&=~_e}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var _=31-oc(o),j=1<<_;s[_]=0,a[_]=-1,i[_]=-1,o&=~j}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),_=1<<a;_&s|i[a]&s&&(i[a]|=s),o&=~_}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,_,j){return i===null||i.nativeEvent!==j?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:j,targetContainers:[_]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function Uc(i,s,o,a,_){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,_),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,_),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,_),!0;case"pointerover":var j=_.pointerId;return Oc.set(j,Tc(Oc.get(j)||null,i,s,o,a,_)),!0;case"gotpointercapture":return j=_.pointerId,Pc.set(j,Tc(Pc.get(j)||null,i,s,o,a,_)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(_){return ad(_,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var _=C,j=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=_,cd.transition=j}}function gd(i,s,o,a){var _=C,j=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=_,cd.transition=j}}function fd(i,s,o,a){if(dd){var _=Yc(i,s,o,a);if(_===null)hd(i,s,a,id,o),Sc(i,a);else if(Uc(_,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;_!==null;){var j=Cb(_);if(j!==null&&Ec(j),j=Yc(i,s,o,a),j===null&&hd(i,s,a,id,o),j===_)break;_=j}_!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id=null;function Yc(i,s,o,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,_="value"in kd?kd.value:kd.textContent,j=_.length;for(i=0;i<o&&s[i]===_[i];i++);var $=o-i;for(a=1;a<=$&&s[o-a]===_[j-a];a++);return md=_.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,_,j,$){this._reactName=o,this._targetInst=_,this.type=a,this.nativeEvent=j,this.target=$,this.currentTarget=null;for(var _e in i)i.hasOwnProperty(_e)&&(o=i[_e],this[_e]=o?o(j):j[_e]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var _=o[a];if(!ja.call(s,_)||!He(i[_],s[_]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var _=o.textContent.length,j=Math.min(a.start,_);a=a.end===void 0?j:Math.min(a.end,_),!i.extend&&j>a&&(_=a,a=j,j=_),_=Ke(o,j);var $=Ke(o,a);_&&$&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==$.node||i.focusOffset!==$.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),i.removeAllRanges(),j>a?(i.addRange(s),i.extend($.node,$.offset)):(s.setEnd($.node,$.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],_=a.event;a=a.listeners;e:{var j=void 0;if(s)for(var $=a.length-1;0<=$;$--){var _e=a[$],et=_e.instance,tt=_e.currentTarget;if(_e=_e.listener,et!==j&&_.isPropagationStopped())break e;nf(_,_e,tt),j=et}else for($=0;$<a.length;$++){if(_e=a[$],et=_e.instance,tt=_e.currentTarget,_e=_e.listener,et!==j&&_.isPropagationStopped())break e;nf(_,_e,tt),j=et}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var _=ed;break;case 4:_=gd;break;default:_=fd}o=_.bind(null,s,o,i),_=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),a?_!==void 0?i.addEventListener(s,o,{capture:!0,passive:_}):i.addEventListener(s,o,!0):_!==void 0?i.addEventListener(s,o,{passive:_}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,_){var j=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var $=a.tag;if($===3||$===4){var _e=a.stateNode.containerInfo;if(_e===_||_e.nodeType===8&&_e.parentNode===_)break;if($===4)for($=a.return;$!==null;){var et=$.tag;if((et===3||et===4)&&(et=$.stateNode.containerInfo,et===_||et.nodeType===8&&et.parentNode===_))return;$=$.return}for(;_e!==null;){if($=Wc(_e),$===null)return;if(et=$.tag,et===5||et===6){a=j=$;continue e}_e=_e.parentNode}}a=a.return}Jb(function(){var tt=j,nt=xb(o),rt=[];e:{var st=df.get(i);if(st!==void 0){var ot=td,ut=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":ot=Rd;break;case"focusin":ut="focus",ot=Fd;break;case"focusout":ut="blur",ot=Fd;break;case"beforeblur":case"afterblur":ot=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Vd;break;case $e:case af:case bf:ot=Hd;break;case cf:ot=Xd;break;case"scroll":ot=vd;break;case"wheel":ot=Zd;break;case"copy":case"cut":case"paste":ot=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Td}var dt=(s&4)!==0,yt=!dt&&i==="scroll",it=dt?st!==null?st+"Capture":null:st;dt=[];for(var ct=tt,ht;ct!==null;){ht=ct;var kt=ht.stateNode;if(ht.tag===5&&kt!==null&&(ht=kt,it!==null&&(kt=Kb(ct,it),kt!=null&&dt.push(tf(ct,kt,ht)))),yt)break;ct=ct.return}0<dt.length&&(st=new ot(st,ut,null,o,nt),rt.push({event:st,listeners:dt}))}}if(!(s&7)){e:{if(st=i==="mouseover"||i==="pointerover",ot=i==="mouseout"||i==="pointerout",st&&o!==wb&&(ut=o.relatedTarget||o.fromElement)&&(Wc(ut)||ut[uf]))break e;if((ot||st)&&(st=nt.window===nt?nt:(st=nt.ownerDocument)?st.defaultView||st.parentWindow:window,ot?(ut=o.relatedTarget||o.toElement,ot=tt,ut=ut?Wc(ut):null,ut!==null&&(yt=Vb(ut),ut!==yt||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(ot=null,ut=tt),ot!==ut)){if(dt=Bd,kt="onMouseLeave",it="onMouseEnter",ct="mouse",(i==="pointerout"||i==="pointerover")&&(dt=Td,kt="onPointerLeave",it="onPointerEnter",ct="pointer"),yt=ot==null?st:ue(ot),ht=ut==null?st:ue(ut),st=new dt(kt,ct+"leave",ot,o,nt),st.target=yt,st.relatedTarget=ht,kt=null,Wc(nt)===tt&&(dt=new dt(it,ct+"enter",ut,o,nt),dt.target=ht,dt.relatedTarget=yt,kt=dt),yt=kt,ot&&ut)t:{for(dt=ot,it=ut,ct=0,ht=dt;ht;ht=vf(ht))ct++;for(ht=0,kt=it;kt;kt=vf(kt))ht++;for(;0<ct-ht;)dt=vf(dt),ct--;for(;0<ht-ct;)it=vf(it),ht--;for(;ct--;){if(dt===it||it!==null&&dt===it.alternate)break t;dt=vf(dt),it=vf(it)}dt=null}else dt=null;ot!==null&&wf(rt,st,ot,dt,!1),ut!==null&&yt!==null&&wf(rt,yt,ut,dt,!0)}}e:{if(st=tt?ue(tt):window,ot=st.nodeName&&st.nodeName.toLowerCase(),ot==="select"||ot==="input"&&st.type==="file")var pt=ve;else if(me(st))if(we)pt=Fe;else{pt=De;var at=Ce}else(ot=st.nodeName)&&ot.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(pt=Ee);if(pt&&(pt=pt(i,tt))){ne(rt,pt,o,nt);break e}at&&at(i,st,tt),i==="focusout"&&(at=st._wrapperState)&&at.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(at=tt?ue(tt):window,i){case"focusin":(me(at)||at.contentEditable==="true")&&(Qe=at,Re=tt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(rt,o,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(rt,o,nt)}var At;if(ae)e:{switch(i){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie?ge(i,o)&&(wt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(wt="onCompositionStart");wt&&(de&&o.locale!=="ko"&&(ie||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie&&(At=nd()):(kd=nt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),at=oe(tt,wt),0<at.length&&(wt=new Ld(wt,i,null,o,nt),rt.push({event:wt,listeners:at}),At?wt.data=At:(At=he(o),At!==null&&(wt.data=At)))),(At=ce?je(i,o):ke(i,o))&&(tt=oe(tt,"onBeforeInput"),0<tt.length&&(nt=new Ld("onBeforeInput","beforeinput",null,o,nt),rt.push({event:nt,listeners:tt}),nt.data=At))}se(rt,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var _=i,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=Kb(i,o),j!=null&&a.unshift(tf(i,j,_)),j=Kb(i,s),j!=null&&a.push(tf(i,j,_))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,_){for(var j=s._reactName,$=[];o!==null&&o!==a;){var _e=o,et=_e.alternate,tt=_e.stateNode;if(et!==null&&et===a)break;_e.tag===5&&tt!==null&&(_e=tt,_?(et=Kb(o,j),et!=null&&$.unshift(tf(o,et,_e))):_||(et=Kb(o,j),et!=null&&$.push(tf(o,et,_e)))),o=o.return}$.length!==0&&i.push({event:s,listeners:$})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var _=o.nextSibling;if(i.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(a===0){i.removeChild(_),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=_}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in o)_[j]=s[j];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p$1(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var _ in a)if(!(_ in s))throw Error(p$1(108,Ra(i)||"Unknown",_));return A({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p$1(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(_){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),_}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var _=32-oc(a)-1;a&=~(1<<_),o+=1;var j=32-oc(s)+_;if(30<j){var $=_-_%5;j=(a&(1<<$)-1).toString(32),a>>=$,_-=$,rg=1<<32-oc(s)+_|o<<_|a,sg=j+i}else rg=1<<j|o<<_|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$1(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$1(309));var a=o.stateNode}if(!a)throw Error(p$1(147,i));var _=a,j=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===j?s.ref:(s=function($){var _e=_.refs;$===null?delete _e[j]:_e[j]=$},s._stringRef=j,s)}if(typeof i!="string")throw Error(p$1(284));if(!o._owner)throw Error(p$1(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(it,ct){if(i){var ht=it.deletions;ht===null?(it.deletions=[ct],it.flags|=16):ht.push(ct)}}function o(it,ct){if(!i)return null;for(;ct!==null;)s(it,ct),ct=ct.sibling;return null}function a(it,ct){for(it=new Map;ct!==null;)ct.key!==null?it.set(ct.key,ct):it.set(ct.index,ct),ct=ct.sibling;return it}function _(it,ct){return it=Pg(it,ct),it.index=0,it.sibling=null,it}function j(it,ct,ht){return it.index=ht,i?(ht=it.alternate,ht!==null?(ht=ht.index,ht<ct?(it.flags|=2,ct):ht):(it.flags|=2,ct)):(it.flags|=1048576,ct)}function $(it){return i&&it.alternate===null&&(it.flags|=2),it}function _e(it,ct,ht,kt){return ct===null||ct.tag!==6?(ct=Qg(ht,it.mode,kt),ct.return=it,ct):(ct=_(ct,ht),ct.return=it,ct)}function et(it,ct,ht,kt){var pt=ht.type;return pt===ya?nt(it,ct,ht.props.children,kt,ht.key):ct!==null&&(ct.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&Ng(pt)===ct.type)?(kt=_(ct,ht.props),kt.ref=Lg(it,ct,ht),kt.return=it,kt):(kt=Rg(ht.type,ht.key,ht.props,null,it.mode,kt),kt.ref=Lg(it,ct,ht),kt.return=it,kt)}function tt(it,ct,ht,kt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==ht.containerInfo||ct.stateNode.implementation!==ht.implementation?(ct=Sg(ht,it.mode,kt),ct.return=it,ct):(ct=_(ct,ht.children||[]),ct.return=it,ct)}function nt(it,ct,ht,kt,pt){return ct===null||ct.tag!==7?(ct=Tg(ht,it.mode,kt,pt),ct.return=it,ct):(ct=_(ct,ht),ct.return=it,ct)}function rt(it,ct,ht){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return ct=Qg(""+ct,it.mode,ht),ct.return=it,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return ht=Rg(ct.type,ct.key,ct.props,null,it.mode,ht),ht.ref=Lg(it,null,ct),ht.return=it,ht;case wa:return ct=Sg(ct,it.mode,ht),ct.return=it,ct;case Ha:var kt=ct._init;return rt(it,kt(ct._payload),ht)}if(eb(ct)||Ka(ct))return ct=Tg(ct,it.mode,ht,null),ct.return=it,ct;Mg(it,ct)}return null}function st(it,ct,ht,kt){var pt=ct!==null?ct.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number")return pt!==null?null:_e(it,ct,""+ht,kt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ht.key===pt?et(it,ct,ht,kt):null;case wa:return ht.key===pt?tt(it,ct,ht,kt):null;case Ha:return pt=ht._init,st(it,ct,pt(ht._payload),kt)}if(eb(ht)||Ka(ht))return pt!==null?null:nt(it,ct,ht,kt,null);Mg(it,ht)}return null}function ot(it,ct,ht,kt,pt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return it=it.get(ht)||null,_e(ct,it,""+kt,pt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return it=it.get(kt.key===null?ht:kt.key)||null,et(ct,it,kt,pt);case wa:return it=it.get(kt.key===null?ht:kt.key)||null,tt(ct,it,kt,pt);case Ha:var at=kt._init;return ot(it,ct,ht,at(kt._payload),pt)}if(eb(kt)||Ka(kt))return it=it.get(ht)||null,nt(ct,it,kt,pt,null);Mg(ct,kt)}return null}function ut(it,ct,ht,kt){for(var pt=null,at=null,At=ct,wt=ct=0,bt=null;At!==null&&wt<ht.length;wt++){At.index>wt?(bt=At,At=null):bt=At.sibling;var Et=st(it,At,ht[wt],kt);if(Et===null){At===null&&(At=bt);break}i&&At&&Et.alternate===null&&s(it,At),ct=j(Et,ct,wt),at===null?pt=Et:at.sibling=Et,at=Et,At=bt}if(wt===ht.length)return o(it,At),I&&tg(it,wt),pt;if(At===null){for(;wt<ht.length;wt++)At=rt(it,ht[wt],kt),At!==null&&(ct=j(At,ct,wt),at===null?pt=At:at.sibling=At,at=At);return I&&tg(it,wt),pt}for(At=a(it,At);wt<ht.length;wt++)bt=ot(At,it,wt,ht[wt],kt),bt!==null&&(i&&bt.alternate!==null&&At.delete(bt.key===null?wt:bt.key),ct=j(bt,ct,wt),at===null?pt=bt:at.sibling=bt,at=bt);return i&&At.forEach(function(_t){return s(it,_t)}),I&&tg(it,wt),pt}function dt(it,ct,ht,kt){var pt=Ka(ht);if(typeof pt!="function")throw Error(p$1(150));if(ht=pt.call(ht),ht==null)throw Error(p$1(151));for(var at=pt=null,At=ct,wt=ct=0,bt=null,Et=ht.next();At!==null&&!Et.done;wt++,Et=ht.next()){At.index>wt?(bt=At,At=null):bt=At.sibling;var _t=st(it,At,Et.value,kt);if(_t===null){At===null&&(At=bt);break}i&&At&&_t.alternate===null&&s(it,At),ct=j(_t,ct,wt),at===null?pt=_t:at.sibling=_t,at=_t,At=bt}if(Et.done)return o(it,At),I&&tg(it,wt),pt;if(At===null){for(;!Et.done;wt++,Et=ht.next())Et=rt(it,Et.value,kt),Et!==null&&(ct=j(Et,ct,wt),at===null?pt=Et:at.sibling=Et,at=Et);return I&&tg(it,wt),pt}for(At=a(it,At);!Et.done;wt++,Et=ht.next())Et=ot(At,it,wt,Et.value,kt),Et!==null&&(i&&Et.alternate!==null&&At.delete(Et.key===null?wt:Et.key),ct=j(Et,ct,wt),at===null?pt=Et:at.sibling=Et,at=Et);return i&&At.forEach(function(Mt){return s(it,Mt)}),I&&tg(it,wt),pt}function yt(it,ct,ht,kt){if(typeof ht=="object"&&ht!==null&&ht.type===ya&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:e:{for(var pt=ht.key,at=ct;at!==null;){if(at.key===pt){if(pt=ht.type,pt===ya){if(at.tag===7){o(it,at.sibling),ct=_(at,ht.props.children),ct.return=it,it=ct;break e}}else if(at.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&Ng(pt)===at.type){o(it,at.sibling),ct=_(at,ht.props),ct.ref=Lg(it,at,ht),ct.return=it,it=ct;break e}o(it,at);break}else s(it,at);at=at.sibling}ht.type===ya?(ct=Tg(ht.props.children,it.mode,kt,ht.key),ct.return=it,it=ct):(kt=Rg(ht.type,ht.key,ht.props,null,it.mode,kt),kt.ref=Lg(it,ct,ht),kt.return=it,it=kt)}return $(it);case wa:e:{for(at=ht.key;ct!==null;){if(ct.key===at)if(ct.tag===4&&ct.stateNode.containerInfo===ht.containerInfo&&ct.stateNode.implementation===ht.implementation){o(it,ct.sibling),ct=_(ct,ht.children||[]),ct.return=it,it=ct;break e}else{o(it,ct);break}else s(it,ct);ct=ct.sibling}ct=Sg(ht,it.mode,kt),ct.return=it,it=ct}return $(it);case Ha:return at=ht._init,yt(it,ct,at(ht._payload),kt)}if(eb(ht))return ut(it,ct,ht,kt);if(Ka(ht))return dt(it,ct,ht,kt);Mg(it,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"?(ht=""+ht,ct!==null&&ct.tag===6?(o(it,ct.sibling),ct=_(ct,ht),ct.return=it,it=ct):(o(it,ct),ct=Qg(ht,it.mode,kt),ct.return=it,it=ct),$(it)):o(it,ct)}return yt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E(Wg),i._currentValue=s}function bh(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,o,a){var _=s.interleaved;return _===null?(o.next=o,gh(s)):(o.next=_.next,_.next=o),s.interleaved=o,ih(i,a)}function ih(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var _=a.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),a.pending=s,ih(i,o)}return _=a.interleaved,_===null?(s.next=s,gh(a)):(s.next=_.next,_.next=s),a.interleaved=s,ih(i,o)}function oh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function ph(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var _=null,j=null;if(o=o.firstBaseUpdate,o!==null){do{var $={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};j===null?_=j=$:j=j.next=$,o=o.next}while(o!==null);j===null?_=j=s:j=j.next=s}else _=j=s;o={baseState:a.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function qh(i,s,o,a){var _=i.updateQueue;jh=!1;var j=_.firstBaseUpdate,$=_.lastBaseUpdate,_e=_.shared.pending;if(_e!==null){_.shared.pending=null;var et=_e,tt=et.next;et.next=null,$===null?j=tt:$.next=tt,$=et;var nt=i.alternate;nt!==null&&(nt=nt.updateQueue,_e=nt.lastBaseUpdate,_e!==$&&(_e===null?nt.firstBaseUpdate=tt:_e.next=tt,nt.lastBaseUpdate=et))}if(j!==null){var rt=_.baseState;$=0,nt=tt=et=null,_e=j;do{var st=_e.lane,ot=_e.eventTime;if((a&st)===st){nt!==null&&(nt=nt.next={eventTime:ot,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var ut=i,dt=_e;switch(st=s,ot=o,dt.tag){case 1:if(ut=dt.payload,typeof ut=="function"){rt=ut.call(ot,rt,st);break e}rt=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=dt.payload,st=typeof ut=="function"?ut.call(ot,rt,st):ut,st==null)break e;rt=A({},rt,st);break e;case 2:jh=!0}}_e.callback!==null&&_e.lane!==0&&(i.flags|=64,st=_.effects,st===null?_.effects=[_e]:st.push(_e))}else ot={eventTime:ot,lane:st,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},nt===null?(tt=nt=ot,et=rt):nt=nt.next=ot,$|=st;if(_e=_e.next,_e===null){if(_e=_.shared.pending,_e===null)break;st=_e,_e=st.next,st.next=null,_.lastBaseUpdate=st,_.shared.pending=null}}while(1);if(nt===null&&(et=rt),_.baseState=et,_.firstBaseUpdate=tt,_.lastBaseUpdate=nt,s=_.shared.interleaved,s!==null){_=s;do $|=_.lane,_=_.next;while(_!==s)}else j===null&&(_.shared.lanes=0);rh|=$,i.lanes=$,i.memoizedState=rt}}function sh(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],_=a.callback;if(_!==null){if(a.callback=null,a=o,typeof _!="function")throw Error(p$1(191,_));_.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,s){switch(G(wh,s),G(vh,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),o=lb(s,i.type);s!==o&&(G(vh,i),G(uh,o))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Nh(i,s,o,a,_,j){if(Hh=j,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(a,_),Jh){j=0;do{if(Jh=!1,Kh=0,25<=j)throw Error(p$1(301));j+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=o(a,_)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=i;var a=N,_=a.baseQueue,j=o.pending;if(j!==null){if(_!==null){var $=_.next;_.next=j.next,j.next=$}a.baseQueue=_=j,o.pending=null}if(_!==null){j=_.next,a=a.baseState;var _e=$=null,et=null,tt=j;do{var nt=tt.lane;if((Hh&nt)===nt)et!==null&&(et=et.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),a=tt.hasEagerState?tt.eagerState:i(a,tt.action);else{var rt={lane:nt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};et===null?(_e=et=rt,$=a):et=et.next=rt,M.lanes|=nt,rh|=nt}tt=tt.next}while(tt!==null&&tt!==j);et===null?$=a:et.next=_e,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=$,s.baseQueue=et,o.lastRenderedState=a}if(i=o.interleaved,i!==null){_=i;do j=_.lane,M.lanes|=j,rh|=j,_=_.next;while(_!==i)}else _===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=i;var a=o.dispatch,_=o.pending,j=s.memoizedState;if(_!==null){o.pending=null;var $=_=_.next;do j=i(j,$.action),$=$.next;while($!==_);He(j,s.memoizedState)||(dh=!0),s.memoizedState=j,s.baseQueue===null&&(s.baseState=j),o.lastRenderedState=j}return[j,a]}function Yh(){}function Zh(i,s){var o=M,a=Uh(),_=s(),j=!He(a.memoizedState,_);if(j&&(a.memoizedState=_,dh=!0),a=a.queue,$h(ai.bind(null,o,a,i),[i]),a.getSnapshot!==s||j||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,_,s),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(o,s,_)}return _}function di(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ci(i,s,o,a){s.value=o,s.getSnapshot=a,ei(s)&&fi(i)}function ai(i,s,o){return o(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,o,a){var _=Th();M.flags|=i,_.memoizedState=bi(1|s,o,void 0,a===void 0?null:a)}function li(i,s,o,a){var _=Uh();a=a===void 0?null:a;var j=void 0;if(N!==null){var $=N.memoizedState;if(j=$.destroy,a!==null&&Mh(a,$.deps)){_.memoizedState=bi(s,o,j,a);return}}M.flags|=i,_.memoizedState=bi(1|s,o,j,a)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,s,i),o)}function ri(){}function si(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function ti(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function ui(i,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,s,o){var a=yi(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,o);else if(o=hh(i,s,o,a),o!==null){var _=R();gi(o,i,a,_),Bi(o,s,a)}}function ii(i,s,o){var a=yi(i),_={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,_);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=s.lastRenderedReducer,j!==null))try{var $=s.lastRenderedState,_e=j($,o);if(_.hasEagerState=!0,_.eagerState=_e,He(_e,$)){var et=s.interleaved;et===null?(_.next=_,gh(s)):(_.next=et.next,et.next=_),s.interleaved=_;return}}catch{}finally{}o=hh(i,s,_,a),o!==null&&(_=R(),gi(o,i,a,_),Bi(o,s,a))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Bi(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var o=Th();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=Th();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=M,_=Th();if(I){if(o===void 0)throw Error(p$1(407));o=o()}else{if(o=s(),Q===null)throw Error(p$1(349));Hh&30||di(a,s,o)}_.memoizedState=o;var j={value:o,getSnapshot:s};return _.queue=j,mi(ai.bind(null,a,j,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,j,o,s),void 0,null),o},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}function Di(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=R(),_=yi(i),j=mh(a,_);j.payload=s,o!=null&&(j.callback=o),s=nh(i,j,_),s!==null&&(gi(s,i,_,a),oh(s,i,_))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=R(),_=yi(i),j=mh(a,_);j.tag=1,j.payload=s,o!=null&&(j.callback=o),s=nh(i,j,_),s!==null&&(gi(s,i,_,a),oh(s,i,_))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=R(),a=yi(i),_=mh(o,a);_.tag=2,s!=null&&(_.callback=s),s=nh(i,_,a),s!==null&&(gi(s,i,a,o),oh(s,i,a))}};function Fi(i,s,o,a,_,j,$){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,j,$):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(_,j):!0}function Gi(i,s,o){var a=!1,_=Vf,j=s.contextType;return typeof j=="object"&&j!==null?j=eh(j):(_=Zf(s)?Xf:H.current,a=s.contextTypes,j=(a=a!=null)?Yf(i,_):Vf),s=new s(o,j),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=j),s}function Hi(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,o,a){var _=i.stateNode;_.props=o,_.state=i.memoizedState,_.refs={},kh(i);var j=s.contextType;typeof j=="object"&&j!==null?_.context=eh(j):(j=Zf(s)?Xf:H.current,_.context=Yf(i,j)),_.state=i.memoizedState,j=s.getDerivedStateFromProps,typeof j=="function"&&(Di(i,s,j,o),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&Ei.enqueueReplaceState(_,_.state,null),qh(i,o,_,a),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var _=o}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:i,source:s,stack:_,digest:null}}function Ki(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,s)},o}function Qi(i,s,o){o=mh(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var _=s.value;o.payload=function(){return a(_)},o.callback=function(){Li(i,s)}}var j=i.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(o.callback=function(){Li(i,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var $=s.stack;this.componentDidCatch(s.value,{componentStack:$!==null?$:""})}),o}function Si(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var _=new Set;a.set(s,_)}else _=a.get(s),_===void 0&&(_=new Set,a.set(s,_));_.has(o)||(_.add(o),i=Ti.bind(null,i,s,o),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,o,a,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,o,a){s.child=i===null?Vg(s,null,o,a):Ug(s,i.child,o,a)}function Yi(i,s,o,a,_){o=o.render;var j=s.ref;return ch(s,_),a=Nh(i,s,o,a,j,_),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Zi(i,s,_)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,_),s.child)}function $i(i,s,o,a,_){if(i===null){var j=o.type;return typeof j=="function"&&!aj(j)&&j.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=j,bj(i,s,j,a,_)):(i=Rg(o.type,null,a,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(j=i.child,!(i.lanes&_)){var $=j.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o($,a)&&i.ref===s.ref)return Zi(i,s,_)}return s.flags|=1,i=Pg(j,a),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,o,a,_){if(i!==null){var j=i.memoizedProps;if(Ie(j,a)&&i.ref===s.ref)if(dh=!1,s.pendingProps=a=j,(i.lanes&_)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,_)}return cj(i,s,o,a,_)}function dj(i,s,o){var a=s.pendingProps,_=a.children,j=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=j!==null?j.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=j!==null?j.baseLanes:o,G(ej,fj),fj|=a}else j!==null?(a=j.baseLanes|o,s.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(i,s,_,o),s.child}function gj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,o,a,_){var j=Zf(o)?Xf:H.current;return j=Yf(s,j),ch(s,_),o=Nh(i,s,o,a,j,_),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Zi(i,s,_)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,_),s.child)}function hj(i,s,o,a,_){if(Zf(o)){var j=!0;cg(s)}else j=!1;if(ch(s,_),s.stateNode===null)ij(i,s),Gi(s,o,a),Ii(s,o,a,_),a=!0;else if(i===null){var $=s.stateNode,_e=s.memoizedProps;$.props=_e;var et=$.context,tt=o.contextType;typeof tt=="object"&&tt!==null?tt=eh(tt):(tt=Zf(o)?Xf:H.current,tt=Yf(s,tt));var nt=o.getDerivedStateFromProps,rt=typeof nt=="function"||typeof $.getSnapshotBeforeUpdate=="function";rt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(_e!==a||et!==tt)&&Hi(s,$,a,tt),jh=!1;var st=s.memoizedState;$.state=st,qh(s,a,$,_),et=s.memoizedState,_e!==a||st!==et||Wf.current||jh?(typeof nt=="function"&&(Di(s,o,nt,a),et=s.memoizedState),(_e=jh||Fi(s,o,_e,a,st,et,tt))?(rt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(s.flags|=4194308)):(typeof $.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=et),$.props=a,$.state=et,$.context=tt,a=_e):(typeof $.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{$=s.stateNode,lh(i,s),_e=s.memoizedProps,tt=s.type===s.elementType?_e:Ci(s.type,_e),$.props=tt,rt=s.pendingProps,st=$.context,et=o.contextType,typeof et=="object"&&et!==null?et=eh(et):(et=Zf(o)?Xf:H.current,et=Yf(s,et));var ot=o.getDerivedStateFromProps;(nt=typeof ot=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(_e!==rt||st!==et)&&Hi(s,$,a,et),jh=!1,st=s.memoizedState,$.state=st,qh(s,a,$,_);var ut=s.memoizedState;_e!==rt||st!==ut||Wf.current||jh?(typeof ot=="function"&&(Di(s,o,ot,a),ut=s.memoizedState),(tt=jh||Fi(s,o,tt,a,st,ut,et)||!1)?(nt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(a,ut,et),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(a,ut,et)),typeof $.componentDidUpdate=="function"&&(s.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof $.componentDidUpdate!="function"||_e===i.memoizedProps&&st===i.memoizedState||(s.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||_e===i.memoizedProps&&st===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=ut),$.props=a,$.state=ut,$.context=et,a=tt):(typeof $.componentDidUpdate!="function"||_e===i.memoizedProps&&st===i.memoizedState||(s.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||_e===i.memoizedProps&&st===i.memoizedState||(s.flags|=1024),a=!1)}return jj(i,s,o,a,j,_)}function jj(i,s,o,a,_,j){gj(i,s);var $=(s.flags&128)!==0;if(!a&&!$)return _&&dg(s,o,!1),Zi(i,s,j);a=s.stateNode,Wi.current=s;var _e=$&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&$?(s.child=Ug(s,i.child,null,j),s.child=Ug(s,null,_e,j)):Xi(i,s,_e,j),s.memoizedState=a.state,_&&dg(s,o,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,o,a,_){return Ig(),Jg(_),s.flags|=256,Xi(i,s,o,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,o){var a=s.pendingProps,_=L.current,j=!1,$=(s.flags&128)!==0,_e;if((_e=$)||(_e=i!==null&&i.memoizedState===null?!1:(_&2)!==0),_e?(j=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),G(L,_&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):($=a.children,i=a.fallback,j?(a=s.mode,j=s.child,$={mode:"hidden",children:$},!(a&1)&&j!==null?(j.childLanes=0,j.pendingProps=$):j=pj($,a,0,null),i=Tg(i,a,o,null),j.return=s,i.return=s,j.sibling=i,s.child=j,s.child.memoizedState=nj(o),s.memoizedState=mj,i):qj(s,$));if(_=i.memoizedState,_!==null&&(_e=_.dehydrated,_e!==null))return rj(i,s,$,a,_e,_,o);if(j){j=a.fallback,$=s.mode,_=i.child,_e=_.sibling;var et={mode:"hidden",children:a.children};return!($&1)&&s.child!==_?(a=s.child,a.childLanes=0,a.pendingProps=et,s.deletions=null):(a=Pg(_,et),a.subtreeFlags=_.subtreeFlags&14680064),_e!==null?j=Pg(_e,j):(j=Tg(j,$,o,null),j.flags|=2),j.return=s,a.return=s,a.sibling=j,s.child=a,a=j,j=s.child,$=i.child.memoizedState,$=$===null?nj(o):{baseLanes:$.baseLanes|o,cachePool:null,transitions:$.transitions},j.memoizedState=$,j.childLanes=i.childLanes&~o,s.memoizedState=mj,a}return j=i.child,i=j.sibling,a=Pg(j,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,o,a){return a!==null&&Jg(a),Ug(s,i.child,null,o),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,o,a,_,j,$){if(o)return s.flags&256?(s.flags&=-257,a=Ki(Error(p$1(422))),sj(i,s,$,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(j=a.fallback,_=s.mode,a=pj({mode:"visible",children:a.children},_,0,null),j=Tg(j,_,$,null),j.flags|=2,a.return=s,j.return=s,a.sibling=j,s.child=a,s.mode&1&&Ug(s,i.child,null,$),s.child.memoizedState=nj($),s.memoizedState=mj,j);if(!(s.mode&1))return sj(i,s,$,null);if(_.data==="$!"){if(a=_.nextSibling&&_.nextSibling.dataset,a)var _e=a.dgst;return a=_e,j=Error(p$1(419)),a=Ki(j,a,void 0),sj(i,s,$,a)}if(_e=($&i.childLanes)!==0,dh||_e){if(a=Q,a!==null){switch($&-$){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(a.suspendedLanes|$)?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,ih(i,_),gi(a,i,_,-1))}return tj(),a=Ki(Error(p$1(421))),sj(i,s,$,a)}return _.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),_._reactRetry=s,null):(i=j.treeContext,yg=Lf(_.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),bh(i.return,s,o)}function wj(i,s,o,a,_){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:_}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=a,j.tail=o,j.tailMode=_)}function xj(i,s,o){var a=s.pendingProps,_=a.revealOrder,j=a.tail;if(Xi(i,s,a.children,o),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,s);else if(i.tag===19)vj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(o=s.child,_=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(_=o),o=o.sibling;o=_,o===null?(_=s.child,s.child=null):(_=o.sibling,o.sibling=null),wj(s,!1,_,o,j);break;case"backwards":for(o=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Ch(i)===null){s.child=_;break}i=_.sibling,_.sibling=o,o=_,_=i}wj(s,!0,o,null,j);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$1(153));if(s.child!==null){for(i=s.child,o=Pg(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(i,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,_=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=_;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):o&s.child.childLanes?oj(i,s,o):(G(L,L.current&1),i=Zi(i,s,o),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return xj(i,s,o);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,o)}return Zi(i,s,o)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,s,o,a){var _=i.memoizedProps;if(_!==a){i=s.stateNode,xh(uh.current);var j=null;switch(o){case"input":_=Ya(i,_),a=Ya(i,a),j=[];break;case"select":_=A({},_,{value:void 0}),a=A({},a,{value:void 0}),j=[];break;case"textarea":_=gb(i,_),a=gb(i,a),j=[];break;default:typeof _.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var $;o=null;for(tt in _)if(!a.hasOwnProperty(tt)&&_.hasOwnProperty(tt)&&_[tt]!=null)if(tt==="style"){var _e=_[tt];for($ in _e)_e.hasOwnProperty($)&&(o||(o={}),o[$]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?j||(j=[]):(j=j||[]).push(tt,null));for(tt in a){var et=a[tt];if(_e=_!=null?_[tt]:void 0,a.hasOwnProperty(tt)&&et!==_e&&(et!=null||_e!=null))if(tt==="style")if(_e){for($ in _e)!_e.hasOwnProperty($)||et&&et.hasOwnProperty($)||(o||(o={}),o[$]="");for($ in et)et.hasOwnProperty($)&&_e[$]!==et[$]&&(o||(o={}),o[$]=et[$])}else o||(j||(j=[]),j.push(tt,o)),o=et;else tt==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,_e=_e?_e.__html:void 0,et!=null&&_e!==et&&(j=j||[]).push(tt,et)):tt==="children"?typeof et!="string"&&typeof et!="number"||(j=j||[]).push(tt,""+et):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(tt)?(et!=null&&tt==="onScroll"&&D("scroll",i),j||_e===et||(j=[])):(j=j||[]).push(tt,et))}o&&(j=j||[]).push("style",o);var tt=j;(s.updateQueue=tt)&&(s.flags|=4)}};Cj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var _=i.child;_!==null;)o|=_.lanes|_.childLanes,a|=_.subtreeFlags&14680064,a|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)o|=_.lanes|_.childLanes,a|=_.subtreeFlags,a|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Ej(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var _=xh(wh.current);if(o=s.type,i!==null&&s.stateNode!=null)Bj(i,s,o,a,_),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p$1(166));return S(s),null}if(i=xh(uh.current),Gg(s)){a=s.stateNode,o=s.type;var j=s.memoizedProps;switch(a[Of]=s,a[Pf]=j,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,j),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!j.multiple},D("invalid",a);break;case"textarea":hb(a,j),D("invalid",a)}ub(o,j),_=null;for(var $ in j)if(j.hasOwnProperty($)){var _e=j[$];$==="children"?typeof _e=="string"?a.textContent!==_e&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,_e,i),_=["children",_e]):typeof _e=="number"&&a.textContent!==""+_e&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,_e,i),_=["children",""+_e]):ea.hasOwnProperty($)&&_e!=null&&$==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,j,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(a.onclick=Bf)}a=_,s.updateQueue=a,a!==null&&(s.flags|=4)}else{$=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=$.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=$.createElement(o,{is:a.is}):(i=$.createElement(o),o==="select"&&($=i,a.multiple?$.multiple=!0:a.size&&($.size=a.size))):i=$.createElementNS(i,o),i[Of]=s,i[Pf]=a,zj(i,s,!1,!1),s.stateNode=i;e:{switch($=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),_=a;break;case"iframe":case"object":case"embed":D("load",i),_=a;break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],i);_=a;break;case"source":D("error",i),_=a;break;case"img":case"image":case"link":D("error",i),D("load",i),_=a;break;case"details":D("toggle",i),_=a;break;case"input":Za(i,a),_=Ya(i,a),D("invalid",i);break;case"option":_=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},_=A({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),_=gb(i,a),D("invalid",i);break;default:_=a}ub(o,_),_e=_;for(j in _e)if(_e.hasOwnProperty(j)){var et=_e[j];j==="style"?sb(i,et):j==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,et!=null&&nb(i,et)):j==="children"?typeof et=="string"?(o!=="textarea"||et!=="")&&ob(i,et):typeof et=="number"&&ob(i,""+et):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?et!=null&&j==="onScroll"&&D("scroll",i):et!=null&&ta(i,j,et,$))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,j=a.value,j!=null?fb(i,!!a.multiple,j,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p$1(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(j=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}j&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,j=!1;else if(j=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!j)throw Error(p$1(318));if(j=s.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$1(317));j[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),j=!1}else zg!==null&&(Fj(zg),zg=null),j=!0;if(!j)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),j=s.memoizedState,j===null)return S(s),null;if(a=(s.flags&128)!==0,$=j.rendering,$===null)if(a)Dj(j,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if($=Ch(i),$!==null){for(s.flags|=128,Dj(j,!1),a=$.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)j=o,i=a,j.flags&=14680066,$=j.alternate,$===null?(j.childLanes=0,j.lanes=i,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=$.childLanes,j.lanes=$.lanes,j.child=$.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=$.memoizedProps,j.memoizedState=$.memoizedState,j.updateQueue=$.updateQueue,j.type=$.type,i=$.dependencies,j.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L,L.current&1|2),s.child}i=i.sibling}j.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(j,!1),s.lanes=4194304)}else{if(!a)if(i=Ch($),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!I)return S(s),null}else 2*B()-j.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,a=!0,Dj(j,!1),s.lanes=4194304);j.isBackwards?($.sibling=s.child,s.child=$):(o=j.last,o!==null?o.sibling=$:s.child=$,j.last=$)}return j.tail!==null?(s=j.tail,j.rendering=s,j.tail=s.sibling,j.renderingStartTime=B(),s.sibling=null,o=L.current,G(L,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Mj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var _=a.anchorOffset,j=a.focusNode;a=a.focusOffset;try{o.nodeType,j.nodeType}catch{o=null;break e}var $=0,_e=-1,et=-1,tt=0,nt=0,rt=i,st=null;t:for(;;){for(var ot;rt!==o||_!==0&&rt.nodeType!==3||(_e=$+_),rt!==j||a!==0&&rt.nodeType!==3||(et=$+a),rt.nodeType===3&&($+=rt.nodeValue.length),(ot=rt.firstChild)!==null;)st=rt,rt=ot;for(;;){if(rt===i)break t;if(st===o&&++tt===_&&(_e=$),st===j&&++nt===a&&(et=$),(ot=rt.nextSibling)!==null)break;rt=st,st=rt.parentNode}rt=ot}o=_e===-1||et===-1?null:{start:_e,end:et}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var ut=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var dt=ut.memoizedProps,yt=ut.memoizedState,it=s.stateNode,ct=it.getSnapshotBeforeUpdate(s.elementType===s.type?dt:Ci(s.type,dt),yt);it.__reactInternalSnapshotBeforeUpdate=ct}break;case 3:var ht=s.stateNode.containerInfo;ht.nodeType===1?ht.textContent="":ht.nodeType===9&&ht.documentElement&&ht.removeChild(ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(kt){W(s,s.return,kt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return ut=Nj,Nj=!1,ut}function Pj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var _=a=a.next;do{if((_.tag&i)===i){var j=_.destroy;_.destroy=void 0,j!==void 0&&Mj(s,o,j)}_=_.next}while(_!==a)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Rj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,s,o),i=i.sibling;i!==null;)Vj(i,s,o),i=i.sibling}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}var X=null,Xj=!1;function Yj(i,s,o){for(o=o.child;o!==null;)Zj(i,s,o),o=o.sibling}function Zj(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Lj(o,s);case 6:var a=X,_=Xj;X=null,Yj(i,s,o),X=a,Xj=_,X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,_=Xj,X=o.stateNode.containerInfo,Xj=!0,Yj(i,s,o),X=a,Xj=_;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){_=a=a.next;do{var j=_,$=j.destroy;j=j.tag,$!==void 0&&(j&2||j&4)&&Mj(o,s,$),_=_.next}while(_!==a)}Yj(i,s,o);break;case 1:if(!U&&(Lj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(_e){W(o,s,_e)}Yj(i,s,o);break;case 21:Yj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Yj(i,s,o),U=a):Yj(i,s,o);break;default:Yj(i,s,o)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),s.forEach(function(a){var _=bk.bind(null,i,a);o.has(a)||(o.add(a),a.then(_,_))})}}function ck(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var _=o[a];try{var j=i,$=s,_e=$;e:for(;_e!==null;){switch(_e.tag){case 5:X=_e.stateNode,Xj=!1;break e;case 3:X=_e.stateNode.containerInfo,Xj=!0;break e;case 4:X=_e.stateNode.containerInfo,Xj=!0;break e}_e=_e.return}if(X===null)throw Error(p$1(160));Zj(j,$,_),X=null,Xj=!1;var et=_.alternate;et!==null&&(et.return=null),_.return=null}catch(tt){W(_,s,tt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(dt){W(i,i.return,dt)}try{Pj(5,i,i.return)}catch(dt){W(i,i.return,dt)}}break;case 1:ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return),i.flags&32){var _=i.stateNode;try{ob(_,"")}catch(dt){W(i,i.return,dt)}}if(a&4&&(_=i.stateNode,_!=null)){var j=i.memoizedProps,$=o!==null?o.memoizedProps:j,_e=i.type,et=i.updateQueue;if(i.updateQueue=null,et!==null)try{_e==="input"&&j.type==="radio"&&j.name!=null&&ab(_,j),vb(_e,$);var tt=vb(_e,j);for($=0;$<et.length;$+=2){var nt=et[$],rt=et[$+1];nt==="style"?sb(_,rt):nt==="dangerouslySetInnerHTML"?nb(_,rt):nt==="children"?ob(_,rt):ta(_,nt,rt,tt)}switch(_e){case"input":bb(_,j);break;case"textarea":ib(_,j);break;case"select":var st=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var ot=j.value;ot!=null?fb(_,!!j.multiple,ot,!1):st!==!!j.multiple&&(j.defaultValue!=null?fb(_,!!j.multiple,j.defaultValue,!0):fb(_,!!j.multiple,j.multiple?[]:"",!1))}_[Pf]=j}catch(dt){W(i,i.return,dt)}}break;case 6:if(ck(s,i),ek(i),a&4){if(i.stateNode===null)throw Error(p$1(162));_=i.stateNode,j=i.memoizedProps;try{_.nodeValue=j}catch(dt){W(i,i.return,dt)}}break;case 3:if(ck(s,i),ek(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(dt){W(i,i.return,dt)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),_=i.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if(nt=o!==null&&o.memoizedState!==null,i.mode&1?(U=(tt=U)||nt,ck(s,i),U=tt):ck(s,i),ek(i),a&8192){if(tt=i.memoizedState!==null,(i.stateNode.isHidden=tt)&&!nt&&i.mode&1)for(V=i,nt=i.child;nt!==null;){for(rt=V=nt;V!==null;){switch(st=V,ot=st.child,st.tag){case 0:case 11:case 14:case 15:Pj(4,st,st.return);break;case 1:Lj(st,st.return);var ut=st.stateNode;if(typeof ut.componentWillUnmount=="function"){a=st,o=st.return;try{s=a,ut.props=s.memoizedProps,ut.state=s.memoizedState,ut.componentWillUnmount()}catch(dt){W(a,o,dt)}}break;case 5:Lj(st,st.return);break;case 22:if(st.memoizedState!==null){gk(rt);continue}}ot!==null?(ot.return=st,V=ot):gk(rt)}nt=nt.sibling}e:for(nt=null,rt=i;;){if(rt.tag===5){if(nt===null){nt=rt;try{_=rt.stateNode,tt?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(_e=rt.stateNode,et=rt.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null,_e.style.display=rb("display",$))}catch(dt){W(i,i.return,dt)}}}else if(rt.tag===6){if(nt===null)try{rt.stateNode.nodeValue=tt?"":rt.memoizedProps}catch(dt){W(i,i.return,dt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===i)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===i)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===i)break e;nt===rt&&(nt=null),rt=rt.return}nt===rt&&(nt=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:ck(s,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p$1(160))}switch(a.tag){case 5:var _=a.stateNode;a.flags&32&&(ob(_,""),a.flags&=-33);var j=Uj(i);Wj(i,j,_);break;case 3:case 4:var $=a.stateNode.containerInfo,_e=Uj(i);Vj(i,_e,$);break;default:throw Error(p$1(161))}}catch(et){W(i,i.return,et)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,o){V=i,ik(i)}function ik(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var _=V,j=_.child;if(_.tag===22&&a){var $=_.memoizedState!==null||Jj;if(!$){var _e=_.alternate,et=_e!==null&&_e.memoizedState!==null||U;_e=Jj;var tt=U;if(Jj=$,(U=et)&&!tt)for(V=_;V!==null;)$=V,et=$.child,$.tag===22&&$.memoizedState!==null?jk(_):et!==null?(et.return=$,V=et):jk(_);for(;j!==null;)V=j,ik(j),j=j.sibling;V=_,Jj=_e,U=tt}kk(i)}else _.subtreeFlags&8772&&j!==null?(j.return=_,V=j):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var _=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);a.componentDidUpdate(_,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var j=s.updateQueue;j!==null&&sh(s,j,a);break;case 3:var $=s.updateQueue;if($!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,$,o)}break;case 5:var _e=s.stateNode;if(o===null&&s.flags&4){o=_e;var et=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":et.autoFocus&&o.focus();break;case"img":et.src&&(o.src=et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var tt=s.alternate;if(tt!==null){var nt=tt.memoizedState;if(nt!==null){var rt=nt.dehydrated;rt!==null&&bd(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||s.flags&512&&Rj(s)}catch(st){W(s,s.return,st)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(et){W(s,o,et)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var _=s.return;try{a.componentDidMount()}catch(et){W(s,_,et)}}var j=s.return;try{Rj(s)}catch(et){W(s,j,et)}break;case 5:var $=s.return;try{Rj(s)}catch(et){W(s,$,et)}}}catch(et){W(s,s.return,et)}if(s===i){V=null;break}var _e=s.sibling;if(_e!==null){_e.return=s.return,V=_e;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$1=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,o,a){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,o,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,a),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===Q?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Ik(i,a);else{s=a;var _=K;K|=2;var j=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(_e){Mk(i,_e)}while(1);$g(),mk.current=j,K=_,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(_=xc(i),_!==0&&(a=_,s=Nk(i,_))),s===1)throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;if(s===6)Ck(i,a);else{if(_=i.current.alternate,!(a&30)&&!Ok(_)&&(s=Ik(i,a),s===2&&(j=xc(i),j!==0&&(a=j,s=Nk(i,j))),s===1))throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;switch(i.finishedWork=_,i.finishedLanes=a,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(_=i.suspendedLanes,(_&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(s=i.eventTimes,_=-1;0<a;){var $=31-oc(a);j=1<<$,$=s[$],$>_&&(_=$),a&=~j}if(a=_,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,s){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=o,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var _=o[a],j=_.getSnapshot;_=_.value;try{if(!He(j(),_))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var o=Ik(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Nk(i,a))}if(o===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(o===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok$1.transition,a=C;try{if(ok$1.transition=null,C=1,i)return i()}finally{C=a,ok$1.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],a=o.interleaved,a!==null){o.interleaved=null;var _=a.next,j=o.pending;if(j!==null){var $=j.next;j.next=_,a.next=$}o.pending=a}fh=null}return i}function Mk(i,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var _=a.queue;_!==null&&(_.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var j=i,$=o.return,_e=o,et=s;if(s=Z,_e.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var tt=et,nt=_e,rt=nt.tag;if(!(nt.mode&1)&&(rt===0||rt===11||rt===15)){var st=nt.alternate;st?(nt.updateQueue=st.updateQueue,nt.memoizedState=st.memoizedState,nt.lanes=st.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var ot=Ui($);if(ot!==null){ot.flags&=-257,Vi(ot,$,_e,j,s),ot.mode&1&&Si(j,tt,s),s=ot,et=tt;var ut=s.updateQueue;if(ut===null){var dt=new Set;dt.add(et),s.updateQueue=dt}else ut.add(et);break e}else{if(!(s&1)){Si(j,tt,s),tj();break e}et=Error(p$1(426))}}else if(I&&_e.mode&1){var yt=Ui($);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Vi(yt,$,_e,j,s),Jg(Ji(et,_e));break e}}j=et=Ji(et,_e),T!==4&&(T=2),sk===null?sk=[j]:sk.push(j),j=$;do{switch(j.tag){case 3:j.flags|=65536,s&=-s,j.lanes|=s;var it=Ni(j,et,s);ph(j,it);break e;case 1:_e=et;var ct=j.type,ht=j.stateNode;if(!(j.flags&128)&&(typeof ct.getDerivedStateFromError=="function"||ht!==null&&typeof ht.componentDidCatch=="function"&&(Ri===null||!Ri.has(ht)))){j.flags|=65536,s&=-s,j.lanes|=s;var kt=Qi(j,_e,s);ph(j,kt);break e}}j=j.return}while(j!==null)}Sk(o)}catch(pt){s=pt,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(1)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var o=K;K|=2;var a=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(_){Mk(i,_)}while(1);if($g(),K=o,mk.current=a,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,o){var a=C,_=ok$1.transition;try{ok$1.transition=null,C=1,Wk(i,s,o,a)}finally{ok$1.transition=_,C=a}return null}function Wk(i,s,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));o=i.finishedWork;var _=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var j=o.lanes|o.childLanes;if(Bc(i,j),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),j=(o.flags&15990)!==0,o.subtreeFlags&15990||j){j=ok$1.transition,ok$1.transition=null;var $=C;C=1;var _e=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=_e,C=$,ok$1.transition=j}else i.current=o;if(vk&&(vk=!1,wk=i,xk=_),j=i.pendingLanes,j===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)_=s[o],a(_.value,{componentStack:_.stack,digest:_.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),j=i.pendingLanes,j&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok$1.transition,o=C;try{if(ok$1.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var _=K;for(K|=4,V=i.current;V!==null;){var j=V,$=j.child;if(V.flags&16){var _e=j.deletions;if(_e!==null){for(var et=0;et<_e.length;et++){var tt=_e[et];for(V=tt;V!==null;){var nt=V;switch(nt.tag){case 0:case 11:case 15:Pj(8,nt,j)}var rt=nt.child;if(rt!==null)rt.return=nt,V=rt;else for(;V!==null;){nt=V;var st=nt.sibling,ot=nt.return;if(Sj(nt),nt===tt){V=null;break}if(st!==null){st.return=ot,V=st;break}V=ot}}}var ut=j.alternate;if(ut!==null){var dt=ut.child;if(dt!==null){ut.child=null;do{var yt=dt.sibling;dt.sibling=null,dt=yt}while(dt!==null)}}V=j}}if(j.subtreeFlags&2064&&$!==null)$.return=j,V=$;else e:for(;V!==null;){if(j=V,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Pj(9,j,j.return)}var it=j.sibling;if(it!==null){it.return=j.return,V=it;break e}V=j.return}}var ct=i.current;for(V=ct;V!==null;){$=V;var ht=$.child;if($.subtreeFlags&2064&&ht!==null)ht.return=$,V=ht;else e:for($=ct;V!==null;){if(_e=V,_e.flags&2048)try{switch(_e.tag){case 0:case 11:case 15:Qj(9,_e)}}catch(pt){W(_e,_e.return,pt)}if(_e===$){V=null;break e}var kt=_e.sibling;if(kt!==null){kt.return=_e.return,V=kt;break e}V=_e.return}}if(K=_,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,ok$1.transition=s}}return!1}function Xk(i,s,o){s=Ji(o,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,o){if(i.tag===3)Xk(i,i,o);else for(;s!==null;){if(s.tag===3){Xk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(o,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R();i=ih(i,s),i!==null&&(Ac(i,s,o),Dk(i,o))}function uj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(i,o)}function bk(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,_=i.memoizedState;_!==null&&(o=_.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p$1(314))}a!==null&&a.delete(s),Yk(i,o)}var Vk;Vk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return dh=!1,yj(i,s,o);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(i,s),i=s.pendingProps;var _=Yf(s,H.current);ch(s,o),_=Nh(null,s,a,i,_,o);var j=Sh();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(j=!0,cg(s)):j=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,kh(s),_.updater=Ei,s.stateNode=_,_._reactInternals=s,Ii(s,a,i,o),s=jj(null,s,a,!0,j,o)):(s.tag=0,I&&j&&vg(s),Xi(null,s,_,o),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,_=a._init,a=_(a._payload),s.type=a,_=s.tag=Zk(a),i=Ci(a,i),_){case 0:s=cj(null,s,a,i,o);break e;case 1:s=hj(null,s,a,i,o);break e;case 11:s=Yi(null,s,a,i,o);break e;case 14:s=$i(null,s,a,Ci(a.type,i),o);break e}throw Error(p$1(306,a,""))}return s;case 0:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),cj(i,s,a,_,o);case 1:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),hj(i,s,a,_,o);case 3:e:{if(kj(s),i===null)throw Error(p$1(387));a=s.pendingProps,j=s.memoizedState,_=j.element,lh(i,s),qh(s,a,null,o);var $=s.memoizedState;if(a=$.element,j.isDehydrated)if(j={element:a,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},s.updateQueue.baseState=j,s.memoizedState=j,s.flags&256){_=Ji(Error(p$1(423)),s),s=lj(i,s,a,o,_);break e}else if(a!==_){_=Ji(Error(p$1(424)),s),s=lj(i,s,a,o,_);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===_){s=Zi(i,s,o);break e}Xi(i,s,a,o)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),a=s.type,_=s.pendingProps,j=i!==null?i.memoizedProps:null,$=_.children,Ef(a,_)?$=null:j!==null&&Ef(a,j)&&(s.flags|=32),gj(i,s),Xi(i,s,$,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,o);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Ug(s,null,a,o):Xi(i,s,a,o),s.child;case 11:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),Yi(i,s,a,_,o);case 7:return Xi(i,s,s.pendingProps,o),s.child;case 8:return Xi(i,s,s.pendingProps.children,o),s.child;case 12:return Xi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,_=s.pendingProps,j=s.memoizedProps,$=_.value,G(Wg,a._currentValue),a._currentValue=$,j!==null)if(He(j.value,$)){if(j.children===_.children&&!Wf.current){s=Zi(i,s,o);break e}}else for(j=s.child,j!==null&&(j.return=s);j!==null;){var _e=j.dependencies;if(_e!==null){$=j.child;for(var et=_e.firstContext;et!==null;){if(et.context===a){if(j.tag===1){et=mh(-1,o&-o),et.tag=2;var tt=j.updateQueue;if(tt!==null){tt=tt.shared;var nt=tt.pending;nt===null?et.next=et:(et.next=nt.next,nt.next=et),tt.pending=et}}j.lanes|=o,et=j.alternate,et!==null&&(et.lanes|=o),bh(j.return,o,s),_e.lanes|=o;break}et=et.next}}else if(j.tag===10)$=j.type===s.type?null:j.child;else if(j.tag===18){if($=j.return,$===null)throw Error(p$1(341));$.lanes|=o,_e=$.alternate,_e!==null&&(_e.lanes|=o),bh($,o,s),$=j.sibling}else $=j.child;if($!==null)$.return=j;else for($=j;$!==null;){if($===s){$=null;break}if(j=$.sibling,j!==null){j.return=$.return,$=j;break}$=$.return}j=$}Xi(i,s,_.children,o),s=s.child}return s;case 9:return _=s.type,a=s.pendingProps.children,ch(s,o),_=eh(_),a=a(_),s.flags|=1,Xi(i,s,a,o),s.child;case 14:return a=s.type,_=Ci(a,s.pendingProps),_=Ci(a.type,_),$i(i,s,a,_,o);case 15:return bj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),ij(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,ch(s,o),Gi(s,a,_),Ii(s,a,_,o),jj(null,s,a,!0,i,o);case 19:return xj(i,s,o);case 22:return dj(i,s,o)}throw Error(p$1(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new $k(i,s,o,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,s,o,a,_,j){var $=2;if(a=i,typeof i=="function")aj(i)&&($=1);else if(typeof i=="string")$=5;else e:switch(i){case ya:return Tg(o.children,_,j,s);case za:$=8,_|=8;break;case Aa:return i=Bg(12,o,s,_|2),i.elementType=Aa,i.lanes=j,i;case Ea:return i=Bg(13,o,s,_),i.elementType=Ea,i.lanes=j,i;case Fa:return i=Bg(19,o,s,_),i.elementType=Fa,i.lanes=j,i;case Ia:return pj(o,_,j,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:$=10;break e;case Ca:$=9;break e;case Da:$=11;break e;case Ga:$=14;break e;case Ha:$=16,a=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return s=Bg($,o,s,_),s.elementType=i,s.type=a,s.lanes=j,s}function Tg(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function pj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function Sg(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,o,a,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function bl(i,s,o,a,_,j,$,_e,et){return i=new al(i,s,o,_e,et),s===1?(s=1,j===!0&&(s|=8)):s=0,j=Bg(3,null,null,s),i.current=j,j.stateNode=i,j.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(j),i}function cl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function el(i,s,o,a,_,j,$,_e,et){return i=bl(o,a,!0,i,_,j,$,_e,et),i.context=dl(null),o=i.current,a=R(),_=yi(o),j=mh(a,_),j.callback=s??null,nh(o,j,_),i.current.lanes=_,Ac(i,_,a),Dk(i,a),i}function fl(i,s,o,a){var _=s.current,j=R(),$=yi(_);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh(j,$),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=nh(_,s,$),i!==null&&(gi(i,_,$,j),oh(i,_,$)),$}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,o,a,_){if(_){if(typeof a=="function"){var j=a;a=function(){var tt=gl($);j.call(tt)}}var $=el(s,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=$,i[uf]=$.current,sf(i.nodeType===8?i.parentNode:i),Rk(),$}for(;_=i.lastChild;)i.removeChild(_);if(typeof a=="function"){var _e=a;a=function(){var tt=gl(et);_e.call(tt)}}var et=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=et,i[uf]=et.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,et,o,a)}),et}function rl(i,s,o,a,_){var j=o._reactRootContainer;if(j){var $=j;if(typeof _=="function"){var _e=_;_=function(){var et=gl($);_e.call(et)}}fl(s,$,i,_)}else $=ql(o,s,i,_,a);return gl($)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var _=R();gi(a,i,1,_)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var o=R();gi(s,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),o=ih(i,s);if(o!==null){var a=R();gi(o,i,s,a)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var _=Db(a);if(!_)throw Error(p$1(90));Wa(a),bb(a,_)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p$1(299));var o=!1,a="",_=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=bl(i,1,!1,null,null,o,!1,a,_),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!nl(i))throw Error(p$1(405));var a=o!=null&&o.hydratedSources||null,_=!1,j="",$=kl;if(o!=null&&(o.unstable_strictMode===!0&&(_=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&($=o.onRecoverableError)),s=el(s,null,i,1,o??null,_,!1,j,$),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],_=o._getVersion,_=_(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,_]:s.mutableSourceEagerHydrationData.push(o,_);return new ml(s)};reactDom_production_min.render=function(i,s,o){if(!ol(s))throw Error(p$1(200));return rl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!ol(o))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,s,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;const Header=({currentPage:i,setCurrentPage:s})=>{const[o,a]=reactExports.useState(!1),_=[{label:"Início",page:"home",icon:"🏠"},{label:"Dashboard",page:"dashboard",icon:"📊"},{label:"Cursos",page:"cursos",icon:"📚"},{label:"Admin",page:"admin",icon:"⚙️"}];return console.log("Menu state:",o),jsxRuntimeExports.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("h1",{className:"text-white font-bold text-lg sm:text-xl",children:"📚 Controlador de estudos"})})}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("div",{className:"ml-10 flex items-baseline space-x-6",children:_.map(({label:j,page:$,icon:_e})=>jsxRuntimeExports.jsxs("button",{onClick:()=>s($),className:`px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${i===$?"bg-black/20 text-white/95 shadow-md transform scale-105":"text-white hover:bg-blue/15 hover:text-gray hover:scale-105"}`,children:[jsxRuntimeExports.jsx("span",{className:"mr-2",children:_e}),j]},$))})}),jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>{console.log("Botão clicado! Estado atual:",o),a(!o),console.log("Novo estado:",!o)},className:"inline-flex items-center justify-center p-3 rounded-lg text-white hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-gray/30 transition-all duration-200","aria-label":o?"Fechar menu":"Abrir menu",children:jsxRuntimeExports.jsx("svg",{className:"h-7 w-7",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o?jsxRuntimeExports.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):jsxRuntimeExports.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]}),o&&jsxRuntimeExports.jsx("div",{className:"mobile-menu-visible md:hidden",children:jsxRuntimeExports.jsx("div",{className:"px-2 pt-2 pb-3 space-y-3 sm:px-3",children:_.map(({label:j,page:$,icon:_e})=>jsxRuntimeExports.jsxs("button",{onClick:()=>{s($),a(!1)},className:`mobile-menu-button ${i===$?"active":""}`,children:[jsxRuntimeExports.jsx("span",{className:"mr-3 text-lg",children:_e}),j]},$))})})]})})},Main=({children:i})=>jsxRuntimeExports.jsx("main",{className:"flex-1 bg-gray-50 min-h-screen",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:i})})}),Footer=()=>jsxRuntimeExports.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-auto",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 md:mb-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📚 Controlador de estudos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Plataforma completa para preparação de concursos"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Desenvolvido com ❤️ para auxiliar na sua preparação"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"© 2025 Controlador de estudos."})]})]})})}),sections=[{title:"Dashboard",page:"dashboard",emoji:"📊",color:"from-blue-500 to-blue-600",description:"Visualize seu progresso e estatísticas de estudo"},{title:"Cursos",page:"cursos",emoji:"📚",color:"from-green-500 to-green-600",description:"Explore nossos cursos estruturados e organizados"},{title:"Flashcards",page:"flashcards",emoji:"🧠",color:"from-yellow-500 to-yellow-600",description:"Pratique com cartões de memorização inteligentes"},{title:"Simulados",page:"simulado",emoji:"📝",color:"from-purple-500 to-purple-600",description:"Teste seus conhecimentos com simulados realistas"},{title:"Resumos",page:"markdown",emoji:"📄",color:"from-indigo-500 to-indigo-600",description:"Crie e organize seus resumos e anotações"},{title:"PDFs",page:"pdf",emoji:"📖",color:"from-red-500 to-red-600",description:"Visualize e anote seus documentos PDF"}],AppHome=({setCurrentPage:i})=>jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Bem-vindo ao Controle de estudos para concursos."}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Sua plataforma completa para organizar, estudar e acompanhar seu progresso nos estudos para concursos."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:sections.map(({title:s,page:o,emoji:a,color:_,description:j})=>jsxRuntimeExports.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${_} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),jsxRuntimeExports.jsxs("div",{className:"relative p-8",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-6 transform group-hover:scale-110 transition-transform duration-300",children:a}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-gray-700 transition-colors duration-300",children:s}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:j}),jsxRuntimeExports.jsxs("button",{onClick:()=>i(o),className:`w-full bg-gradient-to-r ${_} text-white py-4 px-6 rounded-xl font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300/50 touch-manipulation min-h-[50px] text-base`,children:["Acessar ",s]})]})]},o))}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-8 mt-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"6"}),jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:"Módulos Disponíveis"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"100%"}),jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:"Gratuito"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"24/7"}),jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:"Acesso Ilimitado"})]})]})})]}),Flashcards=()=>{const[i,s]=reactExports.useState(0),[o,a]=reactExports.useState(!1),[_,j]=reactExports.useState(null),$=[{id:1,titulo:"Resolução nº 1.073 - Regulamento Administrativo",quantidade:20,progresso:65,ultimoEstudo:"01/06/2025"},{id:2,titulo:"Resolução nº 1.218 - Regimento Interno",quantidade:30,progresso:40,ultimoEstudo:"31/05/2025"},{id:3,titulo:"Resolução nº 1.771 - Polícia Legislativa",quantidade:20,progresso:25,ultimoEstudo:"30/05/2025"},{id:4,titulo:"Resolução nº 1.007 - Estrutura Administrativa",quantidade:25,progresso:10,ultimoEstudo:"29/05/2025"}],_e=[{pergunta:"Quem exerce a administração da Assembleia Legislativa do Estado de Goiás?",resposta:"A administração da Assembleia Legislativa é exercida pela Mesa Diretora, com o apoio dos órgãos de assessoramento, coordenação e execução."},{pergunta:"Quais são os sistemas administrativos que compõem a estrutura da ALEGO?",resposta:"Sistema de Planejamento e Orçamento; Sistema de Administração Financeira; Sistema de Contabilidade; Sistema de Administração de Material e Patrimônio; Sistema de Administração de Serviços Gerais; Sistema de Administração de Recursos Humanos; Sistema de Modernização Administrativa."},{pergunta:"O que são os cargos em comissão na ALEGO?",resposta:"São cargos de livre nomeação e exoneração, destinados às atribuições de direção, chefia e assessoramento, providos por ato do Presidente da Assembleia."},{pergunta:"Quem pode exercer funções especiais de confiança na ALEGO?",resposta:"As funções especiais de confiança são exercidas exclusivamente por servidores ocupantes de cargo efetivo, designados para atribuições de direção, chefia e assessoramento."},{pergunta:"Qual é a restrição para nomeação de parentes para cargos em comissão na ALEGO?",resposta:"É vedada a nomeação para cargo em comissão ou a designação para função especial de confiança de cônjuge, companheiro ou parente até o terceiro grau civil dos membros da Mesa Diretora, salvo se servidor efetivo da Assembleia."}],et=st=>{j(st),s(0),a(!1)},tt=()=>{i<_e.length-1&&(s(i+1),a(!1))},nt=()=>{i>0&&(s(i-1),a(!1))},rt=()=>{console.log("Criando nova coleção de flashcards"),alert("Funcionalidade de criação de coleção será implementada na versão final")};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0,border:"none",padding:0},children:"📚 Flashcards"}),jsxRuntimeExports.jsx("button",{className:"simple-btn",onClick:rt,children:"Nova Coleção"})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid",style:{gridTemplateColumns:"1fr 2fr",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Minhas Coleções"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},children:$.map(st=>jsxRuntimeExports.jsxs("div",{className:`${(_==null?void 0:_.id)===st.id?"simple-card":""}`,style:{padding:"1rem",cursor:"pointer",border:(_==null?void 0:_.id)===st.id?"2px solid var(--primary-blue)":"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:(_==null?void 0:_.id)===st.id?"rgba(59, 130, 246, 0.05)":"transparent",transition:"all 0.2s ease"},onClick:()=>et(st),children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1rem",margin:"0 0 0.5rem 0",fontWeight:"600"},children:st.titulo}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:"0 0 0.75rem 0"},children:[st.quantidade," cartões"]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"0.75rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginBottom:"0.25rem"},children:[jsxRuntimeExports.jsx("span",{children:"Progresso"}),jsxRuntimeExports.jsxs("span",{children:[st.progresso,"%"]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#e2e8f0",borderRadius:"2px",overflow:"hidden"},children:jsxRuntimeExports.jsx("div",{style:{width:`${st.progresso}%`,height:"100%",backgroundColor:"var(--primary-blue)",transition:"width 0.3s ease"}})})]}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:["Último estudo: ",st.ultimoEstudo]})]},st.id))})]}),jsxRuntimeExports.jsx("div",{children:_?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0},children:_.titulo}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[jsxRuntimeExports.jsx("button",{className:"simple-btn",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"Modo Estudo"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"Modo Teste"})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",style:{border:"2px solid var(--border-color)",minHeight:"350px"},children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center",minHeight:"300px"},children:o?jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-secondary)",margin:0},children:"Resposta:"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.6",margin:0},children:_e[i].resposta})]}):jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",margin:0},children:"Pergunta:"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.6",margin:0},children:_e[i].pergunta})]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid var(--border-color)",padding:"1rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",onClick:nt,disabled:i===0,style:{padding:"0.5rem 1rem",opacity:i===0?.5:1,cursor:i===0?"not-allowed":"pointer"},children:"← Anterior"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",onClick:tt,disabled:i===_e.length-1,style:{padding:"0.5rem 1rem",opacity:i===_e.length-1?.5:1,cursor:i===_e.length-1?"not-allowed":"pointer"},children:"Próximo →"})]}),jsxRuntimeExports.jsx("button",{className:"simple-btn",onClick:()=>a(!o),style:{padding:"0.5rem 1.5rem"},children:o?"Ver Pergunta":"Ver Resposta"})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Cartão ",i+1," de ",_e.length]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem",color:"#ef4444",borderColor:"#ef4444"},children:"Difícil"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem",color:"#f59e0b",borderColor:"#f59e0b"},children:"Médio"}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline",style:{padding:"0.5rem 1rem",fontSize:"0.9rem",color:"#10b981",borderColor:"#10b981"},children:"Fácil"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"simple-card",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"500px"},children:jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"600",marginBottom:"1rem"},children:"Nenhuma coleção selecionada"}),jsxRuntimeExports.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem"},children:"Selecione uma coleção existente ou crie uma nova"}),jsxRuntimeExports.jsx("button",{className:"simple-btn",onClick:rt,children:"Criar Nova Coleção"})]})})})]})]})};function r(i){var s,o,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var _=i.length;for(s=0;s<_;s++)i[s]&&(o=r(i[s]))&&(a&&(a+=" "),a+=o)}else for(o in i)i[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var i,s,o=0,a="",_=arguments.length;o<_;o++)(i=arguments[o])&&(s=r(i))&&(a&&(a+=" "),a+=s);return a}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=i=>{const s=createClassMap(i),{conflictingClassGroups:o,conflictingClassGroupModifiers:a}=i;return{getClassGroupId:$=>{const _e=$.split(CLASS_PART_SEPARATOR);return _e[0]===""&&_e.length!==1&&_e.shift(),getGroupRecursive(_e,s)||getGroupIdForArbitraryProperty($)},getConflictingClassGroupIds:($,_e)=>{const et=o[$]||[];return _e&&a[$]?[...et,...a[$]]:et}}},getGroupRecursive=(i,s)=>{var $;if(i.length===0)return s.classGroupId;const o=i[0],a=s.nextPart.get(o),_=a?getGroupRecursive(i.slice(1),a):void 0;if(_)return _;if(s.validators.length===0)return;const j=i.join(CLASS_PART_SEPARATOR);return($=s.validators.find(({validator:_e})=>_e(j)))==null?void 0:$.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=i=>{if(arbitraryPropertyRegex.test(i)){const s=arbitraryPropertyRegex.exec(i)[1],o=s==null?void 0:s.substring(0,s.indexOf(":"));if(o)return"arbitrary.."+o}},createClassMap=i=>{const{theme:s,classGroups:o}=i,a={nextPart:new Map,validators:[]};for(const _ in o)processClassesRecursively(o[_],a,_,s);return a},processClassesRecursively=(i,s,o,a)=>{i.forEach(_=>{if(typeof _=="string"){const j=_===""?s:getPart(s,_);j.classGroupId=o;return}if(typeof _=="function"){if(isThemeGetter(_)){processClassesRecursively(_(a),s,o,a);return}s.validators.push({validator:_,classGroupId:o});return}Object.entries(_).forEach(([j,$])=>{processClassesRecursively($,getPart(s,j),o,a)})})},getPart=(i,s)=>{let o=i;return s.split(CLASS_PART_SEPARATOR).forEach(a=>{o.nextPart.has(a)||o.nextPart.set(a,{nextPart:new Map,validators:[]}),o=o.nextPart.get(a)}),o},isThemeGetter=i=>i.isThemeGetter,createLruCache=i=>{if(i<1)return{get:()=>{},set:()=>{}};let s=0,o=new Map,a=new Map;const _=(j,$)=>{o.set(j,$),s++,s>i&&(s=0,a=o,o=new Map)};return{get(j){let $=o.get(j);if($!==void 0)return $;if(($=a.get(j))!==void 0)return _(j,$),$},set(j,$){o.has(j)?o.set(j,$):_(j,$)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=i=>{const{prefix:s,experimentalParseClassName:o}=i;let a=_=>{const j=[];let $=0,_e=0,et=0,tt;for(let ut=0;ut<_.length;ut++){let dt=_[ut];if($===0&&_e===0){if(dt===MODIFIER_SEPARATOR){j.push(_.slice(et,ut)),et=ut+MODIFIER_SEPARATOR_LENGTH;continue}if(dt==="/"){tt=ut;continue}}dt==="["?$++:dt==="]"?$--:dt==="("?_e++:dt===")"&&_e--}const nt=j.length===0?_:_.substring(et),rt=stripImportantModifier(nt),st=rt!==nt,ot=tt&&tt>et?tt-et:void 0;return{modifiers:j,hasImportantModifier:st,baseClassName:rt,maybePostfixModifierPosition:ot}};if(s){const _=s+MODIFIER_SEPARATOR,j=a;a=$=>$.startsWith(_)?j($.substring(_.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:$,maybePostfixModifierPosition:void 0}}if(o){const _=a;a=j=>o({className:j,parseClassName:_})}return a},stripImportantModifier=i=>i.endsWith(IMPORTANT_MODIFIER)?i.substring(0,i.length-1):i.startsWith(IMPORTANT_MODIFIER)?i.substring(1):i,createSortModifiers=i=>{const s=Object.fromEntries(i.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const _=[];let j=[];return a.forEach($=>{$[0]==="["||s[$]?(_.push(...j.sort(),$),j=[]):j.push($)}),_.push(...j.sort()),_}},createConfigUtils=i=>({cache:createLruCache(i.cacheSize),parseClassName:createParseClassName(i),sortModifiers:createSortModifiers(i),...createClassGroupUtils(i)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(i,s)=>{const{parseClassName:o,getClassGroupId:a,getConflictingClassGroupIds:_,sortModifiers:j}=s,$=[],_e=i.trim().split(SPLIT_CLASSES_REGEX);let et="";for(let tt=_e.length-1;tt>=0;tt-=1){const nt=_e[tt],{isExternal:rt,modifiers:st,hasImportantModifier:ot,baseClassName:ut,maybePostfixModifierPosition:dt}=o(nt);if(rt){et=nt+(et.length>0?" "+et:et);continue}let yt=!!dt,it=a(yt?ut.substring(0,dt):ut);if(!it){if(!yt){et=nt+(et.length>0?" "+et:et);continue}if(it=a(ut),!it){et=nt+(et.length>0?" "+et:et);continue}yt=!1}const ct=j(st).join(":"),ht=ot?ct+IMPORTANT_MODIFIER:ct,kt=ht+it;if($.includes(kt))continue;$.push(kt);const pt=_(it,yt);for(let at=0;at<pt.length;++at){const At=pt[at];$.push(ht+At)}et=nt+(et.length>0?" "+et:et)}return et};function twJoin(){let i=0,s,o,a="";for(;i<arguments.length;)(s=arguments[i++])&&(o=toValue(s))&&(a&&(a+=" "),a+=o);return a}const toValue=i=>{if(typeof i=="string")return i;let s,o="";for(let a=0;a<i.length;a++)i[a]&&(s=toValue(i[a]))&&(o&&(o+=" "),o+=s);return o};function createTailwindMerge(i,...s){let o,a,_,j=$;function $(et){const tt=s.reduce((nt,rt)=>rt(nt),i());return o=createConfigUtils(tt),a=o.cache.get,_=o.cache.set,j=_e,_e(et)}function _e(et){const tt=a(et);if(tt)return tt;const nt=mergeClassList(et,o);return _(et,nt),nt}return function(){return j(twJoin.apply(null,arguments))}}const fromTheme=i=>{const s=o=>o[i]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=i=>fractionRegex.test(i),isNumber=i=>!!i&&!Number.isNaN(Number(i)),isInteger=i=>!!i&&Number.isInteger(Number(i)),isPercent=i=>i.endsWith("%")&&isNumber(i.slice(0,-1)),isTshirtSize=i=>tshirtUnitRegex.test(i),isAny=()=>!0,isLengthOnly=i=>lengthUnitRegex.test(i)&&!colorFunctionRegex.test(i),isNever=()=>!1,isShadow=i=>shadowRegex.test(i),isImage=i=>imageRegex.test(i),isAnyNonArbitrary=i=>!isArbitraryValue(i)&&!isArbitraryVariable(i),isArbitrarySize=i=>getIsArbitraryValue(i,isLabelSize,isNever),isArbitraryValue=i=>arbitraryValueRegex.test(i),isArbitraryLength=i=>getIsArbitraryValue(i,isLabelLength,isLengthOnly),isArbitraryNumber=i=>getIsArbitraryValue(i,isLabelNumber,isNumber),isArbitraryPosition=i=>getIsArbitraryValue(i,isLabelPosition,isNever),isArbitraryImage=i=>getIsArbitraryValue(i,isLabelImage,isImage),isArbitraryShadow=i=>getIsArbitraryValue(i,isLabelShadow,isShadow),isArbitraryVariable=i=>arbitraryVariableRegex.test(i),isArbitraryVariableLength=i=>getIsArbitraryVariable(i,isLabelLength),isArbitraryVariableFamilyName=i=>getIsArbitraryVariable(i,isLabelFamilyName),isArbitraryVariablePosition=i=>getIsArbitraryVariable(i,isLabelPosition),isArbitraryVariableSize=i=>getIsArbitraryVariable(i,isLabelSize),isArbitraryVariableImage=i=>getIsArbitraryVariable(i,isLabelImage),isArbitraryVariableShadow=i=>getIsArbitraryVariable(i,isLabelShadow,!0),getIsArbitraryValue=(i,s,o)=>{const a=arbitraryValueRegex.exec(i);return a?a[1]?s(a[1]):o(a[2]):!1},getIsArbitraryVariable=(i,s,o=!1)=>{const a=arbitraryVariableRegex.exec(i);return a?a[1]?s(a[1]):o:!1},isLabelPosition=i=>i==="position"||i==="percentage",isLabelImage=i=>i==="image"||i==="url",isLabelSize=i=>i==="length"||i==="size"||i==="bg-size",isLabelLength=i=>i==="length",isLabelNumber=i=>i==="number",isLabelFamilyName=i=>i==="family-name",isLabelShadow=i=>i==="shadow",getDefaultConfig=()=>{const i=fromTheme("color"),s=fromTheme("font"),o=fromTheme("text"),a=fromTheme("font-weight"),_=fromTheme("tracking"),j=fromTheme("leading"),$=fromTheme("breakpoint"),_e=fromTheme("container"),et=fromTheme("spacing"),tt=fromTheme("radius"),nt=fromTheme("shadow"),rt=fromTheme("inset-shadow"),st=fromTheme("text-shadow"),ot=fromTheme("drop-shadow"),ut=fromTheme("blur"),dt=fromTheme("perspective"),yt=fromTheme("aspect"),it=fromTheme("ease"),ct=fromTheme("animate"),ht=()=>["auto","avoid","all","avoid-page","page","left","right","column"],kt=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],pt=()=>[...kt(),isArbitraryVariable,isArbitraryValue],at=()=>["auto","hidden","clip","visible","scroll"],At=()=>["auto","contain","none"],wt=()=>[isArbitraryVariable,isArbitraryValue,et],bt=()=>[isFraction,"full","auto",...wt()],Et=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],_t=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],Mt=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],Ot=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],jt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Bt=()=>["start","end","center","stretch","center-safe","end-safe"],Xt=()=>["auto",...wt()],Zt=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...wt()],Tt=()=>[i,isArbitraryVariable,isArbitraryValue],Wt=()=>[...kt(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Rt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],dn=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],pn=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],xt=()=>["","none","full",tt,isArbitraryVariable,isArbitraryValue],ft=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],vt=()=>["solid","dashed","dotted","double"],mt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],St=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Ct=()=>["","none",ut,isArbitraryVariable,isArbitraryValue],Ft=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Lt=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],zt=()=>[isNumber,isArbitraryVariable,isArbitraryValue],Kt=()=>[isFraction,"full",...wt()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,yt]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,_e]}],"break-after":[{"break-after":ht()}],"break-before":[{"break-before":ht()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:pt()}],overflow:[{overflow:at()}],"overflow-x":[{"overflow-x":at()}],"overflow-y":[{"overflow-y":at()}],overscroll:[{overscroll:At()}],"overscroll-x":[{"overscroll-x":At()}],"overscroll-y":[{"overscroll-y":At()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:bt()}],"inset-x":[{"inset-x":bt()}],"inset-y":[{"inset-y":bt()}],start:[{start:bt()}],end:[{end:bt()}],top:[{top:bt()}],right:[{right:bt()}],bottom:[{bottom:bt()}],left:[{left:bt()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",_e,...wt()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":Et()}],"col-start-end":[{col:_t()}],"col-start":[{"col-start":Mt()}],"col-end":[{"col-end":Mt()}],"grid-rows":[{"grid-rows":Et()}],"row-start-end":[{row:_t()}],"row-start":[{"row-start":Mt()}],"row-end":[{"row-end":Mt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ot()}],"auto-rows":[{"auto-rows":Ot()}],gap:[{gap:wt()}],"gap-x":[{"gap-x":wt()}],"gap-y":[{"gap-y":wt()}],"justify-content":[{justify:[...jt(),"normal"]}],"justify-items":[{"justify-items":[...Bt(),"normal"]}],"justify-self":[{"justify-self":["auto",...Bt()]}],"align-content":[{content:["normal",...jt()]}],"align-items":[{items:[...Bt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Bt(),{baseline:["","last"]}]}],"place-content":[{"place-content":jt()}],"place-items":[{"place-items":[...Bt(),"baseline"]}],"place-self":[{"place-self":["auto",...Bt()]}],p:[{p:wt()}],px:[{px:wt()}],py:[{py:wt()}],ps:[{ps:wt()}],pe:[{pe:wt()}],pt:[{pt:wt()}],pr:[{pr:wt()}],pb:[{pb:wt()}],pl:[{pl:wt()}],m:[{m:Xt()}],mx:[{mx:Xt()}],my:[{my:Xt()}],ms:[{ms:Xt()}],me:[{me:Xt()}],mt:[{mt:Xt()}],mr:[{mr:Xt()}],mb:[{mb:Xt()}],ml:[{ml:Xt()}],"space-x":[{"space-x":wt()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":wt()}],"space-y-reverse":["space-y-reverse"],size:[{size:Zt()}],w:[{w:[_e,"screen",...Zt()]}],"min-w":[{"min-w":[_e,"screen","none",...Zt()]}],"max-w":[{"max-w":[_e,"screen","none","prose",{screen:[$]},...Zt()]}],h:[{h:["screen","lh",...Zt()]}],"min-h":[{"min-h":["screen","lh","none",...Zt()]}],"max-h":[{"max-h":["screen","lh",...Zt()]}],"font-size":[{text:["base",o,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[_,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[j,...wt()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Tt()}],"text-color":[{text:Tt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...vt(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Tt()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:wt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Wt()}],"bg-repeat":[{bg:Rt()}],"bg-size":[{bg:dn()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Tt()}],"gradient-from-pos":[{from:pn()}],"gradient-via-pos":[{via:pn()}],"gradient-to-pos":[{to:pn()}],"gradient-from":[{from:Tt()}],"gradient-via":[{via:Tt()}],"gradient-to":[{to:Tt()}],rounded:[{rounded:xt()}],"rounded-s":[{"rounded-s":xt()}],"rounded-e":[{"rounded-e":xt()}],"rounded-t":[{"rounded-t":xt()}],"rounded-r":[{"rounded-r":xt()}],"rounded-b":[{"rounded-b":xt()}],"rounded-l":[{"rounded-l":xt()}],"rounded-ss":[{"rounded-ss":xt()}],"rounded-se":[{"rounded-se":xt()}],"rounded-ee":[{"rounded-ee":xt()}],"rounded-es":[{"rounded-es":xt()}],"rounded-tl":[{"rounded-tl":xt()}],"rounded-tr":[{"rounded-tr":xt()}],"rounded-br":[{"rounded-br":xt()}],"rounded-bl":[{"rounded-bl":xt()}],"border-w":[{border:ft()}],"border-w-x":[{"border-x":ft()}],"border-w-y":[{"border-y":ft()}],"border-w-s":[{"border-s":ft()}],"border-w-e":[{"border-e":ft()}],"border-w-t":[{"border-t":ft()}],"border-w-r":[{"border-r":ft()}],"border-w-b":[{"border-b":ft()}],"border-w-l":[{"border-l":ft()}],"divide-x":[{"divide-x":ft()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ft()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...vt(),"hidden","none"]}],"divide-style":[{divide:[...vt(),"hidden","none"]}],"border-color":[{border:Tt()}],"border-color-x":[{"border-x":Tt()}],"border-color-y":[{"border-y":Tt()}],"border-color-s":[{"border-s":Tt()}],"border-color-e":[{"border-e":Tt()}],"border-color-t":[{"border-t":Tt()}],"border-color-r":[{"border-r":Tt()}],"border-color-b":[{"border-b":Tt()}],"border-color-l":[{"border-l":Tt()}],"divide-color":[{divide:Tt()}],"outline-style":[{outline:[...vt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Tt()}],shadow:[{shadow:["","none",nt,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Tt()}],"inset-shadow":[{"inset-shadow":["none",rt,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Tt()}],"ring-w":[{ring:ft()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Tt()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Tt()}],"inset-ring-w":[{"inset-ring":ft()}],"inset-ring-color":[{"inset-ring":Tt()}],"text-shadow":[{"text-shadow":["none",st,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Tt()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...mt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":mt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":St()}],"mask-image-linear-to-pos":[{"mask-linear-to":St()}],"mask-image-linear-from-color":[{"mask-linear-from":Tt()}],"mask-image-linear-to-color":[{"mask-linear-to":Tt()}],"mask-image-t-from-pos":[{"mask-t-from":St()}],"mask-image-t-to-pos":[{"mask-t-to":St()}],"mask-image-t-from-color":[{"mask-t-from":Tt()}],"mask-image-t-to-color":[{"mask-t-to":Tt()}],"mask-image-r-from-pos":[{"mask-r-from":St()}],"mask-image-r-to-pos":[{"mask-r-to":St()}],"mask-image-r-from-color":[{"mask-r-from":Tt()}],"mask-image-r-to-color":[{"mask-r-to":Tt()}],"mask-image-b-from-pos":[{"mask-b-from":St()}],"mask-image-b-to-pos":[{"mask-b-to":St()}],"mask-image-b-from-color":[{"mask-b-from":Tt()}],"mask-image-b-to-color":[{"mask-b-to":Tt()}],"mask-image-l-from-pos":[{"mask-l-from":St()}],"mask-image-l-to-pos":[{"mask-l-to":St()}],"mask-image-l-from-color":[{"mask-l-from":Tt()}],"mask-image-l-to-color":[{"mask-l-to":Tt()}],"mask-image-x-from-pos":[{"mask-x-from":St()}],"mask-image-x-to-pos":[{"mask-x-to":St()}],"mask-image-x-from-color":[{"mask-x-from":Tt()}],"mask-image-x-to-color":[{"mask-x-to":Tt()}],"mask-image-y-from-pos":[{"mask-y-from":St()}],"mask-image-y-to-pos":[{"mask-y-to":St()}],"mask-image-y-from-color":[{"mask-y-from":Tt()}],"mask-image-y-to-color":[{"mask-y-to":Tt()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":St()}],"mask-image-radial-to-pos":[{"mask-radial-to":St()}],"mask-image-radial-from-color":[{"mask-radial-from":Tt()}],"mask-image-radial-to-color":[{"mask-radial-to":Tt()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":kt()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":St()}],"mask-image-conic-to-pos":[{"mask-conic-to":St()}],"mask-image-conic-from-color":[{"mask-conic-from":Tt()}],"mask-image-conic-to-color":[{"mask-conic-to":Tt()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Wt()}],"mask-repeat":[{mask:Rt()}],"mask-size":[{mask:dn()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Ct()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",ot,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Tt()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Ct()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":wt()}],"border-spacing-x":[{"border-spacing-x":wt()}],"border-spacing-y":[{"border-spacing-y":wt()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",it,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",ct,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[dt,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":pt()}],rotate:[{rotate:Ft()}],"rotate-x":[{"rotate-x":Ft()}],"rotate-y":[{"rotate-y":Ft()}],"rotate-z":[{"rotate-z":Ft()}],scale:[{scale:Lt()}],"scale-x":[{"scale-x":Lt()}],"scale-y":[{"scale-y":Lt()}],"scale-z":[{"scale-z":Lt()}],"scale-3d":["scale-3d"],skew:[{skew:zt()}],"skew-x":[{"skew-x":zt()}],"skew-y":[{"skew-y":zt()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:pt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Kt()}],"translate-x":[{"translate-x":Kt()}],"translate-y":[{"translate-y":Kt()}],"translate-z":[{"translate-z":Kt()}],"translate-none":["translate-none"],accent:[{accent:Tt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Tt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":wt()}],"scroll-mx":[{"scroll-mx":wt()}],"scroll-my":[{"scroll-my":wt()}],"scroll-ms":[{"scroll-ms":wt()}],"scroll-me":[{"scroll-me":wt()}],"scroll-mt":[{"scroll-mt":wt()}],"scroll-mr":[{"scroll-mr":wt()}],"scroll-mb":[{"scroll-mb":wt()}],"scroll-ml":[{"scroll-ml":wt()}],"scroll-p":[{"scroll-p":wt()}],"scroll-px":[{"scroll-px":wt()}],"scroll-py":[{"scroll-py":wt()}],"scroll-ps":[{"scroll-ps":wt()}],"scroll-pe":[{"scroll-pe":wt()}],"scroll-pt":[{"scroll-pt":wt()}],"scroll-pr":[{"scroll-pr":wt()}],"scroll-pb":[{"scroll-pb":wt()}],"scroll-pl":[{"scroll-pl":wt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Tt()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Tt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...i){return twMerge(clsx(i))}function Card({className:i,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card",className:cn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...s})}function CardHeader({className:i,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-header",className:cn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...s})}function CardTitle({className:i,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-title",className:cn("leading-none font-semibold",i),...s})}function CardContent({className:i,...s}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-content",className:cn("px-6",i),...s})}const Button=({children:i,variant:s="default",size:o="md",className:a="",..._})=>{const j="inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",$={default:"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-500 shadow-md hover:shadow-lg",outline:"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900 focus:ring-blue-500 text-gray-700",ghost:"hover:bg-gray-100 hover:text-gray-900 focus:ring-blue-500 text-gray-700"},_e={xs:"h-8 px-3 text-xs min-h-[32px]",sm:"h-10 px-4 text-sm min-h-[40px]",md:"h-12 px-6 py-3 min-h-[48px] text-base touch-manipulation",lg:"h-14 px-8 text-lg min-h-[56px] touch-manipulation"};return jsxRuntimeExports.jsx("button",{className:`${j} ${$[s]} ${_e[o]} ${a}`,..._,children:i})},questoes=[{id:1,enunciado:"Qual é a função da Resolução nº 1.073 na ALEGO?",alternativas:["Define o Regimento Interno","Regulamenta a Estrutura Administrativa","Regulamento Administrativo","Organiza a Polícia Legislativa"],correta:2},{id:2,enunciado:"Quantos artigos tem a Resolução nº 1.007?",alternativas:["25","30","45","50"],correta:3}],SimuladoArea=()=>{const[i,s]=reactExports.useState({}),[o,a]=reactExports.useState(!1),_=(_e,et)=>{s(tt=>({...tt,[_e]:et}))},j=()=>a(!0),$=questoes.filter(_e=>i[_e.id]===_e.correta).length;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0},children:"📝 Simulado"}),jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:j,disabled:o,children:"Corrigir"})]}),jsxRuntimeExports.jsx("div",{className:"simple-grid",style:{gap:"1.5rem"},children:questoes.map(_e=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["Questão ",_e.id]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{children:_e.enunciado}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex flex-col gap-2",children:_e.alternativas.map((et,tt)=>{const nt=i[_e.id]===tt,rt=o&&_e.correta===tt,st=o&&nt&&_e.correta!==tt;return jsxRuntimeExports.jsx("button",{className:`w-full text-left p-3 rounded-md border transition-all ${nt?"border-blue-500 bg-blue-50":"border-gray-200 hover:shadow"} ${rt?"bg-green-100 border-green-500":""} ${st?"bg-red-100 border-red-500":""}`,onClick:()=>_(_e.id,tt),disabled:o,children:et},tt)})})]})]},_e.id))}),o&&jsxRuntimeExports.jsx("div",{className:"simple-card text-center mt-6",children:jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold",children:["Você acertou ",$," de ",questoes.length," questões."]})})]})},protocols=["http","https","mailto","tel"];function uriTransformer(i){const s=(i||"").trim(),o=s.charAt(0);if(o==="#"||o==="/")return s;const a=s.indexOf(":");if(a===-1)return s;let _=-1;for(;++_<protocols.length;){const j=protocols[_];if(a===j.length&&s.slice(0,j.length).toLowerCase()===j)return s}return _=s.indexOf("?"),_!==-1&&a>_||(_=s.indexOf("#"),_!==-1&&a>_)?s:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer=function(s){return s!=null&&s.constructor!=null&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)};const isBuffer$1=getDefaultExportFromCjs(isBuffer);function stringifyPosition(i){return!i||typeof i!="object"?"":"position"in i||"type"in i?position$1(i.position):"start"in i||"end"in i?position$1(i):"line"in i||"column"in i?point$2(i):""}function point$2(i){return index$1(i&&i.line)+":"+index$1(i&&i.column)}function position$1(i){return point$2(i&&i.start)+"-"+point$2(i&&i.end)}function index$1(i){return i&&typeof i=="number"?i:1}class VFileMessage extends Error{constructor(s,o,a){const _=[null,null];let j={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof o=="string"&&(a=o,o=void 0),typeof a=="string"){const $=a.indexOf(":");$===-1?_[1]=a:(_[0]=a.slice(0,$),_[1]=a.slice($+1))}o&&("type"in o||"position"in o?o.position&&(j=o.position):"start"in o||"end"in o?j=o:("line"in o||"column"in o)&&(j.start=o)),this.name=stringifyPosition(o)||"1:1",this.message=typeof s=="object"?s.message:s,this.stack="",typeof s=="object"&&s.stack&&(this.stack=s.stack),this.reason=this.message,this.fatal,this.line=j.start.line,this.column=j.start.column,this.position=j,this.source=_[0],this.ruleId=_[1],this.file,this.actual,this.expected,this.url,this.note}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.fatal=null;VFileMessage.prototype.column=null;VFileMessage.prototype.line=null;VFileMessage.prototype.source=null;VFileMessage.prototype.ruleId=null;VFileMessage.prototype.position=null;const path$1={basename,dirname,extname,join,sep:"/"};function basename(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(i);let o=0,a=-1,_=i.length,j;if(s===void 0||s.length===0||s.length>i.length){for(;_--;)if(i.charCodeAt(_)===47){if(j){o=_+1;break}}else a<0&&(j=!0,a=_+1);return a<0?"":i.slice(o,a)}if(s===i)return"";let $=-1,_e=s.length-1;for(;_--;)if(i.charCodeAt(_)===47){if(j){o=_+1;break}}else $<0&&(j=!0,$=_+1),_e>-1&&(i.charCodeAt(_)===s.charCodeAt(_e--)?_e<0&&(a=_):(_e=-1,a=$));return o===a?a=$:a<0&&(a=i.length),i.slice(o,a)}function dirname(i){if(assertPath$1(i),i.length===0)return".";let s=-1,o=i.length,a;for(;--o;)if(i.charCodeAt(o)===47){if(a){s=o;break}}else a||(a=!0);return s<0?i.charCodeAt(0)===47?"/":".":s===1&&i.charCodeAt(0)===47?"//":i.slice(0,s)}function extname(i){assertPath$1(i);let s=i.length,o=-1,a=0,_=-1,j=0,$;for(;s--;){const _e=i.charCodeAt(s);if(_e===47){if($){a=s+1;break}continue}o<0&&($=!0,o=s+1),_e===46?_<0?_=s:j!==1&&(j=1):_>-1&&(j=-1)}return _<0||o<0||j===0||j===1&&_===o-1&&_===a+1?"":i.slice(_,o)}function join(...i){let s=-1,o;for(;++s<i.length;)assertPath$1(i[s]),i[s]&&(o=o===void 0?i[s]:o+"/"+i[s]);return o===void 0?".":normalize$1(o)}function normalize$1(i){assertPath$1(i);const s=i.charCodeAt(0)===47;let o=normalizeString(i,!s);return o.length===0&&!s&&(o="."),o.length>0&&i.charCodeAt(i.length-1)===47&&(o+="/"),s?"/"+o:o}function normalizeString(i,s){let o="",a=0,_=-1,j=0,$=-1,_e,et;for(;++$<=i.length;){if($<i.length)_e=i.charCodeAt($);else{if(_e===47)break;_e=47}if(_e===47){if(!(_===$-1||j===1))if(_!==$-1&&j===2){if(o.length<2||a!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){if(et=o.lastIndexOf("/"),et!==o.length-1){et<0?(o="",a=0):(o=o.slice(0,et),a=o.length-1-o.lastIndexOf("/")),_=$,j=0;continue}}else if(o.length>0){o="",a=0,_=$,j=0;continue}}s&&(o=o.length>0?o+"/..":"..",a=2)}else o.length>0?o+="/"+i.slice(_+1,$):o=i.slice(_+1,$),a=$-_-1;_=$,j=0}else _e===46&&j>-1?j++:j=-1}return o}function assertPath$1(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}const proc={cwd};function cwd(){return"/"}function isUrl(i){return i!==null&&typeof i=="object"&&i.href&&i.origin}function urlToPath(i){if(typeof i=="string")i=new URL(i);else if(!isUrl(i)){const s=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+i+"`");throw s.code="ERR_INVALID_ARG_TYPE",s}if(i.protocol!=="file:"){const s=new TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return getPathFromURLPosix(i)}function getPathFromURLPosix(i){if(i.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const s=i.pathname;let o=-1;for(;++o<s.length;)if(s.charCodeAt(o)===37&&s.charCodeAt(o+1)===50){const a=s.charCodeAt(o+2);if(a===70||a===102){const _=new TypeError("File URL path must not include encoded / characters");throw _.code="ERR_INVALID_FILE_URL_PATH",_}}return decodeURIComponent(s)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(s){let o;s?typeof s=="string"||buffer(s)?o={value:s}:isUrl(s)?o={path:s}:o=s:o={},this.data={},this.messages=[],this.history=[],this.cwd=proc.cwd(),this.value,this.stored,this.result,this.map;let a=-1;for(;++a<order.length;){const j=order[a];j in o&&o[j]!==void 0&&o[j]!==null&&(this[j]=j==="history"?[...o[j]]:o[j])}let _;for(_ in o)order.includes(_)||(this[_]=o[_])}get path(){return this.history[this.history.length-1]}set path(s){isUrl(s)&&(s=urlToPath(s)),assertNonEmpty(s,"path"),this.path!==s&&this.history.push(s)}get dirname(){return typeof this.path=="string"?path$1.dirname(this.path):void 0}set dirname(s){assertPath(this.basename,"dirname"),this.path=path$1.join(s||"",this.basename)}get basename(){return typeof this.path=="string"?path$1.basename(this.path):void 0}set basename(s){assertNonEmpty(s,"basename"),assertPart(s,"basename"),this.path=path$1.join(this.dirname||"",s)}get extname(){return typeof this.path=="string"?path$1.extname(this.path):void 0}set extname(s){if(assertPart(s,"extname"),assertPath(this.dirname,"extname"),s){if(s.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(s.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=path$1.join(this.dirname,this.stem+(s||""))}get stem(){return typeof this.path=="string"?path$1.basename(this.path,this.extname):void 0}set stem(s){assertNonEmpty(s,"stem"),assertPart(s,"stem"),this.path=path$1.join(this.dirname||"",s+(this.extname||""))}toString(s){return(this.value||"").toString(s||void 0)}message(s,o,a){const _=new VFileMessage(s,o,a);return this.path&&(_.name=this.path+":"+_.name,_.file=this.path),_.fatal=!1,this.messages.push(_),_}info(s,o,a){const _=this.message(s,o,a);return _.fatal=null,_}fail(s,o,a){const _=this.message(s,o,a);throw _.fatal=!0,_}}function assertPart(i,s){if(i&&i.includes(path$1.sep))throw new Error("`"+s+"` cannot be a path: did not expect `"+path$1.sep+"`")}function assertNonEmpty(i,s){if(!i)throw new Error("`"+s+"` cannot be empty")}function assertPath(i,s){if(!i)throw new Error("Setting `"+s+"` requires `path` to be set too")}function buffer(i){return isBuffer$1(i)}function bail(i){if(i)throw i}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(s){return typeof Array.isArray=="function"?Array.isArray(s):toStr.call(s)==="[object Array]"},isPlainObject$1=function(s){if(!s||toStr.call(s)!=="[object Object]")return!1;var o=hasOwn.call(s,"constructor"),a=s.constructor&&s.constructor.prototype&&hasOwn.call(s.constructor.prototype,"isPrototypeOf");if(s.constructor&&!o&&!a)return!1;var _;for(_ in s);return typeof _>"u"||hasOwn.call(s,_)},setProperty=function(s,o){defineProperty&&o.name==="__proto__"?defineProperty(s,o.name,{enumerable:!0,configurable:!0,value:o.newValue,writable:!0}):s[o.name]=o.newValue},getProperty=function(s,o){if(o==="__proto__")if(hasOwn.call(s,o)){if(gOPD)return gOPD(s,o).value}else return;return s[o]},extend=function i(){var s,o,a,_,j,$,_e=arguments[0],et=1,tt=arguments.length,nt=!1;for(typeof _e=="boolean"&&(nt=_e,_e=arguments[1]||{},et=2),(_e==null||typeof _e!="object"&&typeof _e!="function")&&(_e={});et<tt;++et)if(s=arguments[et],s!=null)for(o in s)a=getProperty(_e,o),_=getProperty(s,o),_e!==_&&(nt&&_&&(isPlainObject$1(_)||(j=isArray(_)))?(j?(j=!1,$=a&&isArray(a)?a:[]):$=a&&isPlainObject$1(a)?a:{},setProperty(_e,{name:o,newValue:i(nt,$,_)})):typeof _<"u"&&setProperty(_e,{name:o,newValue:_}));return _e};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(i){if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function trough(){const i=[],s={run:o,use:a};return s;function o(..._){let j=-1;const $=_.pop();if(typeof $!="function")throw new TypeError("Expected function as last argument, not "+$);_e(null,..._);function _e(et,...tt){const nt=i[++j];let rt=-1;if(et){$(et);return}for(;++rt<_.length;)(tt[rt]===null||tt[rt]===void 0)&&(tt[rt]=_[rt]);_=tt,nt?wrap$1(nt,_e)(...tt):$(null,...tt)}}function a(_){if(typeof _!="function")throw new TypeError("Expected `middelware` to be a function, not "+_);return i.push(_),s}}function wrap$1(i,s){let o;return a;function a(...$){const _e=i.length>$.length;let et;_e&&$.push(_);try{et=i.apply(this,$)}catch(tt){const nt=tt;if(_e&&o)throw nt;return _(nt)}_e||(et&&et.then&&typeof et.then=="function"?et.then(j,_):et instanceof Error?_(et):j(et))}function _($,..._e){o||(o=!0,s($,..._e))}function j($){_(null,$)}}const unified=base().freeze(),own$7={}.hasOwnProperty;function base(){const i=trough(),s=[];let o={},a,_=-1;return j.data=$,j.Parser=void 0,j.Compiler=void 0,j.freeze=_e,j.attachers=s,j.use=et,j.parse=tt,j.stringify=nt,j.run=rt,j.runSync=st,j.process=ot,j.processSync=ut,j;function j(){const dt=base();let yt=-1;for(;++yt<s.length;)dt.use(...s[yt]);return dt.data(extend$1(!0,{},o)),dt}function $(dt,yt){return typeof dt=="string"?arguments.length===2?(assertUnfrozen("data",a),o[dt]=yt,j):own$7.call(o,dt)&&o[dt]||null:dt?(assertUnfrozen("data",a),o=dt,j):o}function _e(){if(a)return j;for(;++_<s.length;){const[dt,...yt]=s[_];if(yt[0]===!1)continue;yt[0]===!0&&(yt[0]=void 0);const it=dt.call(j,...yt);typeof it=="function"&&i.use(it)}return a=!0,_=Number.POSITIVE_INFINITY,j}function et(dt,...yt){let it;if(assertUnfrozen("use",a),dt!=null)if(typeof dt=="function")pt(dt,...yt);else if(typeof dt=="object")Array.isArray(dt)?kt(dt):ht(dt);else throw new TypeError("Expected usable value, not `"+dt+"`");return it&&(o.settings=Object.assign(o.settings||{},it)),j;function ct(at){if(typeof at=="function")pt(at);else if(typeof at=="object")if(Array.isArray(at)){const[At,...wt]=at;pt(At,...wt)}else ht(at);else throw new TypeError("Expected usable value, not `"+at+"`")}function ht(at){kt(at.plugins),at.settings&&(it=Object.assign(it||{},at.settings))}function kt(at){let At=-1;if(at!=null)if(Array.isArray(at))for(;++At<at.length;){const wt=at[At];ct(wt)}else throw new TypeError("Expected a list of plugins, not `"+at+"`")}function pt(at,At){let wt=-1,bt;for(;++wt<s.length;)if(s[wt][0]===at){bt=s[wt];break}bt?(isPlainObject(bt[1])&&isPlainObject(At)&&(At=extend$1(!0,bt[1],At)),bt[1]=At):s.push([...arguments])}}function tt(dt){j.freeze();const yt=vfile(dt),it=j.Parser;return assertParser("parse",it),newable(it,"parse")?new it(String(yt),yt).parse():it(String(yt),yt)}function nt(dt,yt){j.freeze();const it=vfile(yt),ct=j.Compiler;return assertCompiler("stringify",ct),assertNode(dt),newable(ct,"compile")?new ct(dt,it).compile():ct(dt,it)}function rt(dt,yt,it){if(assertNode(dt),j.freeze(),!it&&typeof yt=="function"&&(it=yt,yt=void 0),!it)return new Promise(ct);ct(null,it);function ct(ht,kt){i.run(dt,vfile(yt),pt);function pt(at,At,wt){At=At||dt,at?kt(at):ht?ht(At):it(null,At,wt)}}}function st(dt,yt){let it,ct;return j.run(dt,yt,ht),assertDone("runSync","run",ct),it;function ht(kt,pt){bail(kt),it=pt,ct=!0}}function ot(dt,yt){if(j.freeze(),assertParser("process",j.Parser),assertCompiler("process",j.Compiler),!yt)return new Promise(it);it(null,yt);function it(ct,ht){const kt=vfile(dt);j.run(j.parse(kt),kt,(at,At,wt)=>{if(at||!At||!wt)pt(at);else{const bt=j.stringify(At,wt);bt==null||(looksLikeAVFileValue(bt)?wt.value=bt:wt.result=bt),pt(at,wt)}});function pt(at,At){at||!At?ht(at):ct?ct(At):yt(null,At)}}}function ut(dt){let yt;j.freeze(),assertParser("processSync",j.Parser),assertCompiler("processSync",j.Compiler);const it=vfile(dt);return j.process(it,ct),assertDone("processSync","process",yt),it;function ct(ht){yt=!0,bail(ht)}}}function newable(i,s){return typeof i=="function"&&i.prototype&&(keys(i.prototype)||s in i.prototype)}function keys(i){let s;for(s in i)if(own$7.call(i,s))return!0;return!1}function assertParser(i,s){if(typeof s!="function")throw new TypeError("Cannot `"+i+"` without `Parser`")}function assertCompiler(i,s){if(typeof s!="function")throw new TypeError("Cannot `"+i+"` without `Compiler`")}function assertUnfrozen(i,s){if(s)throw new Error("Cannot call `"+i+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(i){if(!isPlainObject(i)||typeof i.type!="string")throw new TypeError("Expected node, got `"+i+"`")}function assertDone(i,s,o){if(!o)throw new Error("`"+i+"` finished async. Use `"+s+"` instead")}function vfile(i){return looksLikeAVFile(i)?i:new VFile(i)}function looksLikeAVFile(i){return!!(i&&typeof i=="object"&&"message"in i&&"messages"in i)}function looksLikeAVFileValue(i){return typeof i=="string"||isBuffer$1(i)}const emptyOptions={};function toString(i,s){const o=s||emptyOptions,a=typeof o.includeImageAlt=="boolean"?o.includeImageAlt:!0,_=typeof o.includeHtml=="boolean"?o.includeHtml:!0;return one$1(i,a,_)}function one$1(i,s,o){if(node(i)){if("value"in i)return i.type==="html"&&!o?"":i.value;if(s&&"alt"in i&&i.alt)return i.alt;if("children"in i)return all$1(i.children,s,o)}return Array.isArray(i)?all$1(i,s,o):""}function all$1(i,s,o){const a=[];let _=-1;for(;++_<i.length;)a[_]=one$1(i[_],s,o);return a.join("")}function node(i){return!!(i&&typeof i=="object")}function splice(i,s,o,a){const _=i.length;let j=0,$;if(s<0?s=-s>_?0:_+s:s=s>_?_:s,o=o>0?o:0,a.length<1e4)$=Array.from(a),$.unshift(s,o),i.splice(...$);else for(o&&i.splice(s,o);j<a.length;)$=a.slice(j,j+1e4),$.unshift(s,0),i.splice(...$),j+=1e4,s+=1e4}function push(i,s){return i.length>0?(splice(i,i.length,0,s),i):s}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(i){const s={};let o=-1;for(;++o<i.length;)syntaxExtension(s,i[o]);return s}function syntaxExtension(i,s){let o;for(o in s){const _=(hasOwnProperty.call(i,o)?i[o]:void 0)||(i[o]={}),j=s[o];let $;if(j)for($ in j){hasOwnProperty.call(_,$)||(_[$]=[]);const _e=j[$];constructs(_[$],Array.isArray(_e)?_e:_e?[_e]:[])}}}function constructs(i,s){let o=-1;const a=[];for(;++o<s.length;)(s[o].add==="after"?i:a).push(s[o]);splice(i,0,0,a)}const unicodePunctuationRegex=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(i){return i!==null&&(i<32||i===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(i){return i!==null&&i<-2}function markdownLineEndingOrSpace(i){return i!==null&&(i<0||i===32)}function markdownSpace(i){return i===-2||i===-1||i===32}const unicodePunctuation=regexCheck(unicodePunctuationRegex),unicodeWhitespace=regexCheck(/\s/);function regexCheck(i){return s;function s(o){return o!==null&&i.test(String.fromCharCode(o))}}function factorySpace(i,s,o,a){const _=a?a-1:Number.POSITIVE_INFINITY;let j=0;return $;function $(et){return markdownSpace(et)?(i.enter(o),_e(et)):s(et)}function _e(et){return markdownSpace(et)&&j++<_?(i.consume(et),_e):(i.exit(o),s(et))}}const content$1={tokenize:initializeContent};function initializeContent(i){const s=i.attempt(this.parser.constructs.contentInitial,a,_);let o;return s;function a(_e){if(_e===null){i.consume(_e);return}return i.enter("lineEnding"),i.consume(_e),i.exit("lineEnding"),factorySpace(i,s,"linePrefix")}function _(_e){return i.enter("paragraph"),j(_e)}function j(_e){const et=i.enter("chunkText",{contentType:"text",previous:o});return o&&(o.next=et),o=et,$(_e)}function $(_e){if(_e===null){i.exit("chunkText"),i.exit("paragraph"),i.consume(_e);return}return markdownLineEnding(_e)?(i.consume(_e),i.exit("chunkText"),j):(i.consume(_e),$)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(i){const s=this,o=[];let a=0,_,j,$;return _e;function _e(ht){if(a<o.length){const kt=o[a];return s.containerState=kt[1],i.attempt(kt[0].continuation,et,tt)(ht)}return tt(ht)}function et(ht){if(a++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,_&&ct();const kt=s.events.length;let pt=kt,at;for(;pt--;)if(s.events[pt][0]==="exit"&&s.events[pt][1].type==="chunkFlow"){at=s.events[pt][1].end;break}it(a);let At=kt;for(;At<s.events.length;)s.events[At][1].end=Object.assign({},at),At++;return splice(s.events,pt+1,0,s.events.slice(kt)),s.events.length=At,tt(ht)}return _e(ht)}function tt(ht){if(a===o.length){if(!_)return st(ht);if(_.currentConstruct&&_.currentConstruct.concrete)return ut(ht);s.interrupt=!!(_.currentConstruct&&!_._gfmTableDynamicInterruptHack)}return s.containerState={},i.check(containerConstruct,nt,rt)(ht)}function nt(ht){return _&&ct(),it(a),st(ht)}function rt(ht){return s.parser.lazy[s.now().line]=a!==o.length,$=s.now().offset,ut(ht)}function st(ht){return s.containerState={},i.attempt(containerConstruct,ot,ut)(ht)}function ot(ht){return a++,o.push([s.currentConstruct,s.containerState]),st(ht)}function ut(ht){if(ht===null){_&&ct(),it(0),i.consume(ht);return}return _=_||s.parser.flow(s.now()),i.enter("chunkFlow",{contentType:"flow",previous:j,_tokenizer:_}),dt(ht)}function dt(ht){if(ht===null){yt(i.exit("chunkFlow"),!0),it(0),i.consume(ht);return}return markdownLineEnding(ht)?(i.consume(ht),yt(i.exit("chunkFlow")),a=0,s.interrupt=void 0,_e):(i.consume(ht),dt)}function yt(ht,kt){const pt=s.sliceStream(ht);if(kt&&pt.push(null),ht.previous=j,j&&(j.next=ht),j=ht,_.defineSkip(ht.start),_.write(pt),s.parser.lazy[ht.start.line]){let at=_.events.length;for(;at--;)if(_.events[at][1].start.offset<$&&(!_.events[at][1].end||_.events[at][1].end.offset>$))return;const At=s.events.length;let wt=At,bt,Et;for(;wt--;)if(s.events[wt][0]==="exit"&&s.events[wt][1].type==="chunkFlow"){if(bt){Et=s.events[wt][1].end;break}bt=!0}for(it(a),at=At;at<s.events.length;)s.events[at][1].end=Object.assign({},Et),at++;splice(s.events,wt+1,0,s.events.slice(At)),s.events.length=at}}function it(ht){let kt=o.length;for(;kt-- >ht;){const pt=o[kt];s.containerState=pt[1],pt[0].exit.call(s,i)}o.length=ht}function ct(){_.write([null]),j=void 0,_=void 0,s.containerState._closeFlow=void 0}}function tokenizeContainer(i,s,o){return factorySpace(i,i.attempt(this.parser.constructs.document,s,o),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(i){if(i===null||markdownLineEndingOrSpace(i)||unicodeWhitespace(i))return 1;if(unicodePunctuation(i))return 2}function resolveAll(i,s,o){const a=[];let _=-1;for(;++_<i.length;){const j=i[_].resolveAll;j&&!a.includes(j)&&(s=j(s,o),a.push(j))}return s}const attention={name:"attention",tokenize:tokenizeAttention,resolveAll:resolveAllAttention};function resolveAllAttention(i,s){let o=-1,a,_,j,$,_e,et,tt,nt;for(;++o<i.length;)if(i[o][0]==="enter"&&i[o][1].type==="attentionSequence"&&i[o][1]._close){for(a=o;a--;)if(i[a][0]==="exit"&&i[a][1].type==="attentionSequence"&&i[a][1]._open&&s.sliceSerialize(i[a][1]).charCodeAt(0)===s.sliceSerialize(i[o][1]).charCodeAt(0)){if((i[a][1]._close||i[o][1]._open)&&(i[o][1].end.offset-i[o][1].start.offset)%3&&!((i[a][1].end.offset-i[a][1].start.offset+i[o][1].end.offset-i[o][1].start.offset)%3))continue;et=i[a][1].end.offset-i[a][1].start.offset>1&&i[o][1].end.offset-i[o][1].start.offset>1?2:1;const rt=Object.assign({},i[a][1].end),st=Object.assign({},i[o][1].start);movePoint(rt,-et),movePoint(st,et),$={type:et>1?"strongSequence":"emphasisSequence",start:rt,end:Object.assign({},i[a][1].end)},_e={type:et>1?"strongSequence":"emphasisSequence",start:Object.assign({},i[o][1].start),end:st},j={type:et>1?"strongText":"emphasisText",start:Object.assign({},i[a][1].end),end:Object.assign({},i[o][1].start)},_={type:et>1?"strong":"emphasis",start:Object.assign({},$.start),end:Object.assign({},_e.end)},i[a][1].end=Object.assign({},$.start),i[o][1].start=Object.assign({},_e.end),tt=[],i[a][1].end.offset-i[a][1].start.offset&&(tt=push(tt,[["enter",i[a][1],s],["exit",i[a][1],s]])),tt=push(tt,[["enter",_,s],["enter",$,s],["exit",$,s],["enter",j,s]]),tt=push(tt,resolveAll(s.parser.constructs.insideSpan.null,i.slice(a+1,o),s)),tt=push(tt,[["exit",j,s],["enter",_e,s],["exit",_e,s],["exit",_,s]]),i[o][1].end.offset-i[o][1].start.offset?(nt=2,tt=push(tt,[["enter",i[o][1],s],["exit",i[o][1],s]])):nt=0,splice(i,a-1,o-a+3,tt),o=a+tt.length-nt-2;break}}for(o=-1;++o<i.length;)i[o][1].type==="attentionSequence"&&(i[o][1].type="data");return i}function tokenizeAttention(i,s){const o=this.parser.constructs.attentionMarkers.null,a=this.previous,_=classifyCharacter(a);let j;return $;function $(et){return j=et,i.enter("attentionSequence"),_e(et)}function _e(et){if(et===j)return i.consume(et),_e;const tt=i.exit("attentionSequence"),nt=classifyCharacter(et),rt=!nt||nt===2&&_||o.includes(et),st=!_||_===2&&nt||o.includes(a);return tt._open=!!(j===42?rt:rt&&(_||!st)),tt._close=!!(j===42?st:st&&(nt||!rt)),s(et)}}function movePoint(i,s){i.column+=s,i.offset+=s,i._bufferIndex+=s}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(i,s,o){let a=0;return _;function _(ot){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(ot),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),j}function j(ot){return asciiAlpha(ot)?(i.consume(ot),$):tt(ot)}function $(ot){return ot===43||ot===45||ot===46||asciiAlphanumeric(ot)?(a=1,_e(ot)):tt(ot)}function _e(ot){return ot===58?(i.consume(ot),a=0,et):(ot===43||ot===45||ot===46||asciiAlphanumeric(ot))&&a++<32?(i.consume(ot),_e):(a=0,tt(ot))}function et(ot){return ot===62?(i.exit("autolinkProtocol"),i.enter("autolinkMarker"),i.consume(ot),i.exit("autolinkMarker"),i.exit("autolink"),s):ot===null||ot===32||ot===60||asciiControl(ot)?o(ot):(i.consume(ot),et)}function tt(ot){return ot===64?(i.consume(ot),nt):asciiAtext(ot)?(i.consume(ot),tt):o(ot)}function nt(ot){return asciiAlphanumeric(ot)?rt(ot):o(ot)}function rt(ot){return ot===46?(i.consume(ot),a=0,nt):ot===62?(i.exit("autolinkProtocol").type="autolinkEmail",i.enter("autolinkMarker"),i.consume(ot),i.exit("autolinkMarker"),i.exit("autolink"),s):st(ot)}function st(ot){if((ot===45||asciiAlphanumeric(ot))&&a++<63){const ut=ot===45?st:rt;return i.consume(ot),ut}return o(ot)}}const blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(i,s,o){return a;function a(j){return markdownSpace(j)?factorySpace(i,_,"linePrefix")(j):_(j)}function _(j){return j===null||markdownLineEnding(j)?s(j):o(j)}}const blockQuote={name:"blockQuote",tokenize:tokenizeBlockQuoteStart,continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1};function tokenizeBlockQuoteStart(i,s,o){const a=this;return _;function _($){if($===62){const _e=a.containerState;return _e.open||(i.enter("blockQuote",{_container:!0}),_e.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume($),i.exit("blockQuoteMarker"),j}return o($)}function j($){return markdownSpace($)?(i.enter("blockQuotePrefixWhitespace"),i.consume($),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),s):(i.exit("blockQuotePrefix"),s($))}}function tokenizeBlockQuoteContinuation(i,s,o){const a=this;return _;function _($){return markdownSpace($)?factorySpace(i,j,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):j($)}function j($){return i.attempt(blockQuote,s,o)($)}}function exit$1(i){i.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(i,s,o){return a;function a(j){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(j),i.exit("escapeMarker"),_}function _(j){return asciiPunctuation(j)?(i.enter("characterEscapeValue"),i.consume(j),i.exit("characterEscapeValue"),i.exit("characterEscape"),s):o(j)}}const element=document.createElement("i");function decodeNamedCharacterReference(i){const s="&"+i+";";element.innerHTML=s;const o=element.textContent;return o.charCodeAt(o.length-1)===59&&i!=="semi"||o===s?!1:o}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(i,s,o){const a=this;let _=0,j,$;return _e;function _e(rt){return i.enter("characterReference"),i.enter("characterReferenceMarker"),i.consume(rt),i.exit("characterReferenceMarker"),et}function et(rt){return rt===35?(i.enter("characterReferenceMarkerNumeric"),i.consume(rt),i.exit("characterReferenceMarkerNumeric"),tt):(i.enter("characterReferenceValue"),j=31,$=asciiAlphanumeric,nt(rt))}function tt(rt){return rt===88||rt===120?(i.enter("characterReferenceMarkerHexadecimal"),i.consume(rt),i.exit("characterReferenceMarkerHexadecimal"),i.enter("characterReferenceValue"),j=6,$=asciiHexDigit,nt):(i.enter("characterReferenceValue"),j=7,$=asciiDigit,nt(rt))}function nt(rt){if(rt===59&&_){const st=i.exit("characterReferenceValue");return $===asciiAlphanumeric&&!decodeNamedCharacterReference(a.sliceSerialize(st))?o(rt):(i.enter("characterReferenceMarker"),i.consume(rt),i.exit("characterReferenceMarker"),i.exit("characterReference"),s)}return $(rt)&&_++<j?(i.consume(rt),nt):o(rt)}}const nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0},codeFenced={name:"codeFenced",tokenize:tokenizeCodeFenced,concrete:!0};function tokenizeCodeFenced(i,s,o){const a=this,_={tokenize:pt,partial:!0};let j=0,$=0,_e;return et;function et(at){return tt(at)}function tt(at){const At=a.events[a.events.length-1];return j=At&&At[1].type==="linePrefix"?At[2].sliceSerialize(At[1],!0).length:0,_e=at,i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),nt(at)}function nt(at){return at===_e?($++,i.consume(at),nt):$<3?o(at):(i.exit("codeFencedFenceSequence"),markdownSpace(at)?factorySpace(i,rt,"whitespace")(at):rt(at))}function rt(at){return at===null||markdownLineEnding(at)?(i.exit("codeFencedFence"),a.interrupt?s(at):i.check(nonLazyContinuation,dt,kt)(at)):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),st(at))}function st(at){return at===null||markdownLineEnding(at)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),rt(at)):markdownSpace(at)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),factorySpace(i,ot,"whitespace")(at)):at===96&&at===_e?o(at):(i.consume(at),st)}function ot(at){return at===null||markdownLineEnding(at)?rt(at):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),ut(at))}function ut(at){return at===null||markdownLineEnding(at)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),rt(at)):at===96&&at===_e?o(at):(i.consume(at),ut)}function dt(at){return i.attempt(_,kt,yt)(at)}function yt(at){return i.enter("lineEnding"),i.consume(at),i.exit("lineEnding"),it}function it(at){return j>0&&markdownSpace(at)?factorySpace(i,ct,"linePrefix",j+1)(at):ct(at)}function ct(at){return at===null||markdownLineEnding(at)?i.check(nonLazyContinuation,dt,kt)(at):(i.enter("codeFlowValue"),ht(at))}function ht(at){return at===null||markdownLineEnding(at)?(i.exit("codeFlowValue"),ct(at)):(i.consume(at),ht)}function kt(at){return i.exit("codeFenced"),s(at)}function pt(at,At,wt){let bt=0;return Et;function Et(Bt){return at.enter("lineEnding"),at.consume(Bt),at.exit("lineEnding"),_t}function _t(Bt){return at.enter("codeFencedFence"),markdownSpace(Bt)?factorySpace(at,Mt,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Bt):Mt(Bt)}function Mt(Bt){return Bt===_e?(at.enter("codeFencedFenceSequence"),Ot(Bt)):wt(Bt)}function Ot(Bt){return Bt===_e?(bt++,at.consume(Bt),Ot):bt>=$?(at.exit("codeFencedFenceSequence"),markdownSpace(Bt)?factorySpace(at,jt,"whitespace")(Bt):jt(Bt)):wt(Bt)}function jt(Bt){return Bt===null||markdownLineEnding(Bt)?(at.exit("codeFencedFence"),At(Bt)):wt(Bt)}}}function tokenizeNonLazyContinuation(i,s,o){const a=this;return _;function _($){return $===null?o($):(i.enter("lineEnding"),i.consume($),i.exit("lineEnding"),j)}function j($){return a.parser.lazy[a.now().line]?o($):s($)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={tokenize:tokenizeFurtherStart,partial:!0};function tokenizeCodeIndented(i,s,o){const a=this;return _;function _(tt){return i.enter("codeIndented"),factorySpace(i,j,"linePrefix",4+1)(tt)}function j(tt){const nt=a.events[a.events.length-1];return nt&&nt[1].type==="linePrefix"&&nt[2].sliceSerialize(nt[1],!0).length>=4?$(tt):o(tt)}function $(tt){return tt===null?et(tt):markdownLineEnding(tt)?i.attempt(furtherStart,$,et)(tt):(i.enter("codeFlowValue"),_e(tt))}function _e(tt){return tt===null||markdownLineEnding(tt)?(i.exit("codeFlowValue"),$(tt)):(i.consume(tt),_e)}function et(tt){return i.exit("codeIndented"),s(tt)}}function tokenizeFurtherStart(i,s,o){const a=this;return _;function _($){return a.parser.lazy[a.now().line]?o($):markdownLineEnding($)?(i.enter("lineEnding"),i.consume($),i.exit("lineEnding"),_):factorySpace(i,j,"linePrefix",4+1)($)}function j($){const _e=a.events[a.events.length-1];return _e&&_e[1].type==="linePrefix"&&_e[2].sliceSerialize(_e[1],!0).length>=4?s($):markdownLineEnding($)?_($):o($)}}const codeText={name:"codeText",tokenize:tokenizeCodeText,resolve:resolveCodeText,previous:previous$1};function resolveCodeText(i){let s=i.length-4,o=3,a,_;if((i[o][1].type==="lineEnding"||i[o][1].type==="space")&&(i[s][1].type==="lineEnding"||i[s][1].type==="space")){for(a=o;++a<s;)if(i[a][1].type==="codeTextData"){i[o][1].type="codeTextPadding",i[s][1].type="codeTextPadding",o+=2,s-=2;break}}for(a=o-1,s++;++a<=s;)_===void 0?a!==s&&i[a][1].type!=="lineEnding"&&(_=a):(a===s||i[a][1].type==="lineEnding")&&(i[_][1].type="codeTextData",a!==_+2&&(i[_][1].end=i[a-1][1].end,i.splice(_+2,a-_-2),s-=a-_-2,a=_+2),_=void 0);return i}function previous$1(i){return i!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(i,s,o){let a=0,_,j;return $;function $(rt){return i.enter("codeText"),i.enter("codeTextSequence"),_e(rt)}function _e(rt){return rt===96?(i.consume(rt),a++,_e):(i.exit("codeTextSequence"),et(rt))}function et(rt){return rt===null?o(rt):rt===32?(i.enter("space"),i.consume(rt),i.exit("space"),et):rt===96?(j=i.enter("codeTextSequence"),_=0,nt(rt)):markdownLineEnding(rt)?(i.enter("lineEnding"),i.consume(rt),i.exit("lineEnding"),et):(i.enter("codeTextData"),tt(rt))}function tt(rt){return rt===null||rt===32||rt===96||markdownLineEnding(rt)?(i.exit("codeTextData"),et(rt)):(i.consume(rt),tt)}function nt(rt){return rt===96?(i.consume(rt),_++,nt):_===a?(i.exit("codeTextSequence"),i.exit("codeText"),s(rt)):(j.type="codeTextData",tt(rt))}}function subtokenize(i){const s={};let o=-1,a,_,j,$,_e,et,tt;for(;++o<i.length;){for(;o in s;)o=s[o];if(a=i[o],o&&a[1].type==="chunkFlow"&&i[o-1][1].type==="listItemPrefix"&&(et=a[1]._tokenizer.events,j=0,j<et.length&&et[j][1].type==="lineEndingBlank"&&(j+=2),j<et.length&&et[j][1].type==="content"))for(;++j<et.length&&et[j][1].type!=="content";)et[j][1].type==="chunkText"&&(et[j][1]._isInFirstContentOfListItem=!0,j++);if(a[0]==="enter")a[1].contentType&&(Object.assign(s,subcontent(i,o)),o=s[o],tt=!0);else if(a[1]._container){for(j=o,_=void 0;j--&&($=i[j],$[1].type==="lineEnding"||$[1].type==="lineEndingBlank");)$[0]==="enter"&&(_&&(i[_][1].type="lineEndingBlank"),$[1].type="lineEnding",_=j);_&&(a[1].end=Object.assign({},i[_][1].start),_e=i.slice(_,o),_e.unshift(a),splice(i,_,o-_+1,_e))}}return!tt}function subcontent(i,s){const o=i[s][1],a=i[s][2];let _=s-1;const j=[],$=o._tokenizer||a.parser[o.contentType](o.start),_e=$.events,et=[],tt={};let nt,rt,st=-1,ot=o,ut=0,dt=0;const yt=[dt];for(;ot;){for(;i[++_][1]!==ot;);j.push(_),ot._tokenizer||(nt=a.sliceStream(ot),ot.next||nt.push(null),rt&&$.defineSkip(ot.start),ot._isInFirstContentOfListItem&&($._gfmTasklistFirstContentOfListItem=!0),$.write(nt),ot._isInFirstContentOfListItem&&($._gfmTasklistFirstContentOfListItem=void 0)),rt=ot,ot=ot.next}for(ot=o;++st<_e.length;)_e[st][0]==="exit"&&_e[st-1][0]==="enter"&&_e[st][1].type===_e[st-1][1].type&&_e[st][1].start.line!==_e[st][1].end.line&&(dt=st+1,yt.push(dt),ot._tokenizer=void 0,ot.previous=void 0,ot=ot.next);for($.events=[],ot?(ot._tokenizer=void 0,ot.previous=void 0):yt.pop(),st=yt.length;st--;){const it=_e.slice(yt[st],yt[st+1]),ct=j.pop();et.unshift([ct,ct+it.length-1]),splice(i,ct,2,it)}for(st=-1;++st<et.length;)tt[ut+et[st][0]]=ut+et[st][1],ut+=et[st][1]-et[st][0]-1;return tt}const content={tokenize:tokenizeContent,resolve:resolveContent},continuationConstruct={tokenize:tokenizeContinuation,partial:!0};function resolveContent(i){return subtokenize(i),i}function tokenizeContent(i,s){let o;return a;function a(_e){return i.enter("content"),o=i.enter("chunkContent",{contentType:"content"}),_(_e)}function _(_e){return _e===null?j(_e):markdownLineEnding(_e)?i.check(continuationConstruct,$,j)(_e):(i.consume(_e),_)}function j(_e){return i.exit("chunkContent"),i.exit("content"),s(_e)}function $(_e){return i.consume(_e),i.exit("chunkContent"),o.next=i.enter("chunkContent",{contentType:"content",previous:o}),o=o.next,_}}function tokenizeContinuation(i,s,o){const a=this;return _;function _($){return i.exit("chunkContent"),i.enter("lineEnding"),i.consume($),i.exit("lineEnding"),factorySpace(i,j,"linePrefix")}function j($){if($===null||markdownLineEnding($))return o($);const _e=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&_e&&_e[1].type==="linePrefix"&&_e[2].sliceSerialize(_e[1],!0).length>=4?s($):i.interrupt(a.parser.constructs.flow,o,s)($)}}function factoryDestination(i,s,o,a,_,j,$,_e,et){const tt=et||Number.POSITIVE_INFINITY;let nt=0;return rt;function rt(it){return it===60?(i.enter(a),i.enter(_),i.enter(j),i.consume(it),i.exit(j),st):it===null||it===32||it===41||asciiControl(it)?o(it):(i.enter(a),i.enter($),i.enter(_e),i.enter("chunkString",{contentType:"string"}),dt(it))}function st(it){return it===62?(i.enter(j),i.consume(it),i.exit(j),i.exit(_),i.exit(a),s):(i.enter(_e),i.enter("chunkString",{contentType:"string"}),ot(it))}function ot(it){return it===62?(i.exit("chunkString"),i.exit(_e),st(it)):it===null||it===60||markdownLineEnding(it)?o(it):(i.consume(it),it===92?ut:ot)}function ut(it){return it===60||it===62||it===92?(i.consume(it),ot):ot(it)}function dt(it){return!nt&&(it===null||it===41||markdownLineEndingOrSpace(it))?(i.exit("chunkString"),i.exit(_e),i.exit($),i.exit(a),s(it)):nt<tt&&it===40?(i.consume(it),nt++,dt):it===41?(i.consume(it),nt--,dt):it===null||it===32||it===40||asciiControl(it)?o(it):(i.consume(it),it===92?yt:dt)}function yt(it){return it===40||it===41||it===92?(i.consume(it),dt):dt(it)}}function factoryLabel(i,s,o,a,_,j){const $=this;let _e=0,et;return tt;function tt(ot){return i.enter(a),i.enter(_),i.consume(ot),i.exit(_),i.enter(j),nt}function nt(ot){return _e>999||ot===null||ot===91||ot===93&&!et||ot===94&&!_e&&"_hiddenFootnoteSupport"in $.parser.constructs?o(ot):ot===93?(i.exit(j),i.enter(_),i.consume(ot),i.exit(_),i.exit(a),s):markdownLineEnding(ot)?(i.enter("lineEnding"),i.consume(ot),i.exit("lineEnding"),nt):(i.enter("chunkString",{contentType:"string"}),rt(ot))}function rt(ot){return ot===null||ot===91||ot===93||markdownLineEnding(ot)||_e++>999?(i.exit("chunkString"),nt(ot)):(i.consume(ot),et||(et=!markdownSpace(ot)),ot===92?st:rt)}function st(ot){return ot===91||ot===92||ot===93?(i.consume(ot),_e++,rt):rt(ot)}}function factoryTitle(i,s,o,a,_,j){let $;return _e;function _e(st){return st===34||st===39||st===40?(i.enter(a),i.enter(_),i.consume(st),i.exit(_),$=st===40?41:st,et):o(st)}function et(st){return st===$?(i.enter(_),i.consume(st),i.exit(_),i.exit(a),s):(i.enter(j),tt(st))}function tt(st){return st===$?(i.exit(j),et($)):st===null?o(st):markdownLineEnding(st)?(i.enter("lineEnding"),i.consume(st),i.exit("lineEnding"),factorySpace(i,tt,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),nt(st))}function nt(st){return st===$||st===null||markdownLineEnding(st)?(i.exit("chunkString"),tt(st)):(i.consume(st),st===92?rt:nt)}function rt(st){return st===$||st===92?(i.consume(st),nt):nt(st)}}function factoryWhitespace(i,s){let o;return a;function a(_){return markdownLineEnding(_)?(i.enter("lineEnding"),i.consume(_),i.exit("lineEnding"),o=!0,a):markdownSpace(_)?factorySpace(i,a,o?"linePrefix":"lineSuffix")(_):s(_)}}function normalizeIdentifier(i){return i.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={tokenize:tokenizeTitleBefore,partial:!0};function tokenizeDefinition(i,s,o){const a=this;let _;return j;function j(ot){return i.enter("definition"),$(ot)}function $(ot){return factoryLabel.call(a,i,_e,o,"definitionLabel","definitionLabelMarker","definitionLabelString")(ot)}function _e(ot){return _=normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),ot===58?(i.enter("definitionMarker"),i.consume(ot),i.exit("definitionMarker"),et):o(ot)}function et(ot){return markdownLineEndingOrSpace(ot)?factoryWhitespace(i,tt)(ot):tt(ot)}function tt(ot){return factoryDestination(i,nt,o,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(ot)}function nt(ot){return i.attempt(titleBefore,rt,rt)(ot)}function rt(ot){return markdownSpace(ot)?factorySpace(i,st,"whitespace")(ot):st(ot)}function st(ot){return ot===null||markdownLineEnding(ot)?(i.exit("definition"),a.parser.defined.push(_),s(ot)):o(ot)}}function tokenizeTitleBefore(i,s,o){return a;function a(_e){return markdownLineEndingOrSpace(_e)?factoryWhitespace(i,_)(_e):o(_e)}function _(_e){return factoryTitle(i,j,o,"definitionTitle","definitionTitleMarker","definitionTitleString")(_e)}function j(_e){return markdownSpace(_e)?factorySpace(i,$,"whitespace")(_e):$(_e)}function $(_e){return _e===null||markdownLineEnding(_e)?s(_e):o(_e)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(i,s,o){return a;function a(j){return i.enter("hardBreakEscape"),i.consume(j),_}function _(j){return markdownLineEnding(j)?(i.exit("hardBreakEscape"),s(j)):o(j)}}const headingAtx={name:"headingAtx",tokenize:tokenizeHeadingAtx,resolve:resolveHeadingAtx};function resolveHeadingAtx(i,s){let o=i.length-2,a=3,_,j;return i[a][1].type==="whitespace"&&(a+=2),o-2>a&&i[o][1].type==="whitespace"&&(o-=2),i[o][1].type==="atxHeadingSequence"&&(a===o-1||o-4>a&&i[o-2][1].type==="whitespace")&&(o-=a+1===o?2:4),o>a&&(_={type:"atxHeadingText",start:i[a][1].start,end:i[o][1].end},j={type:"chunkText",start:i[a][1].start,end:i[o][1].end,contentType:"text"},splice(i,a,o-a+1,[["enter",_,s],["enter",j,s],["exit",j,s],["exit",_,s]])),i}function tokenizeHeadingAtx(i,s,o){let a=0;return _;function _(nt){return i.enter("atxHeading"),j(nt)}function j(nt){return i.enter("atxHeadingSequence"),$(nt)}function $(nt){return nt===35&&a++<6?(i.consume(nt),$):nt===null||markdownLineEndingOrSpace(nt)?(i.exit("atxHeadingSequence"),_e(nt)):o(nt)}function _e(nt){return nt===35?(i.enter("atxHeadingSequence"),et(nt)):nt===null||markdownLineEnding(nt)?(i.exit("atxHeading"),s(nt)):markdownSpace(nt)?factorySpace(i,_e,"whitespace")(nt):(i.enter("atxHeadingText"),tt(nt))}function et(nt){return nt===35?(i.consume(nt),et):(i.exit("atxHeadingSequence"),_e(nt))}function tt(nt){return nt===null||nt===35||markdownLineEndingOrSpace(nt)?(i.exit("atxHeadingText"),_e(nt)):(i.consume(nt),tt)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={name:"htmlFlow",tokenize:tokenizeHtmlFlow,resolveTo:resolveToHtmlFlow,concrete:!0},blankLineBefore={tokenize:tokenizeBlankLineBefore,partial:!0},nonLazyContinuationStart={tokenize:tokenizeNonLazyContinuationStart,partial:!0};function resolveToHtmlFlow(i){let s=i.length;for(;s--&&!(i[s][0]==="enter"&&i[s][1].type==="htmlFlow"););return s>1&&i[s-2][1].type==="linePrefix"&&(i[s][1].start=i[s-2][1].start,i[s+1][1].start=i[s-2][1].start,i.splice(s-2,2)),i}function tokenizeHtmlFlow(i,s,o){const a=this;let _,j,$,_e,et;return tt;function tt(xt){return nt(xt)}function nt(xt){return i.enter("htmlFlow"),i.enter("htmlFlowData"),i.consume(xt),rt}function rt(xt){return xt===33?(i.consume(xt),st):xt===47?(i.consume(xt),j=!0,dt):xt===63?(i.consume(xt),_=3,a.interrupt?s:Rt):asciiAlpha(xt)?(i.consume(xt),$=String.fromCharCode(xt),yt):o(xt)}function st(xt){return xt===45?(i.consume(xt),_=2,ot):xt===91?(i.consume(xt),_=5,_e=0,ut):asciiAlpha(xt)?(i.consume(xt),_=4,a.interrupt?s:Rt):o(xt)}function ot(xt){return xt===45?(i.consume(xt),a.interrupt?s:Rt):o(xt)}function ut(xt){const ft="CDATA[";return xt===ft.charCodeAt(_e++)?(i.consume(xt),_e===ft.length?a.interrupt?s:Mt:ut):o(xt)}function dt(xt){return asciiAlpha(xt)?(i.consume(xt),$=String.fromCharCode(xt),yt):o(xt)}function yt(xt){if(xt===null||xt===47||xt===62||markdownLineEndingOrSpace(xt)){const ft=xt===47,vt=$.toLowerCase();return!ft&&!j&&htmlRawNames.includes(vt)?(_=1,a.interrupt?s(xt):Mt(xt)):htmlBlockNames.includes($.toLowerCase())?(_=6,ft?(i.consume(xt),it):a.interrupt?s(xt):Mt(xt)):(_=7,a.interrupt&&!a.parser.lazy[a.now().line]?o(xt):j?ct(xt):ht(xt))}return xt===45||asciiAlphanumeric(xt)?(i.consume(xt),$+=String.fromCharCode(xt),yt):o(xt)}function it(xt){return xt===62?(i.consume(xt),a.interrupt?s:Mt):o(xt)}function ct(xt){return markdownSpace(xt)?(i.consume(xt),ct):Et(xt)}function ht(xt){return xt===47?(i.consume(xt),Et):xt===58||xt===95||asciiAlpha(xt)?(i.consume(xt),kt):markdownSpace(xt)?(i.consume(xt),ht):Et(xt)}function kt(xt){return xt===45||xt===46||xt===58||xt===95||asciiAlphanumeric(xt)?(i.consume(xt),kt):pt(xt)}function pt(xt){return xt===61?(i.consume(xt),at):markdownSpace(xt)?(i.consume(xt),pt):ht(xt)}function at(xt){return xt===null||xt===60||xt===61||xt===62||xt===96?o(xt):xt===34||xt===39?(i.consume(xt),et=xt,At):markdownSpace(xt)?(i.consume(xt),at):wt(xt)}function At(xt){return xt===et?(i.consume(xt),et=null,bt):xt===null||markdownLineEnding(xt)?o(xt):(i.consume(xt),At)}function wt(xt){return xt===null||xt===34||xt===39||xt===47||xt===60||xt===61||xt===62||xt===96||markdownLineEndingOrSpace(xt)?pt(xt):(i.consume(xt),wt)}function bt(xt){return xt===47||xt===62||markdownSpace(xt)?ht(xt):o(xt)}function Et(xt){return xt===62?(i.consume(xt),_t):o(xt)}function _t(xt){return xt===null||markdownLineEnding(xt)?Mt(xt):markdownSpace(xt)?(i.consume(xt),_t):o(xt)}function Mt(xt){return xt===45&&_===2?(i.consume(xt),Xt):xt===60&&_===1?(i.consume(xt),Zt):xt===62&&_===4?(i.consume(xt),dn):xt===63&&_===3?(i.consume(xt),Rt):xt===93&&_===5?(i.consume(xt),Wt):markdownLineEnding(xt)&&(_===6||_===7)?(i.exit("htmlFlowData"),i.check(blankLineBefore,pn,Ot)(xt)):xt===null||markdownLineEnding(xt)?(i.exit("htmlFlowData"),Ot(xt)):(i.consume(xt),Mt)}function Ot(xt){return i.check(nonLazyContinuationStart,jt,pn)(xt)}function jt(xt){return i.enter("lineEnding"),i.consume(xt),i.exit("lineEnding"),Bt}function Bt(xt){return xt===null||markdownLineEnding(xt)?Ot(xt):(i.enter("htmlFlowData"),Mt(xt))}function Xt(xt){return xt===45?(i.consume(xt),Rt):Mt(xt)}function Zt(xt){return xt===47?(i.consume(xt),$="",Tt):Mt(xt)}function Tt(xt){if(xt===62){const ft=$.toLowerCase();return htmlRawNames.includes(ft)?(i.consume(xt),dn):Mt(xt)}return asciiAlpha(xt)&&$.length<8?(i.consume(xt),$+=String.fromCharCode(xt),Tt):Mt(xt)}function Wt(xt){return xt===93?(i.consume(xt),Rt):Mt(xt)}function Rt(xt){return xt===62?(i.consume(xt),dn):xt===45&&_===2?(i.consume(xt),Rt):Mt(xt)}function dn(xt){return xt===null||markdownLineEnding(xt)?(i.exit("htmlFlowData"),pn(xt)):(i.consume(xt),dn)}function pn(xt){return i.exit("htmlFlow"),s(xt)}}function tokenizeNonLazyContinuationStart(i,s,o){const a=this;return _;function _($){return markdownLineEnding($)?(i.enter("lineEnding"),i.consume($),i.exit("lineEnding"),j):o($)}function j($){return a.parser.lazy[a.now().line]?o($):s($)}}function tokenizeBlankLineBefore(i,s,o){return a;function a(_){return i.enter("lineEnding"),i.consume(_),i.exit("lineEnding"),i.attempt(blankLine,s,o)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(i,s,o){const a=this;let _,j,$;return _e;function _e(Rt){return i.enter("htmlText"),i.enter("htmlTextData"),i.consume(Rt),et}function et(Rt){return Rt===33?(i.consume(Rt),tt):Rt===47?(i.consume(Rt),pt):Rt===63?(i.consume(Rt),ht):asciiAlpha(Rt)?(i.consume(Rt),wt):o(Rt)}function tt(Rt){return Rt===45?(i.consume(Rt),nt):Rt===91?(i.consume(Rt),j=0,ut):asciiAlpha(Rt)?(i.consume(Rt),ct):o(Rt)}function nt(Rt){return Rt===45?(i.consume(Rt),ot):o(Rt)}function rt(Rt){return Rt===null?o(Rt):Rt===45?(i.consume(Rt),st):markdownLineEnding(Rt)?($=rt,Zt(Rt)):(i.consume(Rt),rt)}function st(Rt){return Rt===45?(i.consume(Rt),ot):rt(Rt)}function ot(Rt){return Rt===62?Xt(Rt):Rt===45?st(Rt):rt(Rt)}function ut(Rt){const dn="CDATA[";return Rt===dn.charCodeAt(j++)?(i.consume(Rt),j===dn.length?dt:ut):o(Rt)}function dt(Rt){return Rt===null?o(Rt):Rt===93?(i.consume(Rt),yt):markdownLineEnding(Rt)?($=dt,Zt(Rt)):(i.consume(Rt),dt)}function yt(Rt){return Rt===93?(i.consume(Rt),it):dt(Rt)}function it(Rt){return Rt===62?Xt(Rt):Rt===93?(i.consume(Rt),it):dt(Rt)}function ct(Rt){return Rt===null||Rt===62?Xt(Rt):markdownLineEnding(Rt)?($=ct,Zt(Rt)):(i.consume(Rt),ct)}function ht(Rt){return Rt===null?o(Rt):Rt===63?(i.consume(Rt),kt):markdownLineEnding(Rt)?($=ht,Zt(Rt)):(i.consume(Rt),ht)}function kt(Rt){return Rt===62?Xt(Rt):ht(Rt)}function pt(Rt){return asciiAlpha(Rt)?(i.consume(Rt),at):o(Rt)}function at(Rt){return Rt===45||asciiAlphanumeric(Rt)?(i.consume(Rt),at):At(Rt)}function At(Rt){return markdownLineEnding(Rt)?($=At,Zt(Rt)):markdownSpace(Rt)?(i.consume(Rt),At):Xt(Rt)}function wt(Rt){return Rt===45||asciiAlphanumeric(Rt)?(i.consume(Rt),wt):Rt===47||Rt===62||markdownLineEndingOrSpace(Rt)?bt(Rt):o(Rt)}function bt(Rt){return Rt===47?(i.consume(Rt),Xt):Rt===58||Rt===95||asciiAlpha(Rt)?(i.consume(Rt),Et):markdownLineEnding(Rt)?($=bt,Zt(Rt)):markdownSpace(Rt)?(i.consume(Rt),bt):Xt(Rt)}function Et(Rt){return Rt===45||Rt===46||Rt===58||Rt===95||asciiAlphanumeric(Rt)?(i.consume(Rt),Et):_t(Rt)}function _t(Rt){return Rt===61?(i.consume(Rt),Mt):markdownLineEnding(Rt)?($=_t,Zt(Rt)):markdownSpace(Rt)?(i.consume(Rt),_t):bt(Rt)}function Mt(Rt){return Rt===null||Rt===60||Rt===61||Rt===62||Rt===96?o(Rt):Rt===34||Rt===39?(i.consume(Rt),_=Rt,Ot):markdownLineEnding(Rt)?($=Mt,Zt(Rt)):markdownSpace(Rt)?(i.consume(Rt),Mt):(i.consume(Rt),jt)}function Ot(Rt){return Rt===_?(i.consume(Rt),_=void 0,Bt):Rt===null?o(Rt):markdownLineEnding(Rt)?($=Ot,Zt(Rt)):(i.consume(Rt),Ot)}function jt(Rt){return Rt===null||Rt===34||Rt===39||Rt===60||Rt===61||Rt===96?o(Rt):Rt===47||Rt===62||markdownLineEndingOrSpace(Rt)?bt(Rt):(i.consume(Rt),jt)}function Bt(Rt){return Rt===47||Rt===62||markdownLineEndingOrSpace(Rt)?bt(Rt):o(Rt)}function Xt(Rt){return Rt===62?(i.consume(Rt),i.exit("htmlTextData"),i.exit("htmlText"),s):o(Rt)}function Zt(Rt){return i.exit("htmlTextData"),i.enter("lineEnding"),i.consume(Rt),i.exit("lineEnding"),Tt}function Tt(Rt){return markdownSpace(Rt)?factorySpace(i,Wt,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Rt):Wt(Rt)}function Wt(Rt){return i.enter("htmlTextData"),$(Rt)}}const labelEnd={name:"labelEnd",tokenize:tokenizeLabelEnd,resolveTo:resolveToLabelEnd,resolveAll:resolveAllLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(i){let s=-1;for(;++s<i.length;){const o=i[s][1];(o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd")&&(i.splice(s+1,o.type==="labelImage"?4:2),o.type="data",s++)}return i}function resolveToLabelEnd(i,s){let o=i.length,a=0,_,j,$,_e;for(;o--;)if(_=i[o][1],j){if(_.type==="link"||_.type==="labelLink"&&_._inactive)break;i[o][0]==="enter"&&_.type==="labelLink"&&(_._inactive=!0)}else if($){if(i[o][0]==="enter"&&(_.type==="labelImage"||_.type==="labelLink")&&!_._balanced&&(j=o,_.type!=="labelLink")){a=2;break}}else _.type==="labelEnd"&&($=o);const et={type:i[j][1].type==="labelLink"?"link":"image",start:Object.assign({},i[j][1].start),end:Object.assign({},i[i.length-1][1].end)},tt={type:"label",start:Object.assign({},i[j][1].start),end:Object.assign({},i[$][1].end)},nt={type:"labelText",start:Object.assign({},i[j+a+2][1].end),end:Object.assign({},i[$-2][1].start)};return _e=[["enter",et,s],["enter",tt,s]],_e=push(_e,i.slice(j+1,j+a+3)),_e=push(_e,[["enter",nt,s]]),_e=push(_e,resolveAll(s.parser.constructs.insideSpan.null,i.slice(j+a+4,$-3),s)),_e=push(_e,[["exit",nt,s],i[$-2],i[$-1],["exit",tt,s]]),_e=push(_e,i.slice($+1)),_e=push(_e,[["exit",et,s]]),splice(i,j,i.length,_e),i}function tokenizeLabelEnd(i,s,o){const a=this;let _=a.events.length,j,$;for(;_--;)if((a.events[_][1].type==="labelImage"||a.events[_][1].type==="labelLink")&&!a.events[_][1]._balanced){j=a.events[_][1];break}return _e;function _e(st){return j?j._inactive?rt(st):($=a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize({start:j.end,end:a.now()}))),i.enter("labelEnd"),i.enter("labelMarker"),i.consume(st),i.exit("labelMarker"),i.exit("labelEnd"),et):o(st)}function et(st){return st===40?i.attempt(resourceConstruct,nt,$?nt:rt)(st):st===91?i.attempt(referenceFullConstruct,nt,$?tt:rt)(st):$?nt(st):rt(st)}function tt(st){return i.attempt(referenceCollapsedConstruct,nt,rt)(st)}function nt(st){return s(st)}function rt(st){return j._balanced=!0,o(st)}}function tokenizeResource(i,s,o){return a;function a(rt){return i.enter("resource"),i.enter("resourceMarker"),i.consume(rt),i.exit("resourceMarker"),_}function _(rt){return markdownLineEndingOrSpace(rt)?factoryWhitespace(i,j)(rt):j(rt)}function j(rt){return rt===41?nt(rt):factoryDestination(i,$,_e,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(rt)}function $(rt){return markdownLineEndingOrSpace(rt)?factoryWhitespace(i,et)(rt):nt(rt)}function _e(rt){return o(rt)}function et(rt){return rt===34||rt===39||rt===40?factoryTitle(i,tt,o,"resourceTitle","resourceTitleMarker","resourceTitleString")(rt):nt(rt)}function tt(rt){return markdownLineEndingOrSpace(rt)?factoryWhitespace(i,nt)(rt):nt(rt)}function nt(rt){return rt===41?(i.enter("resourceMarker"),i.consume(rt),i.exit("resourceMarker"),i.exit("resource"),s):o(rt)}}function tokenizeReferenceFull(i,s,o){const a=this;return _;function _(_e){return factoryLabel.call(a,i,j,$,"reference","referenceMarker","referenceString")(_e)}function j(_e){return a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?s(_e):o(_e)}function $(_e){return o(_e)}}function tokenizeReferenceCollapsed(i,s,o){return a;function a(j){return i.enter("reference"),i.enter("referenceMarker"),i.consume(j),i.exit("referenceMarker"),_}function _(j){return j===93?(i.enter("referenceMarker"),i.consume(j),i.exit("referenceMarker"),i.exit("reference"),s):o(j)}}const labelStartImage={name:"labelStartImage",tokenize:tokenizeLabelStartImage,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartImage(i,s,o){const a=this;return _;function _(_e){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(_e),i.exit("labelImageMarker"),j}function j(_e){return _e===91?(i.enter("labelMarker"),i.consume(_e),i.exit("labelMarker"),i.exit("labelImage"),$):o(_e)}function $(_e){return _e===94&&"_hiddenFootnoteSupport"in a.parser.constructs?o(_e):s(_e)}}const labelStartLink={name:"labelStartLink",tokenize:tokenizeLabelStartLink,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartLink(i,s,o){const a=this;return _;function _($){return i.enter("labelLink"),i.enter("labelMarker"),i.consume($),i.exit("labelMarker"),i.exit("labelLink"),j}function j($){return $===94&&"_hiddenFootnoteSupport"in a.parser.constructs?o($):s($)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(i,s){return o;function o(a){return i.enter("lineEnding"),i.consume(a),i.exit("lineEnding"),factorySpace(i,s,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(i,s,o){let a=0,_;return j;function j(tt){return i.enter("thematicBreak"),$(tt)}function $(tt){return _=tt,_e(tt)}function _e(tt){return tt===_?(i.enter("thematicBreakSequence"),et(tt)):a>=3&&(tt===null||markdownLineEnding(tt))?(i.exit("thematicBreak"),s(tt)):o(tt)}function et(tt){return tt===_?(i.consume(tt),a++,et):(i.exit("thematicBreakSequence"),markdownSpace(tt)?factorySpace(i,_e,"whitespace")(tt):_e(tt))}}const list$1={name:"list",tokenize:tokenizeListStart,continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd},listItemPrefixWhitespaceConstruct={tokenize:tokenizeListItemPrefixWhitespace,partial:!0},indentConstruct={tokenize:tokenizeIndent$1,partial:!0};function tokenizeListStart(i,s,o){const a=this,_=a.events[a.events.length-1];let j=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,$=0;return _e;function _e(ot){const ut=a.containerState.type||(ot===42||ot===43||ot===45?"listUnordered":"listOrdered");if(ut==="listUnordered"?!a.containerState.marker||ot===a.containerState.marker:asciiDigit(ot)){if(a.containerState.type||(a.containerState.type=ut,i.enter(ut,{_container:!0})),ut==="listUnordered")return i.enter("listItemPrefix"),ot===42||ot===45?i.check(thematicBreak$1,o,tt)(ot):tt(ot);if(!a.interrupt||ot===49)return i.enter("listItemPrefix"),i.enter("listItemValue"),et(ot)}return o(ot)}function et(ot){return asciiDigit(ot)&&++$<10?(i.consume(ot),et):(!a.interrupt||$<2)&&(a.containerState.marker?ot===a.containerState.marker:ot===41||ot===46)?(i.exit("listItemValue"),tt(ot)):o(ot)}function tt(ot){return i.enter("listItemMarker"),i.consume(ot),i.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||ot,i.check(blankLine,a.interrupt?o:nt,i.attempt(listItemPrefixWhitespaceConstruct,st,rt))}function nt(ot){return a.containerState.initialBlankLine=!0,j++,st(ot)}function rt(ot){return markdownSpace(ot)?(i.enter("listItemPrefixWhitespace"),i.consume(ot),i.exit("listItemPrefixWhitespace"),st):o(ot)}function st(ot){return a.containerState.size=j+a.sliceSerialize(i.exit("listItemPrefix"),!0).length,s(ot)}}function tokenizeListContinuation(i,s,o){const a=this;return a.containerState._closeFlow=void 0,i.check(blankLine,_,j);function _(_e){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,factorySpace(i,s,"listItemIndent",a.containerState.size+1)(_e)}function j(_e){return a.containerState.furtherBlankLines||!markdownSpace(_e)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,$(_e)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,i.attempt(indentConstruct,s,$)(_e))}function $(_e){return a.containerState._closeFlow=!0,a.interrupt=void 0,factorySpace(i,i.attempt(list$1,s,o),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_e)}}function tokenizeIndent$1(i,s,o){const a=this;return factorySpace(i,_,"listItemIndent",a.containerState.size+1);function _(j){const $=a.events[a.events.length-1];return $&&$[1].type==="listItemIndent"&&$[2].sliceSerialize($[1],!0).length===a.containerState.size?s(j):o(j)}}function tokenizeListEnd(i){i.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(i,s,o){const a=this;return factorySpace(i,_,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function _(j){const $=a.events[a.events.length-1];return!markdownSpace(j)&&$&&$[1].type==="listItemPrefixWhitespace"?s(j):o(j)}}const setextUnderline={name:"setextUnderline",tokenize:tokenizeSetextUnderline,resolveTo:resolveToSetextUnderline};function resolveToSetextUnderline(i,s){let o=i.length,a,_,j;for(;o--;)if(i[o][0]==="enter"){if(i[o][1].type==="content"){a=o;break}i[o][1].type==="paragraph"&&(_=o)}else i[o][1].type==="content"&&i.splice(o,1),!j&&i[o][1].type==="definition"&&(j=o);const $={type:"setextHeading",start:Object.assign({},i[_][1].start),end:Object.assign({},i[i.length-1][1].end)};return i[_][1].type="setextHeadingText",j?(i.splice(_,0,["enter",$,s]),i.splice(j+1,0,["exit",i[a][1],s]),i[a][1].end=Object.assign({},i[j][1].end)):i[a][1]=$,i.push(["exit",$,s]),i}function tokenizeSetextUnderline(i,s,o){const a=this;let _;return j;function j(tt){let nt=a.events.length,rt;for(;nt--;)if(a.events[nt][1].type!=="lineEnding"&&a.events[nt][1].type!=="linePrefix"&&a.events[nt][1].type!=="content"){rt=a.events[nt][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||rt)?(i.enter("setextHeadingLine"),_=tt,$(tt)):o(tt)}function $(tt){return i.enter("setextHeadingLineSequence"),_e(tt)}function _e(tt){return tt===_?(i.consume(tt),_e):(i.exit("setextHeadingLineSequence"),markdownSpace(tt)?factorySpace(i,et,"lineSuffix")(tt):et(tt))}function et(tt){return tt===null||markdownLineEnding(tt)?(i.exit("setextHeadingLine"),s(tt)):o(tt)}}const flow$1={tokenize:initializeFlow};function initializeFlow(i){const s=this,o=i.attempt(blankLine,a,i.attempt(this.parser.constructs.flowInitial,_,factorySpace(i,i.attempt(this.parser.constructs.flow,_,i.attempt(content,_)),"linePrefix")));return o;function a(j){if(j===null){i.consume(j);return}return i.enter("lineEndingBlank"),i.consume(j),i.exit("lineEndingBlank"),s.currentConstruct=void 0,o}function _(j){if(j===null){i.consume(j);return}return i.enter("lineEnding"),i.consume(j),i.exit("lineEnding"),s.currentConstruct=void 0,o}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$3=initializeFactory("text");function initializeFactory(i){return{tokenize:s,resolveAll:createResolver(i==="text"?resolveAllLineSuffixes:void 0)};function s(o){const a=this,_=this.parser.constructs[i],j=o.attempt(_,$,_e);return $;function $(nt){return tt(nt)?j(nt):_e(nt)}function _e(nt){if(nt===null){o.consume(nt);return}return o.enter("data"),o.consume(nt),et}function et(nt){return tt(nt)?(o.exit("data"),j(nt)):(o.consume(nt),et)}function tt(nt){if(nt===null)return!0;const rt=_[nt];let st=-1;if(rt)for(;++st<rt.length;){const ot=rt[st];if(!ot.previous||ot.previous.call(a,a.previous))return!0}return!1}}}function createResolver(i){return s;function s(o,a){let _=-1,j;for(;++_<=o.length;)j===void 0?o[_]&&o[_][1].type==="data"&&(j=_,_++):(!o[_]||o[_][1].type!=="data")&&(_!==j+2&&(o[j][1].end=o[_-1][1].end,o.splice(j+2,_-j-2),_=j+2),j=void 0);return i?i(o,a):o}}function resolveAllLineSuffixes(i,s){let o=0;for(;++o<=i.length;)if((o===i.length||i[o][1].type==="lineEnding")&&i[o-1][1].type==="data"){const a=i[o-1][1],_=s.sliceStream(a);let j=_.length,$=-1,_e=0,et;for(;j--;){const tt=_[j];if(typeof tt=="string"){for($=tt.length;tt.charCodeAt($-1)===32;)_e++,$--;if($)break;$=-1}else if(tt===-2)et=!0,_e++;else if(tt!==-1){j++;break}}if(_e){const tt={type:o===i.length||et||_e<2?"lineSuffix":"hardBreakTrailing",start:{line:a.end.line,column:a.end.column-_e,offset:a.end.offset-_e,_index:a.start._index+j,_bufferIndex:j?$:a.start._bufferIndex+$},end:Object.assign({},a.end)};a.end=Object.assign({},tt.start),a.start.offset===a.end.offset?Object.assign(a,tt):(i.splice(o,0,["enter",tt,s],["exit",tt,s]),o+=2)}o++}return i}function createTokenizer(i,s,o){let a=Object.assign(o?Object.assign({},o):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const _={},j=[];let $=[],_e=[];const et={consume:ct,enter:ht,exit:kt,attempt:At(pt),check:At(at),interrupt:At(at,{interrupt:!0})},tt={previous:null,code:null,containerState:{},events:[],parser:i,sliceStream:ot,sliceSerialize:st,now:ut,defineSkip:dt,write:rt};let nt=s.tokenize.call(tt,et);return s.resolveAll&&j.push(s),tt;function rt(_t){return $=push($,_t),yt(),$[$.length-1]!==null?[]:(wt(s,0),tt.events=resolveAll(j,tt.events,tt),tt.events)}function st(_t,Mt){return serializeChunks(ot(_t),Mt)}function ot(_t){return sliceChunks($,_t)}function ut(){const{line:_t,column:Mt,offset:Ot,_index:jt,_bufferIndex:Bt}=a;return{line:_t,column:Mt,offset:Ot,_index:jt,_bufferIndex:Bt}}function dt(_t){_[_t.line]=_t.column,Et()}function yt(){let _t;for(;a._index<$.length;){const Mt=$[a._index];if(typeof Mt=="string")for(_t=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===_t&&a._bufferIndex<Mt.length;)it(Mt.charCodeAt(a._bufferIndex));else it(Mt)}}function it(_t){nt=nt(_t)}function ct(_t){markdownLineEnding(_t)?(a.line++,a.column=1,a.offset+=_t===-3?2:1,Et()):_t!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===$[a._index].length&&(a._bufferIndex=-1,a._index++)),tt.previous=_t}function ht(_t,Mt){const Ot=Mt||{};return Ot.type=_t,Ot.start=ut(),tt.events.push(["enter",Ot,tt]),_e.push(Ot),Ot}function kt(_t){const Mt=_e.pop();return Mt.end=ut(),tt.events.push(["exit",Mt,tt]),Mt}function pt(_t,Mt){wt(_t,Mt.from)}function at(_t,Mt){Mt.restore()}function At(_t,Mt){return Ot;function Ot(jt,Bt,Xt){let Zt,Tt,Wt,Rt;return Array.isArray(jt)?pn(jt):"tokenize"in jt?pn([jt]):dn(jt);function dn(mt){return St;function St(Ct){const Ft=Ct!==null&&mt[Ct],Lt=Ct!==null&&mt.null,zt=[...Array.isArray(Ft)?Ft:Ft?[Ft]:[],...Array.isArray(Lt)?Lt:Lt?[Lt]:[]];return pn(zt)(Ct)}}function pn(mt){return Zt=mt,Tt=0,mt.length===0?Xt:xt(mt[Tt])}function xt(mt){return St;function St(Ct){return Rt=bt(),Wt=mt,mt.partial||(tt.currentConstruct=mt),mt.name&&tt.parser.constructs.disable.null.includes(mt.name)?vt():mt.tokenize.call(Mt?Object.assign(Object.create(tt),Mt):tt,et,ft,vt)(Ct)}}function ft(mt){return _t(Wt,Rt),Bt}function vt(mt){return Rt.restore(),++Tt<Zt.length?xt(Zt[Tt]):Xt}}}function wt(_t,Mt){_t.resolveAll&&!j.includes(_t)&&j.push(_t),_t.resolve&&splice(tt.events,Mt,tt.events.length-Mt,_t.resolve(tt.events.slice(Mt),tt)),_t.resolveTo&&(tt.events=_t.resolveTo(tt.events,tt))}function bt(){const _t=ut(),Mt=tt.previous,Ot=tt.currentConstruct,jt=tt.events.length,Bt=Array.from(_e);return{restore:Xt,from:jt};function Xt(){a=_t,tt.previous=Mt,tt.currentConstruct=Ot,tt.events.length=jt,_e=Bt,Et()}}function Et(){a.line in _&&a.column<2&&(a.column=_[a.line],a.offset+=_[a.line]-1)}}function sliceChunks(i,s){const o=s.start._index,a=s.start._bufferIndex,_=s.end._index,j=s.end._bufferIndex;let $;if(o===_)$=[i[o].slice(a,j)];else{if($=i.slice(o,_),a>-1){const _e=$[0];typeof _e=="string"?$[0]=_e.slice(a):$.shift()}j>0&&$.push(i[_].slice(0,j))}return $}function serializeChunks(i,s){let o=-1;const a=[];let _;for(;++o<i.length;){const j=i[o];let $;if(typeof j=="string")$=j;else switch(j){case-5:{$="\r";break}case-4:{$=`
`;break}case-3:{$=`\r
`;break}case-2:{$=s?" ":"	";break}case-1:{if(!s&&_)continue;$=" ";break}default:$=String.fromCharCode(j)}_=j===-2,a.push($)}return a.join("")}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$2={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$2},Symbol.toStringTag,{value:"Module"}));function parse$1(i){const o=combineExtensions([defaultConstructs,...(i||{}).extensions||[]]),a={defined:[],lazy:{},constructs:o,content:_(content$1),document:_(document$2),flow:_(flow$1),string:_(string$1),text:_(text$3)};return a;function _(j){return $;function $(_e){return createTokenizer(a,j,_e)}}}const search=/[\0\t\n\r]/g;function preprocess(){let i=1,s="",o=!0,a;return _;function _(j,$,_e){const et=[];let tt,nt,rt,st,ot;for(j=s+j.toString($),rt=0,s="",o&&(j.charCodeAt(0)===65279&&rt++,o=void 0);rt<j.length;){if(search.lastIndex=rt,tt=search.exec(j),st=tt&&tt.index!==void 0?tt.index:j.length,ot=j.charCodeAt(st),!tt){s=j.slice(rt);break}if(ot===10&&rt===st&&a)et.push(-3),a=void 0;else switch(a&&(et.push(-5),a=void 0),rt<st&&(et.push(j.slice(rt,st)),i+=st-rt),ot){case 0:{et.push(65533),i++;break}case 9:{for(nt=Math.ceil(i/4)*4,et.push(-2);i++<nt;)et.push(-1);break}case 10:{et.push(-4),i=1;break}default:a=!0,i=1}rt=st+1}return _e&&(a&&et.push(-5),s&&et.push(s),et.push(null)),et}}function postprocess(i){for(;!subtokenize(i););return i}function decodeNumericCharacterReference(i,s){const o=Number.parseInt(i,s);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"�":String.fromCharCode(o)}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(i){return i.replace(characterEscapeOrReference,decode)}function decode(i,s,o){if(s)return s;if(o.charCodeAt(0)===35){const _=o.charCodeAt(1),j=_===120||_===88;return decodeNumericCharacterReference(o.slice(j?2:1),j?16:10)}return decodeNamedCharacterReference(o)||i}const own$6={}.hasOwnProperty,fromMarkdown=function(i,s,o){return typeof s!="string"&&(o=s,s=void 0),compiler(o)(postprocess(parse$1(o).document().write(preprocess()(i,s,!0))))};function compiler(i){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:_e(bn),autolinkProtocol:_t,autolinkEmail:_t,atxHeading:_e(yn),blockQuote:_e(zt),characterEscape:_t,characterReference:_t,codeFenced:_e(Kt),codeFencedFenceInfo:et,codeFencedFenceMeta:et,codeIndented:_e(Kt,et),codeText:_e(en,et),codeTextData:_t,data:_t,codeFlowValue:_t,definition:_e(rn),definitionDestinationString:et,definitionLabelString:et,definitionTitleString:et,emphasis:_e(an),hardBreakEscape:_e(un),hardBreakTrailing:_e(un),htmlFlow:_e(Cn,et),htmlFlowData:_t,htmlText:_e(Cn,et),htmlTextData:_t,image:_e(Dn),label:et,link:_e(bn),listItem:_e(hn),listItemValue:ut,listOrdered:_e(Pn,ot),listUnordered:_e(Pn),paragraph:_e(Qt),reference:vt,referenceString:et,resourceDestinationString:et,resourceTitleString:et,setextHeading:_e(yn),strong:_e(Jt),thematicBreak:_e(kn)},exit:{atxHeading:nt(),atxHeadingSequence:At,autolink:nt(),autolinkEmail:Lt,autolinkProtocol:Ft,blockQuote:nt(),characterEscapeValue:Mt,characterReferenceMarkerHexadecimal:St,characterReferenceMarkerNumeric:St,characterReferenceValue:Ct,codeFenced:nt(ct),codeFencedFence:it,codeFencedFenceInfo:dt,codeFencedFenceMeta:yt,codeFlowValue:Mt,codeIndented:nt(ht),codeText:nt(Zt),codeTextData:Mt,data:Mt,definition:nt(),definitionDestinationString:at,definitionLabelString:kt,definitionTitleString:pt,emphasis:nt(),hardBreakEscape:nt(jt),hardBreakTrailing:nt(jt),htmlFlow:nt(Bt),htmlFlowData:Mt,htmlText:nt(Xt),htmlTextData:Mt,image:nt(Wt),label:dn,labelText:Rt,lineEnding:Ot,link:nt(Tt),listItem:nt(),listOrdered:nt(),listUnordered:nt(),paragraph:nt(),referenceString:mt,resourceDestinationString:pn,resourceTitleString:xt,resource:ft,setextHeading:nt(Et),setextHeadingLineSequence:bt,setextHeadingText:wt,strong:nt(),thematicBreak:nt()}};configure(s,(i||{}).mdastExtensions||[]);const o={};return a;function a(Ut){let on={type:"root",children:[]};const vn={stack:[on],tokenStack:[],config:s,enter:tt,exit:rt,buffer:et,resume:st,setData:j,getData:$},_n=[];let jn=-1;for(;++jn<Ut.length;)if(Ut[jn][1].type==="listOrdered"||Ut[jn][1].type==="listUnordered")if(Ut[jn][0]==="enter")_n.push(jn);else{const On=_n.pop();jn=_(Ut,On,jn)}for(jn=-1;++jn<Ut.length;){const On=s[Ut[jn][0]];own$6.call(On,Ut[jn][1].type)&&On[Ut[jn][1].type].call(Object.assign({sliceSerialize:Ut[jn][2].sliceSerialize},vn),Ut[jn][1])}if(vn.tokenStack.length>0){const On=vn.tokenStack[vn.tokenStack.length-1];(On[1]||defaultOnError).call(vn,void 0,On[0])}for(on.position={start:point$1(Ut.length>0?Ut[0][1].start:{line:1,column:1,offset:0}),end:point$1(Ut.length>0?Ut[Ut.length-2][1].end:{line:1,column:1,offset:0})},jn=-1;++jn<s.transforms.length;)on=s.transforms[jn](on)||on;return on}function _(Ut,on,vn){let _n=on-1,jn=-1,On=!1,Nn,Bn,sn,qt;for(;++_n<=vn;){const $t=Ut[_n];if($t[1].type==="listUnordered"||$t[1].type==="listOrdered"||$t[1].type==="blockQuote"?($t[0]==="enter"?jn++:jn--,qt=void 0):$t[1].type==="lineEndingBlank"?$t[0]==="enter"&&(Nn&&!qt&&!jn&&!sn&&(sn=_n),qt=void 0):$t[1].type==="linePrefix"||$t[1].type==="listItemValue"||$t[1].type==="listItemMarker"||$t[1].type==="listItemPrefix"||$t[1].type==="listItemPrefixWhitespace"||(qt=void 0),!jn&&$t[0]==="enter"&&$t[1].type==="listItemPrefix"||jn===-1&&$t[0]==="exit"&&($t[1].type==="listUnordered"||$t[1].type==="listOrdered")){if(Nn){let mn=_n;for(Bn=void 0;mn--;){const fn=Ut[mn];if(fn[1].type==="lineEnding"||fn[1].type==="lineEndingBlank"){if(fn[0]==="exit")continue;Bn&&(Ut[Bn][1].type="lineEndingBlank",On=!0),fn[1].type="lineEnding",Bn=mn}else if(!(fn[1].type==="linePrefix"||fn[1].type==="blockQuotePrefix"||fn[1].type==="blockQuotePrefixWhitespace"||fn[1].type==="blockQuoteMarker"||fn[1].type==="listItemIndent"))break}sn&&(!Bn||sn<Bn)&&(Nn._spread=!0),Nn.end=Object.assign({},Bn?Ut[Bn][1].start:$t[1].end),Ut.splice(Bn||_n,0,["exit",Nn,$t[2]]),_n++,vn++}$t[1].type==="listItemPrefix"&&(Nn={type:"listItem",_spread:!1,start:Object.assign({},$t[1].start),end:void 0},Ut.splice(_n,0,["enter",Nn,$t[2]]),_n++,vn++,sn=void 0,qt=!0)}}return Ut[on][1]._spread=On,vn}function j(Ut,on){o[Ut]=on}function $(Ut){return o[Ut]}function _e(Ut,on){return vn;function vn(_n){tt.call(this,Ut(_n),_n),on&&on.call(this,_n)}}function et(){this.stack.push({type:"fragment",children:[]})}function tt(Ut,on,vn){return this.stack[this.stack.length-1].children.push(Ut),this.stack.push(Ut),this.tokenStack.push([on,vn]),Ut.position={start:point$1(on.start)},Ut}function nt(Ut){return on;function on(vn){Ut&&Ut.call(this,vn),rt.call(this,vn)}}function rt(Ut,on){const vn=this.stack.pop(),_n=this.tokenStack.pop();if(_n)_n[0].type!==Ut.type&&(on?on.call(this,Ut,_n[0]):(_n[1]||defaultOnError).call(this,Ut,_n[0]));else throw new Error("Cannot close `"+Ut.type+"` ("+stringifyPosition({start:Ut.start,end:Ut.end})+"): it’s not open");return vn.position.end=point$1(Ut.end),vn}function st(){return toString(this.stack.pop())}function ot(){j("expectingFirstListItemValue",!0)}function ut(Ut){if($("expectingFirstListItemValue")){const on=this.stack[this.stack.length-2];on.start=Number.parseInt(this.sliceSerialize(Ut),10),j("expectingFirstListItemValue")}}function dt(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.lang=Ut}function yt(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.meta=Ut}function it(){$("flowCodeInside")||(this.buffer(),j("flowCodeInside",!0))}function ct(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.value=Ut.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),j("flowCodeInside")}function ht(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.value=Ut.replace(/(\r?\n|\r)$/g,"")}function kt(Ut){const on=this.resume(),vn=this.stack[this.stack.length-1];vn.label=on,vn.identifier=normalizeIdentifier(this.sliceSerialize(Ut)).toLowerCase()}function pt(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.title=Ut}function at(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.url=Ut}function At(Ut){const on=this.stack[this.stack.length-1];if(!on.depth){const vn=this.sliceSerialize(Ut).length;on.depth=vn}}function wt(){j("setextHeadingSlurpLineEnding",!0)}function bt(Ut){const on=this.stack[this.stack.length-1];on.depth=this.sliceSerialize(Ut).charCodeAt(0)===61?1:2}function Et(){j("setextHeadingSlurpLineEnding")}function _t(Ut){const on=this.stack[this.stack.length-1];let vn=on.children[on.children.length-1];(!vn||vn.type!=="text")&&(vn=ln(),vn.position={start:point$1(Ut.start)},on.children.push(vn)),this.stack.push(vn)}function Mt(Ut){const on=this.stack.pop();on.value+=this.sliceSerialize(Ut),on.position.end=point$1(Ut.end)}function Ot(Ut){const on=this.stack[this.stack.length-1];if($("atHardBreak")){const vn=on.children[on.children.length-1];vn.position.end=point$1(Ut.end),j("atHardBreak");return}!$("setextHeadingSlurpLineEnding")&&s.canContainEols.includes(on.type)&&(_t.call(this,Ut),Mt.call(this,Ut))}function jt(){j("atHardBreak",!0)}function Bt(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.value=Ut}function Xt(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.value=Ut}function Zt(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.value=Ut}function Tt(){const Ut=this.stack[this.stack.length-1];if($("inReference")){const on=$("referenceType")||"shortcut";Ut.type+="Reference",Ut.referenceType=on,delete Ut.url,delete Ut.title}else delete Ut.identifier,delete Ut.label;j("referenceType")}function Wt(){const Ut=this.stack[this.stack.length-1];if($("inReference")){const on=$("referenceType")||"shortcut";Ut.type+="Reference",Ut.referenceType=on,delete Ut.url,delete Ut.title}else delete Ut.identifier,delete Ut.label;j("referenceType")}function Rt(Ut){const on=this.sliceSerialize(Ut),vn=this.stack[this.stack.length-2];vn.label=decodeString(on),vn.identifier=normalizeIdentifier(on).toLowerCase()}function dn(){const Ut=this.stack[this.stack.length-1],on=this.resume(),vn=this.stack[this.stack.length-1];if(j("inReference",!0),vn.type==="link"){const _n=Ut.children;vn.children=_n}else vn.alt=on}function pn(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.url=Ut}function xt(){const Ut=this.resume(),on=this.stack[this.stack.length-1];on.title=Ut}function ft(){j("inReference")}function vt(){j("referenceType","collapsed")}function mt(Ut){const on=this.resume(),vn=this.stack[this.stack.length-1];vn.label=on,vn.identifier=normalizeIdentifier(this.sliceSerialize(Ut)).toLowerCase(),j("referenceType","full")}function St(Ut){j("characterReferenceType",Ut.type)}function Ct(Ut){const on=this.sliceSerialize(Ut),vn=$("characterReferenceType");let _n;vn?(_n=decodeNumericCharacterReference(on,vn==="characterReferenceMarkerNumeric"?10:16),j("characterReferenceType")):_n=decodeNamedCharacterReference(on);const jn=this.stack.pop();jn.value+=_n,jn.position.end=point$1(Ut.end)}function Ft(Ut){Mt.call(this,Ut);const on=this.stack[this.stack.length-1];on.url=this.sliceSerialize(Ut)}function Lt(Ut){Mt.call(this,Ut);const on=this.stack[this.stack.length-1];on.url="mailto:"+this.sliceSerialize(Ut)}function zt(){return{type:"blockquote",children:[]}}function Kt(){return{type:"code",lang:null,meta:null,value:""}}function en(){return{type:"inlineCode",value:""}}function rn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function an(){return{type:"emphasis",children:[]}}function yn(){return{type:"heading",depth:void 0,children:[]}}function un(){return{type:"break"}}function Cn(){return{type:"html",value:""}}function Dn(){return{type:"image",title:null,url:"",alt:null}}function bn(){return{type:"link",title:null,url:"",children:[]}}function Pn(Ut){return{type:"list",ordered:Ut.type==="listOrdered",start:null,spread:Ut._spread,children:[]}}function hn(Ut){return{type:"listItem",spread:Ut._spread,checked:null,children:[]}}function Qt(){return{type:"paragraph",children:[]}}function Jt(){return{type:"strong",children:[]}}function ln(){return{type:"text",value:""}}function kn(){return{type:"thematicBreak"}}}function point$1(i){return{line:i.line,column:i.column,offset:i.offset}}function configure(i,s){let o=-1;for(;++o<s.length;){const a=s[o];Array.isArray(a)?configure(i,a):extension(i,a)}}function extension(i,s){let o;for(o in s)if(own$6.call(s,o)){if(o==="canContainEols"){const a=s[o];a&&i[o].push(...a)}else if(o==="transforms"){const a=s[o];a&&i[o].push(...a)}else if(o==="enter"||o==="exit"){const a=s[o];a&&Object.assign(i[o],a)}}}function defaultOnError(i,s){throw i?new Error("Cannot close `"+i.type+"` ("+stringifyPosition({start:i.start,end:i.end})+"): a different token (`"+s.type+"`, "+stringifyPosition({start:s.start,end:s.end})+") is open"):new Error("Cannot close document, a token (`"+s.type+"`, "+stringifyPosition({start:s.start,end:s.end})+") is still open")}function remarkParse(i){Object.assign(this,{Parser:o=>{const a=this.data("settings");return fromMarkdown(o,Object.assign({},a,i,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function blockquote(i,s){const o={type:"element",tagName:"blockquote",properties:{},children:i.wrap(i.all(s),!0)};return i.patch(s,o),i.applyData(s,o)}function hardBreak(i,s){const o={type:"element",tagName:"br",properties:{},children:[]};return i.patch(s,o),[i.applyData(s,o),{type:"text",value:`
`}]}function code$1(i,s){const o=s.value?s.value+`
`:"",a=s.lang?s.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,_={};a&&(_.className=["language-"+a]);let j={type:"element",tagName:"code",properties:_,children:[{type:"text",value:o}]};return s.meta&&(j.data={meta:s.meta}),i.patch(s,j),j=i.applyData(s,j),j={type:"element",tagName:"pre",properties:{},children:[j]},i.patch(s,j),j}function strikethrough(i,s){const o={type:"element",tagName:"del",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function emphasis(i,s){const o={type:"element",tagName:"em",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function normalizeUri(i){const s=[];let o=-1,a=0,_=0;for(;++o<i.length;){const j=i.charCodeAt(o);let $="";if(j===37&&asciiAlphanumeric(i.charCodeAt(o+1))&&asciiAlphanumeric(i.charCodeAt(o+2)))_=2;else if(j<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(j))||($=String.fromCharCode(j));else if(j>55295&&j<57344){const _e=i.charCodeAt(o+1);j<56320&&_e>56319&&_e<57344?($=String.fromCharCode(j,_e),_=1):$="�"}else $=String.fromCharCode(j);$&&(s.push(i.slice(a,o),encodeURIComponent($)),a=o+_+1,$=""),_&&(o+=_,_=0)}return s.join("")+i.slice(a)}function footnoteReference$1(i,s){const o=String(s.identifier).toUpperCase(),a=normalizeUri(o.toLowerCase()),_=i.footnoteOrder.indexOf(o);let j;_===-1?(i.footnoteOrder.push(o),i.footnoteCounts[o]=1,j=i.footnoteOrder.length):(i.footnoteCounts[o]++,j=_+1);const $=i.footnoteCounts[o],_e={type:"element",tagName:"a",properties:{href:"#"+i.clobberPrefix+"fn-"+a,id:i.clobberPrefix+"fnref-"+a+($>1?"-"+$:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(j)}]};i.patch(s,_e);const et={type:"element",tagName:"sup",properties:{},children:[_e]};return i.patch(s,et),i.applyData(s,et)}function footnote(i,s){const o=i.footnoteById;let a=1;for(;a in o;)a++;const _=String(a);return o[_]={type:"footnoteDefinition",identifier:_,children:[{type:"paragraph",children:s.children}],position:s.position},footnoteReference$1(i,{type:"footnoteReference",identifier:_,position:s.position})}function heading(i,s){const o={type:"element",tagName:"h"+s.depth,properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function html$2(i,s){if(i.dangerous){const o={type:"raw",value:s.value};return i.patch(s,o),i.applyData(s,o)}return null}function revert(i,s){const o=s.referenceType;let a="]";if(o==="collapsed"?a+="[]":o==="full"&&(a+="["+(s.label||s.identifier)+"]"),s.type==="imageReference")return{type:"text",value:"!["+s.alt+a};const _=i.all(s),j=_[0];j&&j.type==="text"?j.value="["+j.value:_.unshift({type:"text",value:"["});const $=_[_.length-1];return $&&$.type==="text"?$.value+=a:_.push({type:"text",value:a}),_}function imageReference(i,s){const o=i.definition(s.identifier);if(!o)return revert(i,s);const a={src:normalizeUri(o.url||""),alt:s.alt};o.title!==null&&o.title!==void 0&&(a.title=o.title);const _={type:"element",tagName:"img",properties:a,children:[]};return i.patch(s,_),i.applyData(s,_)}function image(i,s){const o={src:normalizeUri(s.url)};s.alt!==null&&s.alt!==void 0&&(o.alt=s.alt),s.title!==null&&s.title!==void 0&&(o.title=s.title);const a={type:"element",tagName:"img",properties:o,children:[]};return i.patch(s,a),i.applyData(s,a)}function inlineCode$1(i,s){const o={type:"text",value:s.value.replace(/\r?\n|\r/g," ")};i.patch(s,o);const a={type:"element",tagName:"code",properties:{},children:[o]};return i.patch(s,a),i.applyData(s,a)}function linkReference(i,s){const o=i.definition(s.identifier);if(!o)return revert(i,s);const a={href:normalizeUri(o.url||"")};o.title!==null&&o.title!==void 0&&(a.title=o.title);const _={type:"element",tagName:"a",properties:a,children:i.all(s)};return i.patch(s,_),i.applyData(s,_)}function link(i,s){const o={href:normalizeUri(s.url)};s.title!==null&&s.title!==void 0&&(o.title=s.title);const a={type:"element",tagName:"a",properties:o,children:i.all(s)};return i.patch(s,a),i.applyData(s,a)}function listItem$1(i,s,o){const a=i.all(s),_=o?listLoose(o):listItemLoose(s),j={},$=[];if(typeof s.checked=="boolean"){const nt=a[0];let rt;nt&&nt.type==="element"&&nt.tagName==="p"?rt=nt:(rt={type:"element",tagName:"p",properties:{},children:[]},a.unshift(rt)),rt.children.length>0&&rt.children.unshift({type:"text",value:" "}),rt.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:s.checked,disabled:!0},children:[]}),j.className=["task-list-item"]}let _e=-1;for(;++_e<a.length;){const nt=a[_e];(_||_e!==0||nt.type!=="element"||nt.tagName!=="p")&&$.push({type:"text",value:`
`}),nt.type==="element"&&nt.tagName==="p"&&!_?$.push(...nt.children):$.push(nt)}const et=a[a.length-1];et&&(_||et.type!=="element"||et.tagName!=="p")&&$.push({type:"text",value:`
`});const tt={type:"element",tagName:"li",properties:j,children:$};return i.patch(s,tt),i.applyData(s,tt)}function listLoose(i){let s=!1;if(i.type==="list"){s=i.spread||!1;const o=i.children;let a=-1;for(;!s&&++a<o.length;)s=listItemLoose(o[a])}return s}function listItemLoose(i){const s=i.spread;return s??i.children.length>1}function list(i,s){const o={},a=i.all(s);let _=-1;for(typeof s.start=="number"&&s.start!==1&&(o.start=s.start);++_<a.length;){const $=a[_];if($.type==="element"&&$.tagName==="li"&&$.properties&&Array.isArray($.properties.className)&&$.properties.className.includes("task-list-item")){o.className=["contains-task-list"];break}}const j={type:"element",tagName:s.ordered?"ol":"ul",properties:o,children:i.wrap(a,!0)};return i.patch(s,j),i.applyData(s,j)}function paragraph(i,s){const o={type:"element",tagName:"p",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}function root(i,s){const o={type:"root",children:i.wrap(i.all(s))};return i.patch(s,o),i.applyData(s,o)}function strong(i,s){const o={type:"element",tagName:"strong",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}const pointStart=point("start"),pointEnd=point("end");function position(i){return{start:pointStart(i),end:pointEnd(i)}}function point(i){return s;function s(o){const a=o&&o.position&&o.position[i]||{};return{line:a.line||null,column:a.column||null,offset:a.offset>-1?a.offset:null}}}function table(i,s){const o=i.all(s),a=o.shift(),_=[];if(a){const $={type:"element",tagName:"thead",properties:{},children:i.wrap([a],!0)};i.patch(s.children[0],$),_.push($)}if(o.length>0){const $={type:"element",tagName:"tbody",properties:{},children:i.wrap(o,!0)},_e=pointStart(s.children[1]),et=pointEnd(s.children[s.children.length-1]);_e.line&&et.line&&($.position={start:_e,end:et}),_.push($)}const j={type:"element",tagName:"table",properties:{},children:i.wrap(_,!0)};return i.patch(s,j),i.applyData(s,j)}function tableRow(i,s,o){const a=o?o.children:void 0,j=(a?a.indexOf(s):1)===0?"th":"td",$=o&&o.type==="table"?o.align:void 0,_e=$?$.length:s.children.length;let et=-1;const tt=[];for(;++et<_e;){const rt=s.children[et],st={},ot=$?$[et]:void 0;ot&&(st.align=ot);let ut={type:"element",tagName:j,properties:st,children:[]};rt&&(ut.children=i.all(rt),i.patch(rt,ut),ut=i.applyData(s,ut)),tt.push(ut)}const nt={type:"element",tagName:"tr",properties:{},children:i.wrap(tt,!0)};return i.patch(s,nt),i.applyData(s,nt)}function tableCell(i,s){const o={type:"element",tagName:"td",properties:{},children:i.all(s)};return i.patch(s,o),i.applyData(s,o)}const tab=9,space=32;function trimLines(i){const s=String(i),o=/\r?\n|\r/g;let a=o.exec(s),_=0;const j=[];for(;a;)j.push(trimLine(s.slice(_,a.index),_>0,!0),a[0]),_=a.index+a[0].length,a=o.exec(s);return j.push(trimLine(s.slice(_),_>0,!1)),j.join("")}function trimLine(i,s,o){let a=0,_=i.length;if(s){let j=i.codePointAt(a);for(;j===tab||j===space;)a++,j=i.codePointAt(a)}if(o){let j=i.codePointAt(_-1);for(;j===tab||j===space;)_--,j=i.codePointAt(_-1)}return _>a?i.slice(a,_):""}function text$1(i,s){const o={type:"text",value:trimLines(String(s.value))};return i.patch(s,o),i.applyData(s,o)}function thematicBreak(i,s){const o={type:"element",tagName:"hr",properties:{},children:[]};return i.patch(s,o),i.applyData(s,o)}const handlers={blockquote,break:hardBreak,code:code$1,delete:strikethrough,emphasis,footnoteReference:footnoteReference$1,footnote,heading,html:html$2,imageReference,image,inlineCode:inlineCode$1,linkReference,link,listItem:listItem$1,list,paragraph,root,strong,table,tableCell,tableRow,text:text$1,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){return null}const convert=function(i){if(i==null)return ok;if(typeof i=="string")return typeFactory(i);if(typeof i=="object")return Array.isArray(i)?anyFactory(i):propsFactory(i);if(typeof i=="function")return castFactory(i);throw new Error("Expected function, string, or object as test")};function anyFactory(i){const s=[];let o=-1;for(;++o<i.length;)s[o]=convert(i[o]);return castFactory(a);function a(..._){let j=-1;for(;++j<s.length;)if(s[j].call(this,..._))return!0;return!1}}function propsFactory(i){return castFactory(s);function s(o){let a;for(a in i)if(o[a]!==i[a])return!1;return!0}}function typeFactory(i){return castFactory(s);function s(o){return o&&o.type===i}}function castFactory(i){return s;function s(o,...a){return!!(o&&typeof o=="object"&&"type"in o&&i.call(this,o,...a))}}function ok(){return!0}function color(i){return i}const CONTINUE=!0,EXIT=!1,SKIP="skip",visitParents=function(i,s,o,a){typeof s=="function"&&typeof o!="function"&&(a=o,o=s,s=null);const _=convert(s),j=a?-1:1;$(i,void 0,[])();function $(_e,et,tt){const nt=_e&&typeof _e=="object"?_e:{};if(typeof nt.type=="string"){const st=typeof nt.tagName=="string"?nt.tagName:typeof nt.name=="string"?nt.name:void 0;Object.defineProperty(rt,"name",{value:"node ("+(_e.type+(st?"<"+st+">":""))+")"})}return rt;function rt(){let st=[],ot,ut,dt;if((!s||_(_e,et,tt[tt.length-1]||null))&&(st=toResult(o(_e,tt)),st[0]===EXIT))return st;if(_e.children&&st[0]!==SKIP)for(ut=(a?_e.children.length:-1)+j,dt=tt.concat(_e);ut>-1&&ut<_e.children.length;){if(ot=$(_e.children[ut],ut,dt)(),ot[0]===EXIT)return ot;ut=typeof ot[1]=="number"?ot[1]:ut+j}return st}}};function toResult(i){return Array.isArray(i)?i:typeof i=="number"?[CONTINUE,i]:[i]}const visit=function(i,s,o,a){typeof s=="function"&&typeof o!="function"&&(a=o,o=s,s=null),visitParents(i,s,_,a);function _(j,$){const _e=$[$.length-1];return o(j,_e?_e.children.indexOf(j):null,_e)}};function generated(i){return!i||!i.position||!i.position.start||!i.position.start.line||!i.position.start.column||!i.position.end||!i.position.end.line||!i.position.end.column}const own$5={}.hasOwnProperty;function definitions(i){const s=Object.create(null);if(!i||!i.type)throw new Error("mdast-util-definitions expected node");return visit(i,"definition",a=>{const _=clean(a.identifier);_&&!own$5.call(s,_)&&(s[_]=a)}),o;function o(a){const _=clean(a);return _&&own$5.call(s,_)?s[_]:null}}function clean(i){return String(i||"").toUpperCase()}const own$4={}.hasOwnProperty;function createState(i,s){const o=s||{},a=o.allowDangerousHtml||!1,_={};return $.dangerous=a,$.clobberPrefix=o.clobberPrefix===void 0||o.clobberPrefix===null?"user-content-":o.clobberPrefix,$.footnoteLabel=o.footnoteLabel||"Footnotes",$.footnoteLabelTagName=o.footnoteLabelTagName||"h2",$.footnoteLabelProperties=o.footnoteLabelProperties||{className:["sr-only"]},$.footnoteBackLabel=o.footnoteBackLabel||"Back to content",$.unknownHandler=o.unknownHandler,$.passThrough=o.passThrough,$.handlers={...handlers,...o.handlers},$.definition=definitions(i),$.footnoteById=_,$.footnoteOrder=[],$.footnoteCounts={},$.patch=patch,$.applyData=applyData,$.one=_e,$.all=et,$.wrap=wrap,$.augment=j,visit(i,"footnoteDefinition",tt=>{const nt=String(tt.identifier).toUpperCase();own$4.call(_,nt)||(_[nt]=tt)}),$;function j(tt,nt){if(tt&&"data"in tt&&tt.data){const rt=tt.data;rt.hName&&(nt.type!=="element"&&(nt={type:"element",tagName:"",properties:{},children:[]}),nt.tagName=rt.hName),nt.type==="element"&&rt.hProperties&&(nt.properties={...nt.properties,...rt.hProperties}),"children"in nt&&nt.children&&rt.hChildren&&(nt.children=rt.hChildren)}if(tt){const rt="type"in tt?tt:{position:tt};generated(rt)||(nt.position={start:pointStart(rt),end:pointEnd(rt)})}return nt}function $(tt,nt,rt,st){return Array.isArray(rt)&&(st=rt,rt={}),j(tt,{type:"element",tagName:nt,properties:rt||{},children:st||[]})}function _e(tt,nt){return one($,tt,nt)}function et(tt){return all($,tt)}}function patch(i,s){i.position&&(s.position=position(i))}function applyData(i,s){let o=s;if(i&&i.data){const a=i.data.hName,_=i.data.hChildren,j=i.data.hProperties;typeof a=="string"&&(o.type==="element"?o.tagName=a:o={type:"element",tagName:a,properties:{},children:[]}),o.type==="element"&&j&&(o.properties={...o.properties,...j}),"children"in o&&o.children&&_!==null&&_!==void 0&&(o.children=_)}return o}function one(i,s,o){const a=s&&s.type;if(!a)throw new Error("Expected node, got `"+s+"`");return own$4.call(i.handlers,a)?i.handlers[a](i,s,o):i.passThrough&&i.passThrough.includes(a)?"children"in s?{...s,children:all(i,s)}:s:i.unknownHandler?i.unknownHandler(i,s,o):defaultUnknownHandler(i,s)}function all(i,s){const o=[];if("children"in s){const a=s.children;let _=-1;for(;++_<a.length;){const j=one(i,a[_],s);if(j){if(_&&a[_-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=j.value.replace(/^\s+/,"")),!Array.isArray(j)&&j.type==="element")){const $=j.children[0];$&&$.type==="text"&&($.value=$.value.replace(/^\s+/,""))}Array.isArray(j)?o.push(...j):o.push(j)}}}return o}function defaultUnknownHandler(i,s){const o=s.data||{},a="value"in s&&!(own$4.call(o,"hProperties")||own$4.call(o,"hChildren"))?{type:"text",value:s.value}:{type:"element",tagName:"div",properties:{},children:all(i,s)};return i.patch(s,a),i.applyData(s,a)}function wrap(i,s){const o=[];let a=-1;for(s&&o.push({type:"text",value:`
`});++a<i.length;)a&&o.push({type:"text",value:`
`}),o.push(i[a]);return s&&i.length>0&&o.push({type:"text",value:`
`}),o}function footer(i){const s=[];let o=-1;for(;++o<i.footnoteOrder.length;){const a=i.footnoteById[i.footnoteOrder[o]];if(!a)continue;const _=i.all(a),j=String(a.identifier).toUpperCase(),$=normalizeUri(j.toLowerCase());let _e=0;const et=[];for(;++_e<=i.footnoteCounts[j];){const rt={type:"element",tagName:"a",properties:{href:"#"+i.clobberPrefix+"fnref-"+$+(_e>1?"-"+_e:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:i.footnoteBackLabel},children:[{type:"text",value:"↩"}]};_e>1&&rt.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(_e)}]}),et.length>0&&et.push({type:"text",value:" "}),et.push(rt)}const tt=_[_.length-1];if(tt&&tt.type==="element"&&tt.tagName==="p"){const rt=tt.children[tt.children.length-1];rt&&rt.type==="text"?rt.value+=" ":tt.children.push({type:"text",value:" "}),tt.children.push(...et)}else _.push(...et);const nt={type:"element",tagName:"li",properties:{id:i.clobberPrefix+"fn-"+$},children:i.wrap(_,!0)};i.patch(a,nt),s.push(nt)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(i.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:i.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:i.wrap(s,!0)},{type:"text",value:`
`}]}}function toHast(i,s){const o=createState(i,s),a=o.one(i,null),_=footer(o);return _&&a.children.push({type:"text",value:`
`},_),Array.isArray(a)?{type:"root",children:a}:a}const remarkRehype=function(i,s){return i&&"run"in i?bridge(i,s):mutate(i||s)},remarkRehype$1=remarkRehype;function bridge(i,s){return(o,a,_)=>{i.run(toHast(o,s),a,j=>{_(j)})}}function mutate(i){return s=>toHast(s,i)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(a,_,j,$,_e,et){if(et!==ReactPropTypesSecret){var tt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw tt.name="Invariant Violation",tt}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);class Schema{constructor(s,o,a){this.property=s,this.normal=o,a&&(this.space=a)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge(i,s){const o={},a={};let _=-1;for(;++_<i.length;)Object.assign(o,i[_].property),Object.assign(a,i[_].normal);return new Schema(o,a,s)}function normalize(i){return i.toLowerCase()}class Info{constructor(s,o){this.property=s,this.attribute=o}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(s,o,a,_){let j=-1;if(super(s,o),mark(this,"space",_),typeof a=="number")for(;++j<checks.length;){const $=checks[j];mark(this,checks[j],(a&types[$])===types[$])}}}DefinedInfo.prototype.defined=!0;function mark(i,s,o){o&&(i[s]=o)}const own$3={}.hasOwnProperty;function create(i){const s={},o={};let a;for(a in i.properties)if(own$3.call(i.properties,a)){const _=i.properties[a],j=new DefinedInfo(a,i.transform(i.attributes||{},a),_,i.space);i.mustUseProperty&&i.mustUseProperty.includes(a)&&(j.mustUseProperty=!0),s[a]=j,o[normalize(a)]=a,o[normalize(j.attribute)]=a}return new Schema(s,o,i.space)}const xlink=create({space:"xlink",transform(i,s){return"xlink:"+s.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform(i,s){return"xml:"+s.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(i,s){return s in i?i[s]:s}function caseInsensitiveTransform(i,s){return caseSensitiveTransform(i,s.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform(i,s){return s==="role"?s:"aria-"+s.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html$1=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg$1=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function find(i,s){const o=normalize(s);let a=s,_=Info;if(o in i.normal)return i.property[i.normal[o]];if(o.length>4&&o.slice(0,4)==="data"&&valid.test(s)){if(s.charAt(4)==="-"){const j=s.slice(5).replace(dash,camelcase);a="data"+j.charAt(0).toUpperCase()+j.slice(1)}else{const j=s.slice(4);if(!dash.test(j)){let $=j.replace(cap,kebab);$.charAt(0)!=="-"&&($="-"+$),s="data"+$}}_=DefinedInfo}return new _(a,s)}function kebab(i){return"-"+i.toLowerCase()}function camelcase(i){return i.charAt(1).toUpperCase()}const hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},html=merge([xml,xlink,xmlns,aria,html$1],"html"),svg=merge([xml,xlink,xmlns,aria,svg$1],"svg");function rehypeFilter(i){if(i.allowedElements&&i.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(i.allowedElements||i.disallowedElements||i.allowElement)return s=>{visit(s,"element",(o,a,_)=>{const j=_;let $;if(i.allowedElements?$=!i.allowedElements.includes(o.tagName):i.disallowedElements&&($=i.disallowedElements.includes(o.tagName)),!$&&i.allowElement&&typeof a=="number"&&($=!i.allowElement(o,a,j)),$&&typeof a=="number")return i.unwrapDisallowed&&o.children?j.children.splice(a,1,...o.children):j.children.splice(a,1),a})}}var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case b:switch(i=i.type,i){case d:case f:case e:case m:case n:return i;default:switch(i=i&&i.$$typeof,i){case k:case h:case l:case q:case p:case g:return i;default:return s}}case c:return s}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(i){return v(i)===h};reactIs_production_min.isContextProvider=function(i){return v(i)===g};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===b};reactIs_production_min.isForwardRef=function(i){return v(i)===l};reactIs_production_min.isFragment=function(i){return v(i)===d};reactIs_production_min.isLazy=function(i){return v(i)===q};reactIs_production_min.isMemo=function(i){return v(i)===p};reactIs_production_min.isPortal=function(i){return v(i)===c};reactIs_production_min.isProfiler=function(i){return v(i)===f};reactIs_production_min.isStrictMode=function(i){return v(i)===e};reactIs_production_min.isSuspense=function(i){return v(i)===m};reactIs_production_min.isSuspenseList=function(i){return v(i)===n};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===d||i===f||i===e||i===m||i===n||i===t||typeof i=="object"&&i!==null&&(i.$$typeof===q||i.$$typeof===p||i.$$typeof===g||i.$$typeof===h||i.$$typeof===l||i.$$typeof===u||i.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports;const ReactIs=getDefaultExportFromCjs(reactIsExports);function whitespace(i){const s=i&&typeof i=="object"&&i.type==="text"?i.value||"":i;return typeof s=="string"&&s.replace(/[ \t\n\f\r]/g,"")===""}function stringify$1(i){return i.join(" ").trim()}function stringify(i,s){const o=s||{};return(i[i.length-1]===""?[...i,""]:i).join((o.padRight?" ":"")+","+(o.padLeft===!1?"":" ")).trim()}var styleToObject={exports:{}},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(i,s){if(typeof i!="string")throw new TypeError("First argument must be a string");if(!i)return[];s=s||{};var o=1,a=1;function _(ut){var dt=ut.match(NEWLINE_REGEX);dt&&(o+=dt.length);var yt=ut.lastIndexOf(NEWLINE);a=~yt?ut.length-yt:a+ut.length}function j(){var ut={line:o,column:a};return function(dt){return dt.position=new $(ut),tt(),dt}}function $(ut){this.start=ut,this.end={line:o,column:a},this.source=s.source}$.prototype.content=i;function _e(ut){var dt=new Error(s.source+":"+o+":"+a+": "+ut);if(dt.reason=ut,dt.filename=s.source,dt.line=o,dt.column=a,dt.source=i,!s.silent)throw dt}function et(ut){var dt=ut.exec(i);if(dt){var yt=dt[0];return _(yt),i=i.slice(yt.length),dt}}function tt(){et(WHITESPACE_REGEX)}function nt(ut){var dt;for(ut=ut||[];dt=rt();)dt!==!1&&ut.push(dt);return ut}function rt(){var ut=j();if(!(FORWARD_SLASH!=i.charAt(0)||ASTERISK!=i.charAt(1))){for(var dt=2;EMPTY_STRING!=i.charAt(dt)&&(ASTERISK!=i.charAt(dt)||FORWARD_SLASH!=i.charAt(dt+1));)++dt;if(dt+=2,EMPTY_STRING===i.charAt(dt-1))return _e("End of comment missing");var yt=i.slice(2,dt-2);return a+=2,_(yt),i=i.slice(dt),a+=2,ut({type:TYPE_COMMENT,comment:yt})}}function st(){var ut=j(),dt=et(PROPERTY_REGEX);if(dt){if(rt(),!et(COLON_REGEX))return _e("property missing ':'");var yt=et(VALUE_REGEX),it=ut({type:TYPE_DECLARATION,property:trim(dt[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:yt?trim(yt[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return et(SEMICOLON_REGEX),it}}function ot(){var ut=[];nt(ut);for(var dt;dt=st();)dt!==!1&&(ut.push(dt),nt(ut));return ut}return tt(),ot()};function trim(i){return i?i.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var parse=inlineStyleParser;function StyleToObject(i,s){var o=null;if(!i||typeof i!="string")return o;for(var a,_=parse(i),j=typeof s=="function",$,_e,et=0,tt=_.length;et<tt;et++)a=_[et],$=a.property,_e=a.value,j?s($,_e,a):_e&&(o||(o={}),o[$]=_e);return o}styleToObject.exports=StyleToObject;styleToObject.exports.default=StyleToObject;var styleToObjectExports=styleToObject.exports;const StyleToObject$1=getDefaultExportFromCjs(styleToObjectExports),own$2={}.hasOwnProperty,tableElements=new Set(["table","thead","tbody","tfoot","tr"]);function childrenToReact(i,s){const o=[];let a=-1,_;for(;++a<s.children.length;)_=s.children[a],_.type==="element"?o.push(toReact(i,_,a,s)):_.type==="text"?(s.type!=="element"||!tableElements.has(s.tagName)||!whitespace(_))&&o.push(_.value):_.type==="raw"&&!i.options.skipHtml&&o.push(_.value);return o}function toReact(i,s,o,a){const _=i.options,j=_.transformLinkUri===void 0?uriTransformer:_.transformLinkUri,$=i.schema,_e=s.tagName,et={};let tt=$,nt;if($.space==="html"&&_e==="svg"&&(tt=svg,i.schema=tt),s.properties)for(nt in s.properties)own$2.call(s.properties,nt)&&addProperty(et,nt,s.properties[nt],i);(_e==="ol"||_e==="ul")&&i.listDepth++;const rt=childrenToReact(i,s);(_e==="ol"||_e==="ul")&&i.listDepth--,i.schema=$;const st=s.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},ot=_.components&&own$2.call(_.components,_e)?_.components[_e]:_e,ut=typeof ot=="string"||ot===React.Fragment;if(!ReactIs.isValidElementType(ot))throw new TypeError(`Component for name \`${_e}\` not defined or is not renderable`);if(et.key=o,_e==="a"&&_.linkTarget&&(et.target=typeof _.linkTarget=="function"?_.linkTarget(String(et.href||""),s.children,typeof et.title=="string"?et.title:null):_.linkTarget),_e==="a"&&j&&(et.href=j(String(et.href||""),s.children,typeof et.title=="string"?et.title:null)),!ut&&_e==="code"&&a.type==="element"&&a.tagName!=="pre"&&(et.inline=!0),!ut&&(_e==="h1"||_e==="h2"||_e==="h3"||_e==="h4"||_e==="h5"||_e==="h6")&&(et.level=Number.parseInt(_e.charAt(1),10)),_e==="img"&&_.transformImageUri&&(et.src=_.transformImageUri(String(et.src||""),String(et.alt||""),typeof et.title=="string"?et.title:null)),!ut&&_e==="li"&&a.type==="element"){const dt=getInputElement(s);et.checked=dt&&dt.properties?!!dt.properties.checked:null,et.index=getElementsBeforeCount(a,s),et.ordered=a.tagName==="ol"}return!ut&&(_e==="ol"||_e==="ul")&&(et.ordered=_e==="ol",et.depth=i.listDepth),(_e==="td"||_e==="th")&&(et.align&&(et.style||(et.style={}),et.style.textAlign=et.align,delete et.align),ut||(et.isHeader=_e==="th")),!ut&&_e==="tr"&&a.type==="element"&&(et.isHeader=a.tagName==="thead"),_.sourcePos&&(et["data-sourcepos"]=flattenPosition(st)),!ut&&_.rawSourcePos&&(et.sourcePosition=s.position),!ut&&_.includeElementIndex&&(et.index=getElementsBeforeCount(a,s),et.siblingCount=getElementsBeforeCount(a)),ut||(et.node=s),rt.length>0?React.createElement(ot,et,rt):React.createElement(ot,et)}function getInputElement(i){let s=-1;for(;++s<i.children.length;){const o=i.children[s];if(o.type==="element"&&o.tagName==="input")return o}return null}function getElementsBeforeCount(i,s){let o=-1,a=0;for(;++o<i.children.length&&i.children[o]!==s;)i.children[o].type==="element"&&a++;return a}function addProperty(i,s,o,a){const _=find(a.schema,s);let j=o;j==null||j!==j||(Array.isArray(j)&&(j=_.commaSeparated?stringify(j):stringify$1(j)),_.property==="style"&&typeof j=="string"&&(j=parseStyle(j)),_.space&&_.property?i[own$2.call(hastToReact,_.property)?hastToReact[_.property]:_.property]=j:_.attribute&&(i[_.attribute]=j))}function parseStyle(i){const s={};try{StyleToObject$1(i,o)}catch{}return s;function o(a,_){const j=a.slice(0,4)==="-ms-"?`ms-${a.slice(4)}`:a;s[j.replace(/-([a-z])/g,styleReplacer)]=_}}function styleReplacer(i,s){return s.toUpperCase()}function flattenPosition(i){return[i.start.line,":",i.start.column,"-",i.end.line,":",i.end.column].map(String).join("")}const own$1={}.hasOwnProperty,changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",deprecated={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function ReactMarkdown(i){for(const j in deprecated)if(own$1.call(deprecated,j)&&own$1.call(i,j)){const $=deprecated[j];console.warn(`[react-markdown] Warning: please ${$.to?`use \`${$.to}\` instead of`:"remove"} \`${j}\` (see <${changelog}#${$.id}> for more info)`),delete deprecated[j]}const s=unified().use(remarkParse).use(i.remarkPlugins||[]).use(remarkRehype$1,{...i.remarkRehypeOptions,allowDangerousHtml:!0}).use(i.rehypePlugins||[]).use(rehypeFilter,i),o=new VFile;typeof i.children=="string"?o.value=i.children:i.children!==void 0&&i.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${i.children}\`)`);const a=s.runSync(s.parse(o),o);if(a.type!=="root")throw new TypeError("Expected a `root` node");let _=React.createElement(React.Fragment,{},childrenToReact({options:i,schema:html,listDepth:0},a));return i.className&&(_=React.createElement("div",{className:i.className},_)),_}ReactMarkdown.propTypes={children:PropTypes.string,className:PropTypes.string,allowElement:PropTypes.func,allowedElements:PropTypes.arrayOf(PropTypes.string),disallowedElements:PropTypes.arrayOf(PropTypes.string),unwrapDisallowed:PropTypes.bool,remarkPlugins:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool,PropTypes.string,PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.any)]))])),rehypePlugins:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool,PropTypes.string,PropTypes.object,PropTypes.func,PropTypes.arrayOf(PropTypes.any)]))])),sourcePos:PropTypes.bool,rawSourcePos:PropTypes.bool,skipHtml:PropTypes.bool,includeElementIndex:PropTypes.bool,transformLinkUri:PropTypes.oneOfType([PropTypes.func,PropTypes.bool]),linkTarget:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),transformImageUri:PropTypes.func,components:PropTypes.object};const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={tokenize:tokenizeEmailAutolink,previous:previousEmail},text={},gfmAutolinkLiteral={text};let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(i,s,o){const a=this;let _,j;return $;function $(rt){return!gfmAtext(rt)||!previousEmail.call(a,a.previous)||previousUnbalanced(a.events)?o(rt):(i.enter("literalAutolink"),i.enter("literalAutolinkEmail"),_e(rt))}function _e(rt){return gfmAtext(rt)?(i.consume(rt),_e):rt===64?(i.consume(rt),et):o(rt)}function et(rt){return rt===46?i.check(emailDomainDotTrail,nt,tt)(rt):rt===45||rt===95||asciiAlphanumeric(rt)?(j=!0,i.consume(rt),et):nt(rt)}function tt(rt){return i.consume(rt),_=!0,et}function nt(rt){return j&&_&&asciiAlpha(a.previous)?(i.exit("literalAutolinkEmail"),i.exit("literalAutolink"),s(rt)):o(rt)}}function tokenizeWwwAutolink(i,s,o){const a=this;return _;function _($){return $!==87&&$!==119||!previousWww.call(a,a.previous)||previousUnbalanced(a.events)?o($):(i.enter("literalAutolink"),i.enter("literalAutolinkWww"),i.check(wwwPrefix,i.attempt(domain,i.attempt(path,j),o),o)($))}function j($){return i.exit("literalAutolinkWww"),i.exit("literalAutolink"),s($)}}function tokenizeProtocolAutolink(i,s,o){const a=this;let _="",j=!1;return $;function $(rt){return(rt===72||rt===104)&&previousProtocol.call(a,a.previous)&&!previousUnbalanced(a.events)?(i.enter("literalAutolink"),i.enter("literalAutolinkHttp"),_+=String.fromCodePoint(rt),i.consume(rt),_e):o(rt)}function _e(rt){if(asciiAlpha(rt)&&_.length<5)return _+=String.fromCodePoint(rt),i.consume(rt),_e;if(rt===58){const st=_.toLowerCase();if(st==="http"||st==="https")return i.consume(rt),et}return o(rt)}function et(rt){return rt===47?(i.consume(rt),j?tt:(j=!0,et)):o(rt)}function tt(rt){return rt===null||asciiControl(rt)||markdownLineEndingOrSpace(rt)||unicodeWhitespace(rt)||unicodePunctuation(rt)?o(rt):i.attempt(domain,i.attempt(path,nt),o)(rt)}function nt(rt){return i.exit("literalAutolinkHttp"),i.exit("literalAutolink"),s(rt)}}function tokenizeWwwPrefix(i,s,o){let a=0;return _;function _($){return($===87||$===119)&&a<3?(a++,i.consume($),_):$===46&&a===3?(i.consume($),j):o($)}function j($){return $===null?o($):s($)}}function tokenizeDomain(i,s,o){let a,_,j;return $;function $(tt){return tt===46||tt===95?i.check(trail,et,_e)(tt):tt===null||markdownLineEndingOrSpace(tt)||unicodeWhitespace(tt)||tt!==45&&unicodePunctuation(tt)?et(tt):(j=!0,i.consume(tt),$)}function _e(tt){return tt===95?a=!0:(_=a,a=void 0),i.consume(tt),$}function et(tt){return _||a||!j?o(tt):s(tt)}}function tokenizePath(i,s){let o=0,a=0;return _;function _($){return $===40?(o++,i.consume($),_):$===41&&a<o?j($):$===33||$===34||$===38||$===39||$===41||$===42||$===44||$===46||$===58||$===59||$===60||$===63||$===93||$===95||$===126?i.check(trail,s,j)($):$===null||markdownLineEndingOrSpace($)||unicodeWhitespace($)?s($):(i.consume($),_)}function j($){return $===41&&a++,i.consume($),_}}function tokenizeTrail(i,s,o){return a;function a(_e){return _e===33||_e===34||_e===39||_e===41||_e===42||_e===44||_e===46||_e===58||_e===59||_e===63||_e===95||_e===126?(i.consume(_e),a):_e===38?(i.consume(_e),j):_e===93?(i.consume(_e),_):_e===60||_e===null||markdownLineEndingOrSpace(_e)||unicodeWhitespace(_e)?s(_e):o(_e)}function _(_e){return _e===null||_e===40||_e===91||markdownLineEndingOrSpace(_e)||unicodeWhitespace(_e)?s(_e):a(_e)}function j(_e){return asciiAlpha(_e)?$(_e):o(_e)}function $(_e){return _e===59?(i.consume(_e),a):asciiAlpha(_e)?(i.consume(_e),$):o(_e)}}function tokenizeEmailDomainDotTrail(i,s,o){return a;function a(j){return i.consume(j),_}function _(j){return asciiAlphanumeric(j)?o(j):s(j)}}function previousWww(i){return i===null||i===40||i===42||i===95||i===91||i===93||i===126||markdownLineEndingOrSpace(i)}function previousProtocol(i){return!asciiAlpha(i)}function previousEmail(i){return!(i===47||gfmAtext(i))}function gfmAtext(i){return i===43||i===45||i===46||i===95||asciiAlphanumeric(i)}function previousUnbalanced(i){let s=i.length,o=!1;for(;s--;){const a=i[s][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){o=!0;break}if(a._gfmAutolinkLiteralWalkedInto){o=!1;break}}return i.length>0&&!o&&(i[i.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),o}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{tokenize:tokenizeGfmFootnoteCall},93:{add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(i,s,o){const a=this;let _=a.events.length;const j=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let $;for(;_--;){const et=a.events[_][1];if(et.type==="labelImage"){$=et;break}if(et.type==="gfmFootnoteCall"||et.type==="labelLink"||et.type==="label"||et.type==="image"||et.type==="link")break}return _e;function _e(et){if(!$||!$._balanced)return o(et);const tt=normalizeIdentifier(a.sliceSerialize({start:$.end,end:a.now()}));return tt.codePointAt(0)!==94||!j.includes(tt.slice(1))?o(et):(i.enter("gfmFootnoteCallLabelMarker"),i.consume(et),i.exit("gfmFootnoteCallLabelMarker"),s(et))}}function resolveToPotentialGfmFootnoteCall(i,s){let o=i.length;for(;o--;)if(i[o][1].type==="labelImage"&&i[o][0]==="enter"){i[o][1];break}i[o+1][1].type="data",i[o+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},i[o+3][1].start),end:Object.assign({},i[i.length-1][1].end)},_={type:"gfmFootnoteCallMarker",start:Object.assign({},i[o+3][1].end),end:Object.assign({},i[o+3][1].end)};_.end.column++,_.end.offset++,_.end._bufferIndex++;const j={type:"gfmFootnoteCallString",start:Object.assign({},_.end),end:Object.assign({},i[i.length-1][1].start)},$={type:"chunkString",contentType:"string",start:Object.assign({},j.start),end:Object.assign({},j.end)},_e=[i[o+1],i[o+2],["enter",a,s],i[o+3],i[o+4],["enter",_,s],["exit",_,s],["enter",j,s],["enter",$,s],["exit",$,s],["exit",j,s],i[i.length-2],i[i.length-1],["exit",a,s]];return i.splice(o,i.length-o+1,..._e),i}function tokenizeGfmFootnoteCall(i,s,o){const a=this,_=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let j=0,$;return _e;function _e(rt){return i.enter("gfmFootnoteCall"),i.enter("gfmFootnoteCallLabelMarker"),i.consume(rt),i.exit("gfmFootnoteCallLabelMarker"),et}function et(rt){return rt!==94?o(rt):(i.enter("gfmFootnoteCallMarker"),i.consume(rt),i.exit("gfmFootnoteCallMarker"),i.enter("gfmFootnoteCallString"),i.enter("chunkString").contentType="string",tt)}function tt(rt){if(j>999||rt===93&&!$||rt===null||rt===91||markdownLineEndingOrSpace(rt))return o(rt);if(rt===93){i.exit("chunkString");const st=i.exit("gfmFootnoteCallString");return _.includes(normalizeIdentifier(a.sliceSerialize(st)))?(i.enter("gfmFootnoteCallLabelMarker"),i.consume(rt),i.exit("gfmFootnoteCallLabelMarker"),i.exit("gfmFootnoteCall"),s):o(rt)}return markdownLineEndingOrSpace(rt)||($=!0),j++,i.consume(rt),rt===92?nt:tt}function nt(rt){return rt===91||rt===92||rt===93?(i.consume(rt),j++,tt):tt(rt)}}function tokenizeDefinitionStart(i,s,o){const a=this,_=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let j,$=0,_e;return et;function et(ut){return i.enter("gfmFootnoteDefinition")._container=!0,i.enter("gfmFootnoteDefinitionLabel"),i.enter("gfmFootnoteDefinitionLabelMarker"),i.consume(ut),i.exit("gfmFootnoteDefinitionLabelMarker"),tt}function tt(ut){return ut===94?(i.enter("gfmFootnoteDefinitionMarker"),i.consume(ut),i.exit("gfmFootnoteDefinitionMarker"),i.enter("gfmFootnoteDefinitionLabelString"),i.enter("chunkString").contentType="string",nt):o(ut)}function nt(ut){if($>999||ut===93&&!_e||ut===null||ut===91||markdownLineEndingOrSpace(ut))return o(ut);if(ut===93){i.exit("chunkString");const dt=i.exit("gfmFootnoteDefinitionLabelString");return j=normalizeIdentifier(a.sliceSerialize(dt)),i.enter("gfmFootnoteDefinitionLabelMarker"),i.consume(ut),i.exit("gfmFootnoteDefinitionLabelMarker"),i.exit("gfmFootnoteDefinitionLabel"),st}return markdownLineEndingOrSpace(ut)||(_e=!0),$++,i.consume(ut),ut===92?rt:nt}function rt(ut){return ut===91||ut===92||ut===93?(i.consume(ut),$++,nt):nt(ut)}function st(ut){return ut===58?(i.enter("definitionMarker"),i.consume(ut),i.exit("definitionMarker"),_.includes(j)||_.push(j),factorySpace(i,ot,"gfmFootnoteDefinitionWhitespace")):o(ut)}function ot(ut){return s(ut)}}function tokenizeDefinitionContinuation(i,s,o){return i.check(blankLine,s,i.attempt(indent,s,o))}function gfmFootnoteDefinitionEnd(i){i.exit("gfmFootnoteDefinition")}function tokenizeIndent(i,s,o){const a=this;return factorySpace(i,_,"gfmFootnoteDefinitionIndent",4+1);function _(j){const $=a.events[a.events.length-1];return $&&$[1].type==="gfmFootnoteDefinitionIndent"&&$[2].sliceSerialize($[1],!0).length===4?s(j):o(j)}}function gfmStrikethrough(i){let o=(i||{}).singleTilde;const a={tokenize:j,resolveAll:_};return o==null&&(o=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function _($,_e){let et=-1;for(;++et<$.length;)if($[et][0]==="enter"&&$[et][1].type==="strikethroughSequenceTemporary"&&$[et][1]._close){let tt=et;for(;tt--;)if($[tt][0]==="exit"&&$[tt][1].type==="strikethroughSequenceTemporary"&&$[tt][1]._open&&$[et][1].end.offset-$[et][1].start.offset===$[tt][1].end.offset-$[tt][1].start.offset){$[et][1].type="strikethroughSequence",$[tt][1].type="strikethroughSequence";const nt={type:"strikethrough",start:Object.assign({},$[tt][1].start),end:Object.assign({},$[et][1].end)},rt={type:"strikethroughText",start:Object.assign({},$[tt][1].end),end:Object.assign({},$[et][1].start)},st=[["enter",nt,_e],["enter",$[tt][1],_e],["exit",$[tt][1],_e],["enter",rt,_e]],ot=_e.parser.constructs.insideSpan.null;ot&&splice(st,st.length,0,resolveAll(ot,$.slice(tt+1,et),_e)),splice(st,st.length,0,[["exit",rt,_e],["enter",$[et][1],_e],["exit",$[et][1],_e],["exit",nt,_e]]),splice($,tt-1,et-tt+3,st),et=tt+st.length-2;break}}for(et=-1;++et<$.length;)$[et][1].type==="strikethroughSequenceTemporary"&&($[et][1].type="data");return $}function j($,_e,et){const tt=this.previous,nt=this.events;let rt=0;return st;function st(ut){return tt===126&&nt[nt.length-1][1].type!=="characterEscape"?et(ut):($.enter("strikethroughSequenceTemporary"),ot(ut))}function ot(ut){const dt=classifyCharacter(tt);if(ut===126)return rt>1?et(ut):($.consume(ut),rt++,ot);if(rt<2&&!o)return et(ut);const yt=$.exit("strikethroughSequenceTemporary"),it=classifyCharacter(ut);return yt._open=!it||it===2&&!!dt,yt._close=!dt||dt===2&&!!it,_e(ut)}}}class EditMap{constructor(){this.map=[]}add(s,o,a){addImpl(this,s,o,a)}consume(s){if(this.map.sort((j,$)=>j[0]-$[0]),this.map.length===0)return;let o=this.map.length;const a=[];for(;o>0;)o-=1,a.push(s.slice(this.map[o][0]+this.map[o][1])),a.push(this.map[o][2]),s.length=this.map[o][0];a.push([...s]),s.length=0;let _=a.pop();for(;_;)s.push(..._),_=a.pop();this.map.length=0}}function addImpl(i,s,o,a){let _=0;if(!(o===0&&a.length===0)){for(;_<i.map.length;){if(i.map[_][0]===s){i.map[_][1]+=o,i.map[_][2].push(...a);return}_+=1}i.map.push([s,o,a])}}function gfmTableAlign(i,s){let o=!1;const a=[];for(;s<i.length;){const _=i[s];if(o){if(_[0]==="enter")_[1].type==="tableContent"&&a.push(i[s+1][1].type==="tableDelimiterMarker"?"left":"none");else if(_[1].type==="tableContent"){if(i[s-1][1].type==="tableDelimiterMarker"){const j=a.length-1;a[j]=a[j]==="left"?"center":"right"}}else if(_[1].type==="tableDelimiterRow")break}else _[0]==="enter"&&_[1].type==="tableDelimiterRow"&&(o=!0);s+=1}return a}const gfmTable={flow:{null:{tokenize:tokenizeTable,resolveAll:resolveTable}}};function tokenizeTable(i,s,o){const a=this;let _=0,j=0,$;return _e;function _e(Et){let _t=a.events.length-1;for(;_t>-1;){const jt=a.events[_t][1].type;if(jt==="lineEnding"||jt==="linePrefix")_t--;else break}const Mt=_t>-1?a.events[_t][1].type:null,Ot=Mt==="tableHead"||Mt==="tableRow"?at:et;return Ot===at&&a.parser.lazy[a.now().line]?o(Et):Ot(Et)}function et(Et){return i.enter("tableHead"),i.enter("tableRow"),tt(Et)}function tt(Et){return Et===124||($=!0,j+=1),nt(Et)}function nt(Et){return Et===null?o(Et):markdownLineEnding(Et)?j>1?(j=0,a.interrupt=!0,i.exit("tableRow"),i.enter("lineEnding"),i.consume(Et),i.exit("lineEnding"),ot):o(Et):markdownSpace(Et)?factorySpace(i,nt,"whitespace")(Et):(j+=1,$&&($=!1,_+=1),Et===124?(i.enter("tableCellDivider"),i.consume(Et),i.exit("tableCellDivider"),$=!0,nt):(i.enter("data"),rt(Et)))}function rt(Et){return Et===null||Et===124||markdownLineEndingOrSpace(Et)?(i.exit("data"),nt(Et)):(i.consume(Et),Et===92?st:rt)}function st(Et){return Et===92||Et===124?(i.consume(Et),rt):rt(Et)}function ot(Et){return a.interrupt=!1,a.parser.lazy[a.now().line]?o(Et):(i.enter("tableDelimiterRow"),$=!1,markdownSpace(Et)?factorySpace(i,ut,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Et):ut(Et))}function ut(Et){return Et===45||Et===58?yt(Et):Et===124?($=!0,i.enter("tableCellDivider"),i.consume(Et),i.exit("tableCellDivider"),dt):pt(Et)}function dt(Et){return markdownSpace(Et)?factorySpace(i,yt,"whitespace")(Et):yt(Et)}function yt(Et){return Et===58?(j+=1,$=!0,i.enter("tableDelimiterMarker"),i.consume(Et),i.exit("tableDelimiterMarker"),it):Et===45?(j+=1,it(Et)):Et===null||markdownLineEnding(Et)?kt(Et):pt(Et)}function it(Et){return Et===45?(i.enter("tableDelimiterFiller"),ct(Et)):pt(Et)}function ct(Et){return Et===45?(i.consume(Et),ct):Et===58?($=!0,i.exit("tableDelimiterFiller"),i.enter("tableDelimiterMarker"),i.consume(Et),i.exit("tableDelimiterMarker"),ht):(i.exit("tableDelimiterFiller"),ht(Et))}function ht(Et){return markdownSpace(Et)?factorySpace(i,kt,"whitespace")(Et):kt(Et)}function kt(Et){return Et===124?ut(Et):Et===null||markdownLineEnding(Et)?!$||_!==j?pt(Et):(i.exit("tableDelimiterRow"),i.exit("tableHead"),s(Et)):pt(Et)}function pt(Et){return o(Et)}function at(Et){return i.enter("tableRow"),At(Et)}function At(Et){return Et===124?(i.enter("tableCellDivider"),i.consume(Et),i.exit("tableCellDivider"),At):Et===null||markdownLineEnding(Et)?(i.exit("tableRow"),s(Et)):markdownSpace(Et)?factorySpace(i,At,"whitespace")(Et):(i.enter("data"),wt(Et))}function wt(Et){return Et===null||Et===124||markdownLineEndingOrSpace(Et)?(i.exit("data"),At(Et)):(i.consume(Et),Et===92?bt:wt)}function bt(Et){return Et===92||Et===124?(i.consume(Et),wt):wt(Et)}}function resolveTable(i,s){let o=-1,a=!0,_=0,j=[0,0,0,0],$=[0,0,0,0],_e=!1,et=0,tt,nt,rt;const st=new EditMap;for(;++o<i.length;){const ot=i[o],ut=ot[1];ot[0]==="enter"?ut.type==="tableHead"?(_e=!1,et!==0&&(flushTableEnd(st,s,et,tt,nt),nt=void 0,et=0),tt={type:"table",start:Object.assign({},ut.start),end:Object.assign({},ut.end)},st.add(o,0,[["enter",tt,s]])):ut.type==="tableRow"||ut.type==="tableDelimiterRow"?(a=!0,rt=void 0,j=[0,0,0,0],$=[0,o+1,0,0],_e&&(_e=!1,nt={type:"tableBody",start:Object.assign({},ut.start),end:Object.assign({},ut.end)},st.add(o,0,[["enter",nt,s]])),_=ut.type==="tableDelimiterRow"?2:nt?3:1):_&&(ut.type==="data"||ut.type==="tableDelimiterMarker"||ut.type==="tableDelimiterFiller")?(a=!1,$[2]===0&&(j[1]!==0&&($[0]=$[1],rt=flushCell(st,s,j,_,void 0,rt),j=[0,0,0,0]),$[2]=o)):ut.type==="tableCellDivider"&&(a?a=!1:(j[1]!==0&&($[0]=$[1],rt=flushCell(st,s,j,_,void 0,rt)),j=$,$=[j[1],o,0,0])):ut.type==="tableHead"?(_e=!0,et=o):ut.type==="tableRow"||ut.type==="tableDelimiterRow"?(et=o,j[1]!==0?($[0]=$[1],rt=flushCell(st,s,j,_,o,rt)):$[1]!==0&&(rt=flushCell(st,s,$,_,o,rt)),_=0):_&&(ut.type==="data"||ut.type==="tableDelimiterMarker"||ut.type==="tableDelimiterFiller")&&($[3]=o)}for(et!==0&&flushTableEnd(st,s,et,tt,nt),st.consume(s.events),o=-1;++o<s.events.length;){const ot=s.events[o];ot[0]==="enter"&&ot[1].type==="table"&&(ot[1]._align=gfmTableAlign(s.events,o))}return i}function flushCell(i,s,o,a,_,j){const $=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",_e="tableContent";o[0]!==0&&(j.end=Object.assign({},getPoint(s.events,o[0])),i.add(o[0],0,[["exit",j,s]]));const et=getPoint(s.events,o[1]);if(j={type:$,start:Object.assign({},et),end:Object.assign({},et)},i.add(o[1],0,[["enter",j,s]]),o[2]!==0){const tt=getPoint(s.events,o[2]),nt=getPoint(s.events,o[3]),rt={type:_e,start:Object.assign({},tt),end:Object.assign({},nt)};if(i.add(o[2],0,[["enter",rt,s]]),a!==2){const st=s.events[o[2]],ot=s.events[o[3]];if(st[1].end=Object.assign({},ot[1].end),st[1].type="chunkText",st[1].contentType="text",o[3]>o[2]+1){const ut=o[2]+1,dt=o[3]-o[2]-1;i.add(ut,dt,[])}}i.add(o[3]+1,0,[["exit",rt,s]])}return _!==void 0&&(j.end=Object.assign({},getPoint(s.events,_)),i.add(_,0,[["exit",j,s]]),j=void 0),j}function flushTableEnd(i,s,o,a,_){const j=[],$=getPoint(s.events,o);_&&(_.end=Object.assign({},$),j.push(["exit",_,s])),a.end=Object.assign({},$),j.push(["exit",a,s]),i.add(o+1,0,j)}function getPoint(i,s){const o=i[s],a=o[0]==="enter"?"start":"end";return o[1][a]}const tasklistCheck={tokenize:tokenizeTasklistCheck},gfmTaskListItem={text:{91:tasklistCheck}};function tokenizeTasklistCheck(i,s,o){const a=this;return _;function _(et){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?o(et):(i.enter("taskListCheck"),i.enter("taskListCheckMarker"),i.consume(et),i.exit("taskListCheckMarker"),j)}function j(et){return markdownLineEndingOrSpace(et)?(i.enter("taskListCheckValueUnchecked"),i.consume(et),i.exit("taskListCheckValueUnchecked"),$):et===88||et===120?(i.enter("taskListCheckValueChecked"),i.consume(et),i.exit("taskListCheckValueChecked"),$):o(et)}function $(et){return et===93?(i.enter("taskListCheckMarker"),i.consume(et),i.exit("taskListCheckMarker"),i.exit("taskListCheck"),_e):o(et)}function _e(et){return markdownLineEnding(et)?s(et):markdownSpace(et)?i.check({tokenize:spaceThenNonSpace},s,o)(et):o(et)}}function spaceThenNonSpace(i,s,o){return factorySpace(i,a,"whitespace");function a(_){return _===null?o(_):s(_)}}function gfm(i){return combineExtensions([gfmAutolinkLiteral,gfmFootnote(),gfmStrikethrough(i),gfmTable,gfmTaskListItem])}function ccount(i,s){const o=String(i);if(typeof s!="string")throw new TypeError("Expected character");let a=0,_=o.indexOf(s);for(;_!==-1;)a++,_=o.indexOf(s,_+s.length);return a}function escapeStringRegexp(i){if(typeof i!="string")throw new TypeError("Expected a string");return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const own={}.hasOwnProperty,findAndReplace=function(i,s,o,a){let _,j;typeof s=="string"||s instanceof RegExp?(j=[[s,o]],_=a):(j=s,_=o),_||(_={});const $=convert(_.ignore||[]),_e=toPairs(j);let et=-1;for(;++et<_e.length;)visitParents(i,"text",tt);return i;function tt(rt,st){let ot=-1,ut;for(;++ot<st.length;){const dt=st[ot];if($(dt,ut?ut.children.indexOf(dt):void 0,ut))return;ut=dt}if(ut)return nt(rt,st)}function nt(rt,st){const ot=st[st.length-1],ut=_e[et][0],dt=_e[et][1];let yt=0;const it=ot.children.indexOf(rt);let ct=!1,ht=[];ut.lastIndex=0;let kt=ut.exec(rt.value);for(;kt;){const pt=kt.index,at={index:kt.index,input:kt.input,stack:[...st,rt]};let At=dt(...kt,at);if(typeof At=="string"&&(At=At.length>0?{type:"text",value:At}:void 0),At!==!1&&(yt!==pt&&ht.push({type:"text",value:rt.value.slice(yt,pt)}),Array.isArray(At)?ht.push(...At):At&&ht.push(At),yt=pt+kt[0].length,ct=!0),!ut.global)break;kt=ut.exec(rt.value)}return ct?(yt<rt.value.length&&ht.push({type:"text",value:rt.value.slice(yt)}),ot.children.splice(it,1,...ht)):ht=[rt],it+ht.length}};function toPairs(i){const s=[];if(typeof i!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(i)){let o=-1;for(;++o<i.length;)s.push([toExpression(i[o][0]),toFunction(i[o][1])])}else{let o;for(o in i)own.call(i,o)&&s.push([toExpression(o),toFunction(i[o])])}return s}function toExpression(i){return typeof i=="string"?new RegExp(escapeStringRegexp(i),"g"):i}function toFunction(i){return typeof i=="function"?i:()=>i}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"],gfmAutolinkLiteralFromMarkdown={transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}},gfmAutolinkLiteralToMarkdown={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]};function enterLiteralAutolink(i){this.enter({type:"link",title:null,url:"",children:[]},i)}function enterLiteralAutolinkValue(i){this.config.enter.autolinkProtocol.call(this,i)}function exitLiteralAutolinkHttp(i){this.config.exit.autolinkProtocol.call(this,i)}function exitLiteralAutolinkWww(i){this.config.exit.data.call(this,i);const s=this.stack[this.stack.length-1];s.url="http://"+this.sliceSerialize(i)}function exitLiteralAutolinkEmail(i){this.config.exit.autolinkEmail.call(this,i)}function exitLiteralAutolink(i){this.exit(i)}function transformGfmAutolinkLiterals(i){findAndReplace(i,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,findEmail]],{ignore:["link","linkReference"]})}function findUrl(i,s,o,a,_){let j="";if(!previous(_)||(/^w/i.test(s)&&(o=s+o,s="",j="http://"),!isCorrectDomain(o)))return!1;const $=splitUrl(o+a);if(!$[0])return!1;const _e={type:"link",title:null,url:j+s+$[0],children:[{type:"text",value:s+$[0]}]};return $[1]?[_e,{type:"text",value:$[1]}]:_e}function findEmail(i,s,o,a){return!previous(a,!0)||/[-\d_]$/.test(o)?!1:{type:"link",title:null,url:"mailto:"+s+"@"+o,children:[{type:"text",value:s+"@"+o}]}}function isCorrectDomain(i){const s=i.split(".");return!(s.length<2||s[s.length-1]&&(/_/.test(s[s.length-1])||!/[a-zA-Z\d]/.test(s[s.length-1]))||s[s.length-2]&&(/_/.test(s[s.length-2])||!/[a-zA-Z\d]/.test(s[s.length-2])))}function splitUrl(i){const s=/[!"&'),.:;<>?\]}]+$/.exec(i);if(!s)return[i,void 0];i=i.slice(0,s.index);let o=s[0],a=o.indexOf(")");const _=ccount(i,"(");let j=ccount(i,")");for(;a!==-1&&_>j;)i+=o.slice(0,a+1),o=o.slice(a+1),a=o.indexOf(")"),j++;return[i,o]}function previous(i,s){const o=i.input.charCodeAt(i.index-1);return(i.index===0||unicodeWhitespace(o)||unicodePunctuation(o))&&(!s||o!==47)}function association(i){return i.label||!i.identifier?i.label||"":decodeString(i.identifier)}function containerFlow(i,s,o){const a=s.indexStack,_=i.children||[],j=s.createTracker(o),$=[];let _e=-1;for(a.push(-1);++_e<_.length;){const et=_[_e];a[a.length-1]=_e,$.push(j.move(s.handle(et,i,s,{before:`
`,after:`
`,...j.current()}))),et.type!=="list"&&(s.bulletLastUsed=void 0),_e<_.length-1&&$.push(j.move(between(et,_[_e+1],i,s)))}return a.pop(),$.join("")}function between(i,s,o,a){let _=a.join.length;for(;_--;){const j=a.join[_](i,s,o,a);if(j===!0||j===1)break;if(typeof j=="number")return`
`.repeat(1+j);if(j===!1)return`

<!---->

`}return`

`}const eol=/\r?\n|\r/g;function indentLines(i,s){const o=[];let a=0,_=0,j;for(;j=eol.exec(i);)$(i.slice(a,j.index)),o.push(j[0]),a=j.index+j[0].length,_++;return $(i.slice(a)),o.join("");function $(_e){o.push(s(_e,_,!_e))}}function patternCompile(i){if(!i._compiled){const s=(i.atBreak?"[\\r\\n][\\t ]*":"")+(i.before?"(?:"+i.before+")":"");i._compiled=new RegExp((s?"("+s+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(i.character)?"\\":"")+i.character+(i.after?"(?:"+i.after+")":""),"g")}return i._compiled}function patternInScope(i,s){return listInScope(i,s.inConstruct,!0)&&!listInScope(i,s.notInConstruct,!1)}function listInScope(i,s,o){if(typeof s=="string"&&(s=[s]),!s||s.length===0)return o;let a=-1;for(;++a<s.length;)if(i.includes(s[a]))return!0;return!1}function safe(i,s,o){const a=(o.before||"")+(s||"")+(o.after||""),_=[],j=[],$={};let _e=-1;for(;++_e<i.unsafe.length;){const nt=i.unsafe[_e];if(!patternInScope(i.stack,nt))continue;const rt=patternCompile(nt);let st;for(;st=rt.exec(a);){const ot="before"in nt||!!nt.atBreak,ut="after"in nt,dt=st.index+(ot?st[1].length:0);_.includes(dt)?($[dt].before&&!ot&&($[dt].before=!1),$[dt].after&&!ut&&($[dt].after=!1)):(_.push(dt),$[dt]={before:ot,after:ut})}}_.sort(numerical);let et=o.before?o.before.length:0;const tt=a.length-(o.after?o.after.length:0);for(_e=-1;++_e<_.length;){const nt=_[_e];nt<et||nt>=tt||nt+1<tt&&_[_e+1]===nt+1&&$[nt].after&&!$[nt+1].before&&!$[nt+1].after||_[_e-1]===nt-1&&$[nt].before&&!$[nt-1].before&&!$[nt-1].after||(et!==nt&&j.push(escapeBackslashes(a.slice(et,nt),"\\")),et=nt,/[!-/:-@[-`{-~]/.test(a.charAt(nt))&&(!o.encode||!o.encode.includes(a.charAt(nt)))?j.push("\\"):(j.push("&#x"+a.charCodeAt(nt).toString(16).toUpperCase()+";"),et++))}return j.push(escapeBackslashes(a.slice(et,tt),o.after)),j.join("")}function numerical(i,s){return i-s}function escapeBackslashes(i,s){const o=/\\(?=[!-/:-@[-`{-~])/g,a=[],_=[],j=i+s;let $=-1,_e=0,et;for(;et=o.exec(j);)a.push(et.index);for(;++$<a.length;)_e!==a[$]&&_.push(i.slice(_e,a[$])),_.push("\\"),_e=a[$];return _.push(i.slice(_e)),_.join("")}function track(i){const s=i||{},o=s.now||{};let a=s.lineShift||0,_=o.line||1,j=o.column||1;return{move:et,current:$,shift:_e};function $(){return{now:{line:_,column:j},lineShift:a}}function _e(tt){a+=tt}function et(tt){const nt=tt||"",rt=nt.split(/\r?\n|\r/g),st=rt[rt.length-1];return _+=rt.length-1,j=rt.length===1?j+st.length:1+st.length+a,nt}}footnoteReference.peek=footnoteReferencePeek;function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteDefinition:enterFootnoteDefinition,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteCallString:enterFootnoteCallString},exit:{gfmFootnoteDefinition:exitFootnoteDefinition,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteCallString:exitFootnoteCallString}}}function gfmFootnoteToMarkdown(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition,footnoteReference}}}function enterFootnoteDefinition(i){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},i)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(i){const s=this.resume(),o=this.stack[this.stack.length-1];o.label=s,o.identifier=normalizeIdentifier(this.sliceSerialize(i)).toLowerCase()}function exitFootnoteDefinition(i){this.exit(i)}function enterFootnoteCall(i){this.enter({type:"footnoteReference",identifier:"",label:""},i)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(i){const s=this.resume(),o=this.stack[this.stack.length-1];o.label=s,o.identifier=normalizeIdentifier(this.sliceSerialize(i)).toLowerCase()}function exitFootnoteCall(i){this.exit(i)}function footnoteReference(i,s,o,a){const _=track(a);let j=_.move("[^");const $=o.enter("footnoteReference"),_e=o.enter("reference");return j+=_.move(safe(o,association(i),{..._.current(),before:j,after:"]"})),_e(),$(),j+=_.move("]"),j}function footnoteReferencePeek(){return"["}function footnoteDefinition(i,s,o,a){const _=track(a);let j=_.move("[^");const $=o.enter("footnoteDefinition"),_e=o.enter("label");return j+=_.move(safe(o,association(i),{..._.current(),before:j,after:"]"})),_e(),j+=_.move("]:"+(i.children&&i.children.length>0?" ":"")),_.shift(4),j+=_.move(indentLines(containerFlow(i,o,_.current()),map)),$(),j}function map(i,s,o){return s===0?i:(o?"":"    ")+i}function containerPhrasing(i,s,o){const a=s.indexStack,_=i.children||[],j=[];let $=-1,_e=o.before;a.push(-1);let et=s.createTracker(o);for(;++$<_.length;){const tt=_[$];let nt;if(a[a.length-1]=$,$+1<_.length){let rt=s.handle.handlers[_[$+1].type];rt&&rt.peek&&(rt=rt.peek),nt=rt?rt(_[$+1],i,s,{before:"",after:"",...et.current()}).charAt(0):""}else nt=o.after;j.length>0&&(_e==="\r"||_e===`
`)&&tt.type==="html"&&(j[j.length-1]=j[j.length-1].replace(/(\r?\n|\r)$/," "),_e=" ",et=s.createTracker(o),et.move(j.join(""))),j.push(et.move(s.handle(tt,i,s,{...et.current(),before:_e,after:nt}))),_e=j[j.length-1].slice(-1)}return a.pop(),j.join("")}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;const gfmStrikethroughFromMarkdown={canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}},gfmStrikethroughToMarkdown={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}};function enterStrikethrough(i){this.enter({type:"delete",children:[]},i)}function exitStrikethrough(i){this.exit(i)}function handleDelete(i,s,o,a){const _=track(a),j=o.enter("strikethrough");let $=_.move("~~");return $+=containerPhrasing(i,o,{..._.current(),before:$,after:"~"}),$+=_.move("~~"),j(),$}function peekDelete(){return"~"}inlineCode.peek=inlineCodePeek;function inlineCode(i,s,o){let a=i.value||"",_="`",j=-1;for(;new RegExp("(^|[^`])"+_+"([^`]|$)").test(a);)_+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++j<o.unsafe.length;){const $=o.unsafe[j],_e=patternCompile($);let et;if($.atBreak)for(;et=_e.exec(a);){let tt=et.index;a.charCodeAt(tt)===10&&a.charCodeAt(tt-1)===13&&tt--,a=a.slice(0,tt)+" "+a.slice(et.index+1)}}return _+a+_}function inlineCodePeek(){return"`"}function defaultStringLength(i){return i.length}function markdownTable(i,s){const o=s||{},a=(o.align||[]).concat(),_=o.stringLength||defaultStringLength,j=[],$=[],_e=[],et=[];let tt=0,nt=-1;for(;++nt<i.length;){const dt=[],yt=[];let it=-1;for(i[nt].length>tt&&(tt=i[nt].length);++it<i[nt].length;){const ct=serialize(i[nt][it]);if(o.alignDelimiters!==!1){const ht=_(ct);yt[it]=ht,(et[it]===void 0||ht>et[it])&&(et[it]=ht)}dt.push(ct)}$[nt]=dt,_e[nt]=yt}let rt=-1;if(typeof a=="object"&&"length"in a)for(;++rt<tt;)j[rt]=toAlignment(a[rt]);else{const dt=toAlignment(a);for(;++rt<tt;)j[rt]=dt}rt=-1;const st=[],ot=[];for(;++rt<tt;){const dt=j[rt];let yt="",it="";dt===99?(yt=":",it=":"):dt===108?yt=":":dt===114&&(it=":");let ct=o.alignDelimiters===!1?1:Math.max(1,et[rt]-yt.length-it.length);const ht=yt+"-".repeat(ct)+it;o.alignDelimiters!==!1&&(ct=yt.length+ct+it.length,ct>et[rt]&&(et[rt]=ct),ot[rt]=ct),st[rt]=ht}$.splice(1,0,st),_e.splice(1,0,ot),nt=-1;const ut=[];for(;++nt<$.length;){const dt=$[nt],yt=_e[nt];rt=-1;const it=[];for(;++rt<tt;){const ct=dt[rt]||"";let ht="",kt="";if(o.alignDelimiters!==!1){const pt=et[rt]-(yt[rt]||0),at=j[rt];at===114?ht=" ".repeat(pt):at===99?pt%2?(ht=" ".repeat(pt/2+.5),kt=" ".repeat(pt/2-.5)):(ht=" ".repeat(pt/2),kt=ht):kt=" ".repeat(pt)}o.delimiterStart!==!1&&!rt&&it.push("|"),o.padding!==!1&&!(o.alignDelimiters===!1&&ct==="")&&(o.delimiterStart!==!1||rt)&&it.push(" "),o.alignDelimiters!==!1&&it.push(ht),it.push(ct),o.alignDelimiters!==!1&&it.push(kt),o.padding!==!1&&it.push(" "),(o.delimiterEnd!==!1||rt!==tt-1)&&it.push("|")}ut.push(o.delimiterEnd===!1?it.join("").replace(/ +$/,""):it.join(""))}return ut.join(`
`)}function serialize(i){return i==null?"":String(i)}function toAlignment(i){const s=typeof i=="string"?i.codePointAt(0):0;return s===67||s===99?99:s===76||s===108?108:s===82||s===114?114:0}const gfmTableFromMarkdown={enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}};function enterTable(i){const s=i._align;this.enter({type:"table",align:s.map(o=>o==="none"?null:o),children:[]},i),this.setData("inTable",!0)}function exitTable(i){this.exit(i),this.setData("inTable")}function enterRow(i){this.enter({type:"tableRow",children:[]},i)}function exit(i){this.exit(i)}function enterCell(i){this.enter({type:"tableCell",children:[]},i)}function exitCodeText(i){let s=this.resume();this.getData("inTable")&&(s=s.replace(/\\([\\|])/g,replace));const o=this.stack[this.stack.length-1];o.value=s,this.exit(i)}function replace(i,s){return s==="|"?s:i}function gfmTableToMarkdown(i){const s=i||{},o=s.tableCellPadding,a=s.tablePipeAlign,_=s.stringLength,j=o?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:$,tableRow:_e,tableCell:et,inlineCode:st}};function $(ot,ut,dt,yt){return tt(nt(ot,dt,yt),ot.align)}function _e(ot,ut,dt,yt){const it=rt(ot,dt,yt),ct=tt([it]);return ct.slice(0,ct.indexOf(`
`))}function et(ot,ut,dt,yt){const it=dt.enter("tableCell"),ct=dt.enter("phrasing"),ht=containerPhrasing(ot,dt,{...yt,before:j,after:j});return ct(),it(),ht}function tt(ot,ut){return markdownTable(ot,{align:ut,alignDelimiters:a,padding:o,stringLength:_})}function nt(ot,ut,dt){const yt=ot.children;let it=-1;const ct=[],ht=ut.enter("table");for(;++it<yt.length;)ct[it]=rt(yt[it],ut,dt);return ht(),ct}function rt(ot,ut,dt){const yt=ot.children;let it=-1;const ct=[],ht=ut.enter("tableRow");for(;++it<yt.length;)ct[it]=et(yt[it],ot,ut,dt);return ht(),ct}function st(ot,ut,dt){let yt=inlineCode(ot,ut,dt);return dt.stack.includes("tableCell")&&(yt=yt.replace(/\|/g,"\\$&")),yt}}function checkBullet(i){const s=i.options.bullet||"*";if(s!=="*"&&s!=="+"&&s!=="-")throw new Error("Cannot serialize items with `"+s+"` for `options.bullet`, expected `*`, `+`, or `-`");return s}function checkListItemIndent(i){const s=i.options.listItemIndent||"tab";if(s===1||s==="1")return"one";if(s!=="tab"&&s!=="one"&&s!=="mixed")throw new Error("Cannot serialize items with `"+s+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return s}function listItem(i,s,o,a){const _=checkListItemIndent(o);let j=o.bulletCurrent||checkBullet(o);s&&s.type==="list"&&s.ordered&&(j=(typeof s.start=="number"&&s.start>-1?s.start:1)+(o.options.incrementListMarker===!1?0:s.children.indexOf(i))+j);let $=j.length+1;(_==="tab"||_==="mixed"&&(s&&s.type==="list"&&s.spread||i.spread))&&($=Math.ceil($/4)*4);const _e=o.createTracker(a);_e.move(j+" ".repeat($-j.length)),_e.shift($);const et=o.enter("listItem"),tt=o.indentLines(o.containerFlow(i,_e.current()),nt);return et(),tt;function nt(rt,st,ot){return st?(ot?"":" ".repeat($))+rt:(ot?j:j+" ".repeat($-j.length))+rt}}const gfmTaskListItemFromMarkdown={exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}},gfmTaskListItemToMarkdown={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}};function exitCheck(i){const s=this.stack[this.stack.length-2];s.checked=i.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(i){const s=this.stack[this.stack.length-2];if(s&&s.type==="listItem"&&typeof s.checked=="boolean"){const o=this.stack[this.stack.length-1],a=o.children[0];if(a&&a.type==="text"){const _=s.children;let j=-1,$;for(;++j<_.length;){const _e=_[j];if(_e.type==="paragraph"){$=_e;break}}$===o&&(a.value=a.value.slice(1),a.value.length===0?o.children.shift():o.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,o.position.start=Object.assign({},a.position.start)))}}this.exit(i)}function listItemWithTaskListItem(i,s,o,a){const _=i.children[0],j=typeof i.checked=="boolean"&&_&&_.type==="paragraph",$="["+(i.checked?"x":" ")+"] ",_e=track(a);j&&_e.move($);let et=listItem(i,s,o,{...a,..._e.current()});return j&&(et=et.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,tt)),et;function tt(nt){return nt+$}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown,gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown,gfmTableFromMarkdown,gfmTaskListItemFromMarkdown]}function gfmToMarkdown(i){return{extensions:[gfmAutolinkLiteralToMarkdown,gfmFootnoteToMarkdown(),gfmStrikethroughToMarkdown,gfmTableToMarkdown(i),gfmTaskListItemToMarkdown]}}function remarkGfm(i={}){const s=this.data();o("micromarkExtensions",gfm(i)),o("fromMarkdownExtensions",gfmFromMarkdown()),o("toMarkdownExtensions",gfmToMarkdown(i));function o(a,_){(s[a]?s[a]:s[a]=[]).push(_)}}const MarkdownEditor=()=>{const[i,s]=reactExports.useState(""),[o,a]=reactExports.useState(!1),_=()=>{alert("Resumo salvo com sucesso! 🚀")};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0},children:"📝 Resumos"}),jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:_,children:"Salvar Resumo"})]}),jsxRuntimeExports.jsx("div",{className:"simple-grid",style:{gap:"1.5rem"},children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:o?"Visualização":"Editor de Resumo"})}),jsxRuntimeExports.jsxs(CardContent,{children:[o?jsxRuntimeExports.jsx("div",{className:"prose p-4 bg-card rounded border overflow-auto max-h-[600px]",children:jsxRuntimeExports.jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],children:i})}):jsxRuntimeExports.jsx("textarea",{className:"simple-input w-full min-h-[300px]",value:i,onChange:j=>s(j.target.value)}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex gap-2",children:jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:()=>a(!o),children:o?"Editar":"Visualizar"})})]})]})})]})},Select=({defaultValue:i,value:s,onValueChange:o,children:a})=>{const[_,j]=reactExports.useState(!1),[$,_e]=reactExports.useState(i||""),et=tt=>{s===void 0&&_e(tt),o==null||o(tt),j(!1)};return jsxRuntimeExports.jsxs("div",{className:"relative inline-block w-full",children:[jsxRuntimeExports.jsx("div",{onClick:()=>j(tt=>!tt),children:React.Children.toArray(a).find(tt=>tt.type===SelectTrigger)}),_&&jsxRuntimeExports.jsx("div",{className:"absolute mt-1 w-full z-50",children:React.Children.map(a,tt=>tt.type===SelectContent?React.cloneElement(tt,{children:React.Children.map(tt.props.children,nt=>React.cloneElement(nt,{onClick:()=>et(nt.props.value)}))}):null)})]})},SelectTrigger=({children:i,className:s=""})=>jsxRuntimeExports.jsx("button",{type:"button",className:`flex h-10 w-full items-center justify-between rounded-md border bg-background px-3 py-2 text-sm ${s}`,children:i}),SelectContent=({children:i})=>jsxRuntimeExports.jsx("div",{className:"rounded-md border bg-popover",children:i}),SelectItem=({children:i,...s})=>jsxRuntimeExports.jsx("div",{className:"px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground",...s,children:i}),SelectValue=({placeholder:i})=>jsxRuntimeExports.jsx("span",{children:i}),TIPOS=[{value:"todos",label:"Todos"},{value:"feynman",label:"Explicações Feynman"},{value:"resumo",label:"Resumos"},{value:"nota",label:"Notas"}],MeusConteudos=()=>{const[i,s]=reactExports.useState([]),[o,a]=reactExports.useState("todos"),[_,j]=reactExports.useState(null),[$,_e]=reactExports.useState(!1);reactExports.useEffect(()=>{const st=localStorage.getItem("meus-conteudos");st&&s(JSON.parse(st))},[]);const et=st=>{s(st),localStorage.setItem("meus-conteudos",JSON.stringify(st))},tt=st=>{j({id:Date.now(),tipo:st,titulo:"",topico:"",conteudo:"",dataEdicao:new Date().toISOString()}),_e(!0)},nt=()=>{if(!_)return;const st=[...i.filter(ot=>ot.id!==_.id),{..._,dataEdicao:new Date().toISOString()}];et(st),_e(!1)},rt=o==="todos"?i:i.filter(st=>st.tipo===o);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0,border:"none"},children:"🧠 Meus Conteúdos"}),jsxRuntimeExports.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Gerencie suas anotações, explicações e resumos."})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[jsxRuntimeExports.jsxs(Select,{value:o,onValueChange:st=>a(st),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filtrar"})}),jsxRuntimeExports.jsx(SelectContent,{children:TIPOS.map(st=>jsxRuntimeExports.jsx(SelectItem,{value:st.value,children:st.label},st.value))})]}),["feynman","resumo","nota"].map(st=>jsxRuntimeExports.jsxs(Button,{className:"simple-btn",onClick:()=>tt(st),children:["Novo"," ",st==="feynman"?"Feynman":st==="resumo"?"Resumo":"Nota"]},st))]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid simple-grid-3",children:[rt.map(st=>jsxRuntimeExports.jsxs(Card,{className:"cursor-pointer hover:shadow-md",onClick:()=>{j(st),_e(!1)},children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:st.titulo||"(sem título)"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:st.topico}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Editado em ",new Date(st.dataEdicao).toLocaleString()]})]})]},st.id)),rt.length===0&&jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhum item encontrado."})]}),_&&jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:$?_.tipo==="feynman"?"Nova Explicação Feynman":_.tipo==="resumo"?"Editar Resumo":"Editar Nota":_.titulo||"(sem título)"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Título"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.titulo,onChange:st=>j({..._,titulo:st.target.value}),className:"simple-input w-full",disabled:!$})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Tópico"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.topico,onChange:st=>j({..._,topico:st.target.value}),className:"simple-input w-full",disabled:!$})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Conteúdo"}),$?jsxRuntimeExports.jsx("textarea",{value:_.conteudo,onChange:st=>j({..._,conteudo:st.target.value}),className:"simple-input w-full min-h-[200px]"}):jsxRuntimeExports.jsx("div",{className:"prose max-w-none border rounded p-4 overflow-auto max-h-[400px]",children:jsxRuntimeExports.jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],children:_.conteudo})})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:$?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{className:"simple-btn-outline",onClick:()=>_e(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:nt,children:"Salvar"})]}):jsxRuntimeExports.jsx(Button,{className:"simple-btn",onClick:()=>_e(!0),children:"Editar"})})]})]})]})},API_BASE_URL="https://alego-manus.onrender.com",getApiUrl=i=>{const s=i.startsWith("/")?i:`/${i}`;return`${API_BASE_URL}${s}`},api={async request(i,s={}){const o=i.startsWith("/")?i:`/${i}`,a=`${API_BASE_URL}${o}`,_={headers:{"Content-Type":"application/json",...s.headers},...s};try{const j=await fetch(a,_);if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);return await j.json()}catch(j){throw console.error(`API Error (${i}):`,j),j}},get:i=>api.request(i),post:(i,s)=>api.request(i,{method:"POST",body:JSON.stringify(s)}),put:(i,s)=>api.request(i,{method:"PUT",body:JSON.stringify(s)}),delete:i=>api.request(i,{method:"DELETE"})},listarCursos=async()=>await api.get("/api/cursos"),criarCurso=async i=>await api.post("/api/cursos",{nome:i}),atualizarCurso=async i=>await api.put(`/api/cursos/${i.id}`,{nome:i.nome}),excluirCurso=async i=>await api.delete(`/api/cursos/${i}`),listarMaterias=async()=>{const i=await fetch(getApiUrl("/api/materias"));if(!i.ok)throw new Error("Erro ao carregar matérias");return i.json()},criarMateria=async(i,s)=>{const o=await fetch(getApiUrl("/api/materias"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:i,curso_id:s})});if(!o.ok)throw new Error("Erro ao criar matéria");return o.json()},atualizarMateria=async i=>{const s=await fetch(getApiUrl(`/api/materias/${i.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:i.nome})});if(!s.ok)throw new Error("Erro ao atualizar matéria");return s.json()},excluirMateria=async i=>{if(!(await fetch(getApiUrl(`/api/materias/${i}`),{method:"DELETE"})).ok)throw new Error("Erro ao excluir matéria")},listarConteudos=async()=>{const i=await fetch(getApiUrl("/api/conteudos"));if(!i.ok)throw new Error("Erro ao carregar conteúdos");return i.json()},criarConteudo=async i=>{const s=await fetch(getApiUrl("/api/conteudos"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok)throw new Error("Erro ao criar conteúdo");return s.json()},atualizarConteudo=async i=>{const s=await fetch(getApiUrl(`/api/conteudos/${i.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:i.titulo,tipo:i.tipo,arquivo:i.arquivo})});if(!s.ok)throw new Error("Erro ao atualizar conteúdo");return s.json()},excluirConteudo=async i=>{if(!(await fetch(getApiUrl(`/api/conteudos/${i}`),{method:"DELETE"})).ok)throw new Error("Erro ao excluir conteúdo")},Input=({className:i="",...s})=>jsxRuntimeExports.jsx("input",{className:`flex h-12 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 touch-manipulation ${i}`,...s}),resetDB=async()=>{const i=await fetch(getApiUrl("/api/debug/reset"),{method:"POST"});if(!i.ok)throw new Error("Erro ao resetar o banco de dados");return i.json()},seedDB=async()=>{const i=await fetch(getApiUrl("/api/debug/seed"),{method:"POST"});if(!i.ok)throw new Error("Erro ao popular o banco de dados");return i.json()},Admin=()=>{const[i,s]=reactExports.useState([]),[o,a]=reactExports.useState([]),[_,j]=reactExports.useState([]),$=async()=>{try{const[tt,nt,rt]=await Promise.all([listarCursos(),listarMaterias(),listarConteudos()]);s(tt),a(nt),j(rt)}catch(tt){alert("Erro ao carregar dados"),console.error(tt)}};reactExports.useEffect(()=>{$()},[]);const _e=async(tt,nt)=>{try{tt==="curso"&&await atualizarCurso(nt),tt==="materia"&&await atualizarMateria(nt),tt==="conteudo"&&await atualizarConteudo(nt),$()}catch{alert("Erro ao atualizar")}},et=async(tt,nt)=>{if(confirm("Tem certeza que deseja excluir?"))try{tt==="curso"&&await excluirCurso(nt),tt==="materia"&&await excluirMateria(nt),tt==="conteudo"&&await excluirConteudo(nt),$()}catch{alert("Erro ao excluir")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-10 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"🛠️ Painel de Administração plataforma de controle de estudos"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mt-4mb-4",children:"📘 Cursos"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:i.map(tt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border p-2 rounded bg-white shadow-sm",children:[jsxRuntimeExports.jsx(Input,{value:tt.nome,onChange:nt=>s(rt=>rt.map(st=>st.id===tt.id?{...st,nome:nt.target.value}:st))}),jsxRuntimeExports.jsx(Button,{onClick:()=>_e("curso",tt),className:"simple-btn mt-4 mb-4",children:"Salvar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>et("curso",tt.id),className:"simple-btn mt-4 mb-4",children:"Excluir"})]},tt.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mt-4 mb-4",children:"📗 Matérias"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow",children:o.map(tt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border p-2 rounded bg-white shadow-sm",children:[jsxRuntimeExports.jsx(Input,{value:tt.nome,onChange:nt=>a(rt=>rt.map(st=>st.id===tt.id?{...st,nome:nt.target.value}:st))}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Curso ID: ",tt.curso_id]}),jsxRuntimeExports.jsx(Button,{onClick:()=>_e("materia",tt),className:"simple-btn mt-4 mb-4",children:"Salvar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>et("materia",tt.id),className:"simple-btn mt-4 mb-4",children:"Excluir"})]},tt.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mt-4 mb-4",children:"📄 Conteúdos"}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[_.map(tt=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 border p-2 rounded bg-white shadow-sm",children:[jsxRuntimeExports.jsx(Input,{value:tt.titulo,onChange:nt=>j(rt=>rt.map(st=>st.id===tt.id?{...st,titulo:nt.target.value}:st))}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["Tipo: ",tt.tipo," | Matéria ID: ",tt.materia_id]}),jsxRuntimeExports.jsx(Button,{onClick:()=>_e("conteudo",tt),className:"simple-btn mt-4 mb-4",children:"Salvar"}),jsxRuntimeExports.jsx(Button,{onClick:()=>et("conteudo",tt.id),className:"simple-btn mt-4 mb-4",children:"Excluir"})]},tt.id)),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-4 sm:p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsx(Button,{className:"simple-btn mt-4 mb-4",onClick:async()=>{try{await resetDB();const tt=await seedDB();alert("Banco de dados resetado e populado com sucesso!"),console.log("Seed result:",tt)}catch(tt){alert("Erro ao reiniciar dados."),console.error(tt)}},children:"♻️ Resetar e Popular Banco"})})]})]})]})},SimplePDFViewer=()=>{const[i,s]=reactExports.useState([]),[o,a]=reactExports.useState(null),[_,j]=reactExports.useState(""),[$,_e]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{_e(!0);const st=(await api.get("/api/conteudos")).map(ot=>({id:ot.id,titulo:ot.titulo||`Documento ${ot.id}`,descricao:ot.tipo==="pdf"?"Documento PDF":"Documento",arquivo:ot.arquivo.replace("http://localhost:5000",""),tipo:ot.tipo}));s(st),st.length===0&&s([{id:1,titulo:"Resolução 1007",descricao:"Estrutura Administrativa da ALEGO",arquivo:"/uploads/resolucao_1007.pdf",tipo:"pdf"}])}catch(rt){console.error("Erro ao carregar documentos:",rt),s([{id:1,titulo:"Resolução 1007",descricao:"Estrutura Administrativa da ALEGO",arquivo:"/uploads/resolucao_1007.pdf",tipo:"pdf"}])}finally{_e(!1)}})()},[]);const et=i.filter(nt=>nt.titulo.toLowerCase().includes(_.toLowerCase())||nt.descricao.toLowerCase().includes(_.toLowerCase())),tt=nt=>nt.tipo==="pdf"||nt.arquivo.endsWith(".pdf")?jsxRuntimeExports.jsx("div",{className:"h-[calc(100vh-200px)] min-h-[600px]",children:jsxRuntimeExports.jsx("iframe",{src:nt.arquivo,width:"100%",height:"100%",style:{border:"none",borderRadius:"8px"},title:nt.titulo})}):jsxRuntimeExports.jsxs("div",{className:"p-6 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"Este tipo de arquivo não pode ser visualizado diretamente."}),jsxRuntimeExports.jsx("button",{onClick:()=>window.open(nt.arquivo,"_blank"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Abrir em nova aba"})]});return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"📚 Biblioteca de Documentos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Visualize e gerencie seus documentos de estudo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"🔍 Buscar documentos...",value:_,onChange:nt=>j(nt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),jsxRuntimeExports.jsx("div",{className:"max-h-96 overflow-y-auto",children:$?jsxRuntimeExports.jsxs("div",{className:"p-4 text-center text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),"Carregando documentos..."]}):et.length>0?et.map(nt=>jsxRuntimeExports.jsxs("button",{onClick:()=>a(nt),className:`w-full text-left p-4 hover:bg-blue-50 transition-colors border-b last:border-b-0 ${(o==null?void 0:o.id)===nt.id?"bg-blue-50 border-l-4 border-l-blue-500":""}`,children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:nt.titulo}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:nt.descricao}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-gray-500",children:nt.tipo==="pdf"?"📄 PDF":"📝 Documento"})]},nt.id)):jsxRuntimeExports.jsxs("div",{className:"p-4 text-center text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-2",children:"📄"}),"Nenhum documento encontrado"]})})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:o.titulo}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:o.descricao})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.open(o.arquivo,"_blank"),className:"px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"🔗 Abrir"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const nt=document.createElement("a");nt.href=o.arquivo,nt.download=o.titulo,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt)},className:"px-3 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm",children:"⬇️ Baixar"})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4",children:tt(o)})]}):jsxRuntimeExports.jsxs("div",{className:"p-12 text-center text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4",children:"📚"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium mb-2",children:"Selecione um documento"}),jsxRuntimeExports.jsx("p",{children:"Escolha um documento da lista ao lado para visualizar"}),et.length===0&&_&&jsxRuntimeExports.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-yellow-700",children:['Nenhum documento encontrado para "',_,'"']})})]})})})]})]})},custom="",index="",Dashboard=()=>{const[i,s]=reactExports.useState("dashboard"),[o]=reactExports.useState({materia:"Resolução nº 1.073 - Regulamento Administrativo",progresso:65,proximaRevisao:"04/06/2025"}),a=[{tipo:"Revisão",titulo:"Regimento Interno - Capítulos 1-3",horario:"Hoje, 14:00"},{tipo:"Novo Conteúdo",titulo:"Resolução nº 1.073 - Capítulo 4",horario:"Hoje, 16:30"},{tipo:"Simulado",titulo:"Simulado Temático - Regimento Interno",horario:"Amanhã, 10:00"},{tipo:"Flashcards",titulo:"Revisão Espaçada - Resolução nº 1.007",horario:"Amanhã, 15:00"}],_=[{label:"Tempo de Estudo",valor:"24h 30min",progresso:70},{label:"Flashcards Revisados",valor:120,progresso:60},{label:"Simulados Realizados",valor:5,progresso:50},{label:"Meus conteúdos",valor:8,progresso:40}],j=()=>{switch(i){case"flashcards":return jsxRuntimeExports.jsx(Flashcards,{});case"simulados":return jsxRuntimeExports.jsx(SimuladoArea,{});case"conteudos":return jsxRuntimeExports.jsx(MeusConteudos,{});case"resumos":return jsxRuntimeExports.jsx(MarkdownEditor,{});case"admin":return jsxRuntimeExports.jsx(Admin,{});case"pdfs":return jsxRuntimeExports.jsx(SimplePDFViewer,{});default:return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[" ",jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[jsxRuntimeExports.jsx("h1",{className:"section-title",style:{margin:0,border:"none",padding:0},children:"Dashboard"}),jsxRuntimeExports.jsx("button",{className:"simple-btn",children:"Iniciar Sessão de Estudo"})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Estudo Atual"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg m-0",children:[" ",o.materia]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[jsxRuntimeExports.jsx("span",{children:"Progresso"}),jsxRuntimeExports.jsxs("span",{children:[o.progresso,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-md overflow-hidden",children:jsxRuntimeExports.jsx("div",{style:{width:`${o.progresso}%`,height:"100%",backgroundColor:"var(--primary-blue)",transition:"width 0.3s ease"}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Próxima revisão: ",o.proximaRevisao]}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline px-4 py-2 text-sm",children:"Continuar"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Cronograma Semanal"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Segunda"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.073"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Terça"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.218"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Quarta"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.771"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Quinta"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Res. 1.007"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Sexta"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Revisão"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Sábado"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Simulado"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Domingo"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary",children:[" ","Descanso"]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-grid grid-cols-1 md:grid-cols-[1fr_2fr] gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Próximas Atividades"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-4",children:a.map(($,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[" ",jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-1",children:[jsxRuntimeExports.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",marginRight:"0.5rem",backgroundColor:$.tipo==="Revisão"?"#3b82f6":$.tipo==="Novo Conteúdo"?"#10b981":$.tipo==="Simulado"?"#f59e0b":"#8b5cf6"}}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:$.tipo})]}),jsxRuntimeExports.jsx("p",{className:"text-sm my-1 pl-5",children:$.titulo}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary my-1 pl-5",children:$.horario})]}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline px-4 py-2 text-xs ml-2",onClick:()=>{$.tipo==="Simulado"?s("simulados"):$.tipo==="Flashcards"&&s("flashcards")},children:"Iniciar"})]},_e))})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Estatísticas de Estudo"}),jsxRuntimeExports.jsx("div",{className:"simple-grid simple-grid-2 gap-6",children:_.map(($,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:$.label}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[" ",$.valor]})]}),$.progresso!==void 0&&jsxRuntimeExports.jsx("div",{className:"w-full h-1 bg-gray-200 rounded-sm overflow-hidden",children:jsxRuntimeExports.jsx("div",{style:{width:`${$.progresso}%`,height:"100%",backgroundColor:"var(--primary-blue)",transition:"width 0.3s ease"}})})]},_e))})]})]}),jsxRuntimeExports.jsxs("div",{className:"simple-card",children:[jsxRuntimeExports.jsx("h2",{children:"Acesso Rápido às Ferramentas"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>s("flashcards"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📚 Flashcards"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Sistema de repetição espaçada"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>s("simulados"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📝 Simulados"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Questões e provas"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>s("conteudos"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","🧠 Meus Conteúdos"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Explique para aprender"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>s("resumos"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📄 Editor de Resumos"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Crie resumos em Markdown"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>s("admin"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📄 Administração"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Administre seu sistema"})]})}),jsxRuntimeExports.jsx("button",{className:"simple-btn-outline p-4 text-left h-auto",onClick:()=>s("pdfs"),children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-2",children:[" ","📚 Biblioteca PDF"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-secondary",children:"Visualize materiais"})]})})]})]})]})}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[i!=="dashboard"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white rounded-lg p-4 shadow-sm",children:[jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium",onClick:()=>s("dashboard"),children:"← Voltar ao Dashboard"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"flashcards",label:"Flashcards"},{key:"simulados",label:"Simulados"},{key:"conteudos",label:"Conteúdos"},{key:"resumos",label:"Resumos"},{key:"pdfs",label:"PDFs"},{key:"admin",label:"Admin"}].map(({key:$,label:_e})=>jsxRuntimeExports.jsx("button",{className:`px-3 py-1 rounded text-sm font-medium transition-colors ${i===$?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:()=>s($),children:_e},$))})]}),jsxRuntimeExports.jsx("div",{className:"w-full",children:j()})]})})})},Modal=({title:i,onClose:s,children:o})=>jsxRuntimeExports.jsx("div",{className:"modal-backdrop",children:jsxRuntimeExports.jsxs("div",{className:"modal-window",children:[jsxRuntimeExports.jsxs("header",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:i}),jsxRuntimeExports.jsx("button",{onClick:s,children:"✕"})]}),jsxRuntimeExports.jsx("div",{children:o})]})});function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,o){module.exports=s.pdfjsLib=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,s)=>{var Bn;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=Wt,s.bytesToString=zt,s.createValidAbsoluteUrl=dn,s.getModificationDate=Ut,s.getUuid=On,s.getVerbosityLevel=Bt,s.info=Xt,s.isArrayBuffer=ln,s.isArrayEqual=kn,s.isNodeJS=void 0,s.normalizeUnicode=jn,s.objectFromMap=an,s.objectSize=rn,s.setVerbosityLevel=jt,s.shadow=pn,s.string32=en,s.stringToBytes=Kt,s.stringToPDFString=hn,s.stringToUTF8String=Qt,s.unreachable=Tt,s.utf8StringToString=Jt,s.warn=Zt;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=o;const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const _=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=_;const j=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=j;const $=1.35;s.LINE_FACTOR=$;const _e=.35;s.LINE_DESCENT_FACTOR=_e;const et=_e/$;s.BASELINE_FACTOR=et;const tt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=tt;const nt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=nt;const rt="pdfjs_internal_editor_";s.AnnotationEditorPrefix=rt;const st={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=st;const ot={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=ot;const ut={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=ut;const dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=dt;const yt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=yt;const it={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=it;const ct={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=ct;const ht={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=ht;const kt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=kt;const pt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=pt;const at={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=at;const At={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=At;const wt={O:"PageOpen",C:"PageClose"};s.PageActionEventType=wt;const bt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=bt;const Et={NONE:0,BINARY:1};s.CMapCompressionType=Et;const _t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=_t;const Mt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=Mt;let Ot=bt.WARNINGS;function jt(sn){Number.isInteger(sn)&&(Ot=sn)}function Bt(){return Ot}function Xt(sn){Ot>=bt.INFOS&&console.log(`Info: ${sn}`)}function Zt(sn){Ot>=bt.WARNINGS&&console.log(`Warning: ${sn}`)}function Tt(sn){throw new Error(sn)}function Wt(sn,qt){sn||Tt(qt)}function Rt(sn){switch(sn==null?void 0:sn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function dn(sn,qt=null,$t=null){if(!sn)return null;try{if($t&&typeof sn=="string"){if($t.addDefaultProtocol&&sn.startsWith("www.")){const fn=sn.match(/\./g);(fn==null?void 0:fn.length)>=2&&(sn=`http://${sn}`)}if($t.tryConvertEncoding)try{sn=Qt(sn)}catch{}}const mn=qt?new URL(sn,qt):new URL(sn);if(Rt(mn))return mn}catch{}return null}function pn(sn,qt,$t,mn=!1){return Object.defineProperty(sn,qt,{value:$t,enumerable:!mn,configurable:!0,writable:!1}),$t}const xt=function(){function qt($t,mn){this.constructor===qt&&Tt("Cannot initialize BaseException."),this.message=$t,this.name=mn}return qt.prototype=new Error,qt.constructor=qt,qt}();s.BaseException=xt;class ft extends xt{constructor(qt,$t){super(qt,"PasswordException"),this.code=$t}}s.PasswordException=ft;class vt extends xt{constructor(qt,$t){super(qt,"UnknownErrorException"),this.details=$t}}s.UnknownErrorException=vt;class mt extends xt{constructor(qt){super(qt,"InvalidPDFException")}}s.InvalidPDFException=mt;class St extends xt{constructor(qt){super(qt,"MissingPDFException")}}s.MissingPDFException=St;class Ct extends xt{constructor(qt,$t){super(qt,"UnexpectedResponseException"),this.status=$t}}s.UnexpectedResponseException=Ct;class Ft extends xt{constructor(qt){super(qt,"FormatError")}}s.FormatError=Ft;class Lt extends xt{constructor(qt){super(qt,"AbortException")}}s.AbortException=Lt;function zt(sn){(typeof sn!="object"||(sn==null?void 0:sn.length)===void 0)&&Tt("Invalid argument for bytesToString");const qt=sn.length,$t=8192;if(qt<$t)return String.fromCharCode.apply(null,sn);const mn=[];for(let fn=0;fn<qt;fn+=$t){const qn=Math.min(fn+$t,qt),Xn=sn.subarray(fn,qn);mn.push(String.fromCharCode.apply(null,Xn))}return mn.join("")}function Kt(sn){typeof sn!="string"&&Tt("Invalid argument for stringToBytes");const qt=sn.length,$t=new Uint8Array(qt);for(let mn=0;mn<qt;++mn)$t[mn]=sn.charCodeAt(mn)&255;return $t}function en(sn){return String.fromCharCode(sn>>24&255,sn>>16&255,sn>>8&255,sn&255)}function rn(sn){return Object.keys(sn).length}function an(sn){const qt=Object.create(null);for(const[$t,mn]of sn)qt[$t]=mn;return qt}function yn(){const sn=new Uint8Array(4);return sn[0]=1,new Uint32Array(sn.buffer,0,1)[0]===1}function un(){try{return new Function(""),!0}catch{return!1}}class Cn{static get isLittleEndian(){return pn(this,"isLittleEndian",yn())}static get isEvalSupported(){return pn(this,"isEvalSupported",un())}static get isOffscreenCanvasSupported(){return pn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?pn(this,"platform",{isWin:!1,isMac:!1}):pn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var qt,$t;return pn(this,"isCSSRoundSupported",($t=(qt=globalThis.CSS)==null?void 0:qt.supports)==null?void 0:$t.call(qt,"width: round(1.5px, 1px)"))}}s.FeatureTest=Cn;const Dn=[...Array(256).keys()].map(sn=>sn.toString(16).padStart(2,"0"));class bn{static makeHexColor(qt,$t,mn){return`#${Dn[qt]}${Dn[$t]}${Dn[mn]}`}static scaleMinMax(qt,$t){let mn;qt[0]?(qt[0]<0&&(mn=$t[0],$t[0]=$t[1],$t[1]=mn),$t[0]*=qt[0],$t[1]*=qt[0],qt[3]<0&&(mn=$t[2],$t[2]=$t[3],$t[3]=mn),$t[2]*=qt[3],$t[3]*=qt[3]):(mn=$t[0],$t[0]=$t[2],$t[2]=mn,mn=$t[1],$t[1]=$t[3],$t[3]=mn,qt[1]<0&&(mn=$t[2],$t[2]=$t[3],$t[3]=mn),$t[2]*=qt[1],$t[3]*=qt[1],qt[2]<0&&(mn=$t[0],$t[0]=$t[1],$t[1]=mn),$t[0]*=qt[2],$t[1]*=qt[2]),$t[0]+=qt[4],$t[1]+=qt[4],$t[2]+=qt[5],$t[3]+=qt[5]}static transform(qt,$t){return[qt[0]*$t[0]+qt[2]*$t[1],qt[1]*$t[0]+qt[3]*$t[1],qt[0]*$t[2]+qt[2]*$t[3],qt[1]*$t[2]+qt[3]*$t[3],qt[0]*$t[4]+qt[2]*$t[5]+qt[4],qt[1]*$t[4]+qt[3]*$t[5]+qt[5]]}static applyTransform(qt,$t){const mn=qt[0]*$t[0]+qt[1]*$t[2]+$t[4],fn=qt[0]*$t[1]+qt[1]*$t[3]+$t[5];return[mn,fn]}static applyInverseTransform(qt,$t){const mn=$t[0]*$t[3]-$t[1]*$t[2],fn=(qt[0]*$t[3]-qt[1]*$t[2]+$t[2]*$t[5]-$t[4]*$t[3])/mn,qn=(-qt[0]*$t[1]+qt[1]*$t[0]+$t[4]*$t[1]-$t[5]*$t[0])/mn;return[fn,qn]}static getAxialAlignedBoundingBox(qt,$t){const mn=this.applyTransform(qt,$t),fn=this.applyTransform(qt.slice(2,4),$t),qn=this.applyTransform([qt[0],qt[3]],$t),Xn=this.applyTransform([qt[2],qt[1]],$t);return[Math.min(mn[0],fn[0],qn[0],Xn[0]),Math.min(mn[1],fn[1],qn[1],Xn[1]),Math.max(mn[0],fn[0],qn[0],Xn[0]),Math.max(mn[1],fn[1],qn[1],Xn[1])]}static inverseTransform(qt){const $t=qt[0]*qt[3]-qt[1]*qt[2];return[qt[3]/$t,-qt[1]/$t,-qt[2]/$t,qt[0]/$t,(qt[2]*qt[5]-qt[4]*qt[3])/$t,(qt[4]*qt[1]-qt[5]*qt[0])/$t]}static singularValueDecompose2dScale(qt){const $t=[qt[0],qt[2],qt[1],qt[3]],mn=qt[0]*$t[0]+qt[1]*$t[2],fn=qt[0]*$t[1]+qt[1]*$t[3],qn=qt[2]*$t[0]+qt[3]*$t[2],Xn=qt[2]*$t[1]+qt[3]*$t[3],Yt=(mn+Xn)/2,wn=Math.sqrt((mn+Xn)**2-4*(mn*Xn-qn*fn))/2,Mn=Yt+wn||1,En=Yt-wn||1;return[Math.sqrt(Mn),Math.sqrt(En)]}static normalizeRect(qt){const $t=qt.slice(0);return qt[0]>qt[2]&&($t[0]=qt[2],$t[2]=qt[0]),qt[1]>qt[3]&&($t[1]=qt[3],$t[3]=qt[1]),$t}static intersect(qt,$t){const mn=Math.max(Math.min(qt[0],qt[2]),Math.min($t[0],$t[2])),fn=Math.min(Math.max(qt[0],qt[2]),Math.max($t[0],$t[2]));if(mn>fn)return null;const qn=Math.max(Math.min(qt[1],qt[3]),Math.min($t[1],$t[3])),Xn=Math.min(Math.max(qt[1],qt[3]),Math.max($t[1],$t[3]));return qn>Xn?null:[mn,qn,fn,Xn]}static bezierBoundingBox(qt,$t,mn,fn,qn,Xn,Yt,wn){const Mn=[],En=[[],[]];let Ln,In,Wn,xn,Un,Fn,It,gt;for(let Gt=0;Gt<2;++Gt){if(Gt===0?(In=6*qt-12*mn+6*qn,Ln=-3*qt+9*mn-9*qn+3*Yt,Wn=3*mn-3*qt):(In=6*$t-12*fn+6*Xn,Ln=-3*$t+9*fn-9*Xn+3*wn,Wn=3*fn-3*$t),Math.abs(Ln)<1e-12){if(Math.abs(In)<1e-12)continue;xn=-Wn/In,0<xn&&xn<1&&Mn.push(xn);continue}It=In*In-4*Wn*Ln,gt=Math.sqrt(It),!(It<0)&&(Un=(-In+gt)/(2*Ln),0<Un&&Un<1&&Mn.push(Un),Fn=(-In-gt)/(2*Ln),0<Fn&&Fn<1&&Mn.push(Fn))}let Pt=Mn.length,Dt;const Vt=Pt;for(;Pt--;)xn=Mn[Pt],Dt=1-xn,En[0][Pt]=Dt*Dt*Dt*qt+3*Dt*Dt*xn*mn+3*Dt*xn*xn*qn+xn*xn*xn*Yt,En[1][Pt]=Dt*Dt*Dt*$t+3*Dt*Dt*xn*fn+3*Dt*xn*xn*Xn+xn*xn*xn*wn;return En[0][Vt]=qt,En[1][Vt]=$t,En[0][Vt+1]=Yt,En[1][Vt+1]=wn,En[0].length=En[1].length=Vt+2,[Math.min(...En[0]),Math.min(...En[1]),Math.max(...En[0]),Math.max(...En[1])]}}s.Util=bn;const Pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function hn(sn){if(sn[0]>="ï"){let $t;if(sn[0]==="þ"&&sn[1]==="ÿ"?$t="utf-16be":sn[0]==="ÿ"&&sn[1]==="þ"?$t="utf-16le":sn[0]==="ï"&&sn[1]==="»"&&sn[2]==="¿"&&($t="utf-8"),$t)try{const mn=new TextDecoder($t,{fatal:!0}),fn=Kt(sn);return mn.decode(fn)}catch(mn){Zt(`stringToPDFString: "${mn}".`)}}const qt=[];for(let $t=0,mn=sn.length;$t<mn;$t++){const fn=Pn[sn.charCodeAt($t)];qt.push(fn?String.fromCharCode(fn):sn.charAt($t))}return qt.join("")}function Qt(sn){return decodeURIComponent(escape(sn))}function Jt(sn){return unescape(encodeURIComponent(sn))}function ln(sn){return typeof sn=="object"&&(sn==null?void 0:sn.byteLength)!==void 0}function kn(sn,qt){if(sn.length!==qt.length)return!1;for(let $t=0,mn=sn.length;$t<mn;$t++)if(sn[$t]!==qt[$t])return!1;return!0}function Ut(sn=new Date){return[sn.getUTCFullYear().toString(),(sn.getUTCMonth()+1).toString().padStart(2,"0"),sn.getUTCDate().toString().padStart(2,"0"),sn.getUTCHours().toString().padStart(2,"0"),sn.getUTCMinutes().toString().padStart(2,"0"),sn.getUTCSeconds().toString().padStart(2,"0")].join("")}class on{constructor(){Nt(this,Bn,!1);this.promise=new Promise((qt,$t)=>{this.resolve=mn=>{tn(this,Bn,!0),qt(mn)},this.reject=mn=>{tn(this,Bn,!0),$t(mn)}})}get settled(){return lt(this,Bn)}}Bn=new WeakMap,s.PromiseCapability=on;let vn=null,_n=null;function jn(sn){return vn||(vn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,_n=new Map([["ﬅ","ſt"]])),sn.replaceAll(vn,(qt,$t,mn)=>$t?$t.normalize("NFKC"):_n.get(mn))}function On(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const sn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(sn);else for(let qt=0;qt<32;qt++)sn[qt]=Math.floor(Math.random()*255);return zt(sn)}const Nn="pdfjs_internal_id_";s.AnnotationPrefix=Nn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var i,o,a,_,ir,$,xr,et,tt,nt,rt,st,ot,ut,dt,yt,yr,ct,ht,Fr,pt,at;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(wt){if(typeof wt=="string"||wt instanceof URL?wt={url:wt}:(0,_util.isArrayBuffer)(wt)&&(wt={data:wt}),typeof wt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!wt.url&&!wt.data&&!wt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const bt=new PDFDocumentLoadingTask,{docId:Et}=bt,_t=wt.url?getUrlProp(wt.url):null,Mt=wt.data?getDataProp(wt.data):null,Ot=wt.httpHeaders||null,jt=wt.withCredentials===!0,Bt=wt.password??null,Xt=wt.range instanceof PDFDataRangeTransport?wt.range:null,Zt=Number.isInteger(wt.rangeChunkSize)&&wt.rangeChunkSize>0?wt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Tt=wt.worker instanceof PDFWorker?wt.worker:null;const Wt=wt.verbosity,Rt=typeof wt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(wt.docBaseUrl)?wt.docBaseUrl:null,dn=typeof wt.cMapUrl=="string"?wt.cMapUrl:null,pn=wt.cMapPacked!==!1,xt=wt.CMapReaderFactory||DefaultCMapReaderFactory,ft=typeof wt.standardFontDataUrl=="string"?wt.standardFontDataUrl:null,vt=wt.StandardFontDataFactory||DefaultStandardFontDataFactory,mt=wt.stopAtErrors!==!0,St=Number.isInteger(wt.maxImageSize)&&wt.maxImageSize>-1?wt.maxImageSize:-1,Ct=wt.isEvalSupported!==!1,Ft=typeof wt.isOffscreenCanvasSupported=="boolean"?wt.isOffscreenCanvasSupported:!_util.isNodeJS,Lt=Number.isInteger(wt.canvasMaxAreaInBytes)?wt.canvasMaxAreaInBytes:-1,zt=typeof wt.disableFontFace=="boolean"?wt.disableFontFace:_util.isNodeJS,Kt=wt.fontExtraProperties===!0,en=wt.enableXfa===!0,rn=wt.ownerDocument||globalThis.document,an=wt.disableRange===!0,yn=wt.disableStream===!0,un=wt.disableAutoFetch===!0,Cn=wt.pdfBug===!0,Dn=Xt?Xt.length:wt.length??NaN,bn=typeof wt.useSystemFonts=="boolean"?wt.useSystemFonts:!_util.isNodeJS&&!zt,Pn=typeof wt.useWorkerFetch=="boolean"?wt.useWorkerFetch:xt===_display_utils.DOMCMapReaderFactory&&vt===_display_utils.DOMStandardFontDataFactory&&dn&&ft&&(0,_display_utils.isValidFetchUrl)(dn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ft,document.baseURI),hn=wt.canvasFactory||new DefaultCanvasFactory({ownerDocument:rn}),Qt=wt.filterFactory||new DefaultFilterFactory({docId:Et,ownerDocument:rn}),Jt=null;(0,_util.setVerbosityLevel)(Wt);const ln={canvasFactory:hn,filterFactory:Qt};if(Pn||(ln.cMapReaderFactory=new xt({baseUrl:dn,isCompressed:pn}),ln.standardFontDataFactory=new vt({baseUrl:ft})),!Tt){const on={verbosity:Wt,port:_worker_options.GlobalWorkerOptions.workerPort};Tt=on.port?PDFWorker.fromPort(on):new PDFWorker(on),bt._worker=Tt}const kn={docId:Et,apiVersion:"3.11.174",data:Mt,password:Bt,disableAutoFetch:un,rangeChunkSize:Zt,length:Dn,docBaseUrl:Rt,enableXfa:en,evaluatorOptions:{maxImageSize:St,disableFontFace:zt,ignoreErrors:mt,isEvalSupported:Ct,isOffscreenCanvasSupported:Ft,canvasMaxAreaInBytes:Lt,fontExtraProperties:Kt,useSystemFonts:bn,cMapUrl:Pn?dn:null,standardFontDataUrl:Pn?ft:null}},Ut={ignoreErrors:mt,isEvalSupported:Ct,disableFontFace:zt,fontExtraProperties:Kt,enableXfa:en,ownerDocument:rn,disableAutoFetch:un,pdfBug:Cn,styleElement:Jt};return Tt.promise.then(function(){if(bt.destroyed)throw new Error("Loading aborted");const on=_fetchDocument(Tt,kn),vn=new Promise(function(_n){let jn;Xt?jn=new _transport_stream.PDFDataTransportStream({length:Dn,initialData:Xt.initialData,progressiveDone:Xt.progressiveDone,contentDispositionFilename:Xt.contentDispositionFilename,disableRange:an,disableStream:yn},Xt):Mt||(jn=(Nn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Nn):(0,_display_utils.isValidFetchUrl)(Nn.url)?new _displayFetch_stream.PDFFetchStream(Nn):new _displayNetwork.PDFNetworkStream(Nn))({url:_t,length:Dn,httpHeaders:Ot,withCredentials:jt,rangeChunkSize:Zt,disableRange:an,disableStream:yn})),_n(jn)});return Promise.all([on,vn]).then(function([_n,jn]){if(bt.destroyed)throw new Error("Loading aborted");const On=new _message_handler.MessageHandler(Et,_n,Tt.port),Nn=new WorkerTransport(On,bt,jn,Ut,ln);bt._transport=Nn,On.send("Ready",null)})}).catch(bt._capability.reject),bt}async function _fetchDocument(wt,bt){if(wt.destroyed)throw new Error("Worker was destroyed");const Et=await wt.messageHandler.sendWithPromise("GetDocRequest",bt,bt.data?[bt.data.buffer]:null);if(wt.destroyed)throw new Error("Worker was destroyed");return Et}function getUrlProp(wt){if(wt instanceof URL)return wt.href;try{return new URL(wt,window.location).href}catch{if(_util.isNodeJS&&typeof wt=="string")return wt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(wt){if(_util.isNodeJS&&typeof Buffer<"u"&&wt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(wt instanceof Uint8Array&&wt.byteLength===wt.buffer.byteLength)return wt;if(typeof wt=="string")return(0,_util.stringToBytes)(wt);if(typeof wt=="object"&&!isNaN(wt==null?void 0:wt.length)||(0,_util.isArrayBuffer)(wt))return new Uint8Array(wt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ur(s,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var bt,Et,_t;this.destroyed=!0;try{(bt=this._worker)!=null&&bt.port&&(this._worker._pendingDestroy=!0),await((Et=this._transport)==null?void 0:Et.destroy())}catch(Mt){throw(_t=this._worker)!=null&&_t.port&&delete this._worker._pendingDestroy,Mt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,Nt(s,i,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(bt,Et,_t=!1,Mt=null){this.length=bt,this.initialData=Et,this.progressiveDone=_t,this.contentDispositionFilename=Mt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(bt){this._rangeListeners.push(bt)}addProgressListener(bt){this._progressListeners.push(bt)}addProgressiveReadListener(bt){this._progressiveReadListeners.push(bt)}addProgressiveDoneListener(bt){this._progressiveDoneListeners.push(bt)}onDataRange(bt,Et){for(const _t of this._rangeListeners)_t(bt,Et)}onDataProgress(bt,Et){this._readyCapability.promise.then(()=>{for(const _t of this._progressListeners)_t(bt,Et)})}onDataProgressiveRead(bt){this._readyCapability.promise.then(()=>{for(const Et of this._progressiveReadListeners)Et(bt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const bt of this._progressiveDoneListeners)bt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(bt,Et){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(bt,Et){this._pdfInfo=bt,this._transport=Et,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(_t=>{if(!_t)return _t;const Mt=[];for(const Ot in _t)Mt.push(..._t[Ot]);return Mt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(bt){return this._transport.getPage(bt)}getPageIndex(bt){return this._transport.getPageIndex(bt)}getDestinations(){return this._transport.getDestinations()}getDestination(bt){return this._transport.getDestination(bt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(bt=!1){return this._transport.startCleanup(bt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(bt,Et,_t,Mt=!1){Nt(this,_);Nt(this,$);Nt(this,o,null);Nt(this,a,!1);this._pageIndex=bt,this._pageInfo=Et,this._transport=_t,this._stats=Mt?new _display_utils.StatTimer:null,this._pdfBug=Mt,this.commonObjs=_t.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:bt,rotation:Et=this.rotate,offsetX:_t=0,offsetY:Mt=0,dontFlip:Ot=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:bt,rotation:Et,offsetX:_t,offsetY:Mt,dontFlip:Ot})}getAnnotations({intent:bt="display"}={}){const Et=this._transport.getRenderingIntent(bt);return this._transport.getAnnotations(this._pageIndex,Et.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var bt;return((bt=this._transport._htmlForXfa)==null?void 0:bt.children[this._pageIndex])||null}render({canvasContext:bt,viewport:Et,intent:_t="display",annotationMode:Mt=_util.AnnotationMode.ENABLE,transform:Ot=null,background:jt=null,optionalContentConfigPromise:Bt=null,annotationCanvasMap:Xt=null,pageColors:Zt=null,printAnnotationStorage:Tt=null}){var vt,mt;(vt=this._stats)==null||vt.time("Overall");const Wt=this._transport.getRenderingIntent(_t,Mt,Tt);tn(this,a,!1),Ht(this,$,xr).call(this),Bt||(Bt=this._transport.getOptionalContentConfig());let Rt=this._intentStates.get(Wt.cacheKey);Rt||(Rt=Object.create(null),this._intentStates.set(Wt.cacheKey,Rt)),Rt.streamReaderCancelTimeout&&(clearTimeout(Rt.streamReaderCancelTimeout),Rt.streamReaderCancelTimeout=null);const dn=!!(Wt.renderingIntent&_util.RenderingIntentFlag.PRINT);Rt.displayReadyCapability||(Rt.displayReadyCapability=new _util.PromiseCapability,Rt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(mt=this._stats)==null||mt.time("Page Request"),this._pumpOperatorList(Wt));const pn=St=>{var Ct,Ft;Rt.renderTasks.delete(xt),(this._maybeCleanupAfterRender||dn)&&tn(this,a,!0),Ht(this,_,ir).call(this,!dn),St?(xt.capability.reject(St),this._abortOperatorList({intentState:Rt,reason:St instanceof Error?St:new Error(St)})):xt.capability.resolve(),(Ct=this._stats)==null||Ct.timeEnd("Rendering"),(Ft=this._stats)==null||Ft.timeEnd("Overall")},xt=new InternalRenderTask({callback:pn,params:{canvasContext:bt,viewport:Et,transform:Ot,background:jt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Xt,operatorList:Rt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!dn,pdfBug:this._pdfBug,pageColors:Zt});(Rt.renderTasks||(Rt.renderTasks=new Set)).add(xt);const ft=xt.task;return Promise.all([Rt.displayReadyCapability.promise,Bt]).then(([St,Ct])=>{var Ft;if(this.destroyed){pn();return}(Ft=this._stats)==null||Ft.time("Rendering"),xt.initializeGraphics({transparency:St,optionalContentConfig:Ct}),xt.operatorListChanged()}).catch(pn),ft}getOperatorList({intent:bt="display",annotationMode:Et=_util.AnnotationMode.ENABLE,printAnnotationStorage:_t=null}={}){var Xt;function Mt(){jt.operatorList.lastChunk&&(jt.opListReadCapability.resolve(jt.operatorList),jt.renderTasks.delete(Bt))}const Ot=this._transport.getRenderingIntent(bt,Et,_t,!0);let jt=this._intentStates.get(Ot.cacheKey);jt||(jt=Object.create(null),this._intentStates.set(Ot.cacheKey,jt));let Bt;return jt.opListReadCapability||(Bt=Object.create(null),Bt.operatorListChanged=Mt,jt.opListReadCapability=new _util.PromiseCapability,(jt.renderTasks||(jt.renderTasks=new Set)).add(Bt),jt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Xt=this._stats)==null||Xt.time("Page Request"),this._pumpOperatorList(Ot)),jt.opListReadCapability.promise}streamTextContent({includeMarkedContent:bt=!1,disableNormalization:Et=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:bt===!0,disableNormalization:Et===!0},{highWaterMark:100,size(Mt){return Mt.items.length}})}getTextContent(bt={}){if(this._transport._htmlForXfa)return this.getXfa().then(_t=>_xfa_text.XfaText.textContent(_t));const Et=this.streamTextContent(bt);return new Promise(function(_t,Mt){function Ot(){jt.read().then(function({value:Xt,done:Zt}){if(Zt){_t(Bt);return}Object.assign(Bt.styles,Xt.styles),Bt.items.push(...Xt.items),Ot()},Mt)}const jt=Et.getReader(),Bt={items:[],styles:Object.create(null)};Ot()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const bt=[];for(const Et of this._intentStates.values())if(this._abortOperatorList({intentState:Et,reason:new Error("Page was destroyed."),force:!0}),!Et.opListReadCapability)for(const _t of Et.renderTasks)bt.push(_t.completed),_t.cancel();return this.objs.clear(),tn(this,a,!1),Ht(this,$,xr).call(this),Promise.all(bt)}cleanup(bt=!1){tn(this,a,!0);const Et=Ht(this,_,ir).call(this,!1);return bt&&Et&&this._stats&&(this._stats=new _display_utils.StatTimer),Et}_startRenderPage(bt,Et){var Mt,Ot;const _t=this._intentStates.get(Et);_t&&((Mt=this._stats)==null||Mt.timeEnd("Page Request"),(Ot=_t.displayReadyCapability)==null||Ot.resolve(bt))}_renderPageChunk(bt,Et){for(let _t=0,Mt=bt.length;_t<Mt;_t++)Et.operatorList.fnArray.push(bt.fnArray[_t]),Et.operatorList.argsArray.push(bt.argsArray[_t]);Et.operatorList.lastChunk=bt.lastChunk,Et.operatorList.separateAnnots=bt.separateAnnots;for(const _t of Et.renderTasks)_t.operatorListChanged();bt.lastChunk&&Ht(this,_,ir).call(this,!0)}_pumpOperatorList({renderingIntent:bt,cacheKey:Et,annotationStorageSerializable:_t}){const{map:Mt,transfers:Ot}=_t,Bt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:bt,cacheKey:Et,annotationStorage:Mt},Ot).getReader(),Xt=this._intentStates.get(Et);Xt.streamReader=Bt;const Zt=()=>{Bt.read().then(({value:Tt,done:Wt})=>{if(Wt){Xt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Tt,Xt),Zt())},Tt=>{if(Xt.streamReader=null,!this._transport.destroyed){if(Xt.operatorList){Xt.operatorList.lastChunk=!0;for(const Wt of Xt.renderTasks)Wt.operatorListChanged();Ht(this,_,ir).call(this,!0)}if(Xt.displayReadyCapability)Xt.displayReadyCapability.reject(Tt);else if(Xt.opListReadCapability)Xt.opListReadCapability.reject(Tt);else throw Tt}})};Zt()}_abortOperatorList({intentState:bt,reason:Et,force:_t=!1}){if(bt.streamReader){if(bt.streamReaderCancelTimeout&&(clearTimeout(bt.streamReaderCancelTimeout),bt.streamReaderCancelTimeout=null),!_t){if(bt.renderTasks.size>0)return;if(Et instanceof _display_utils.RenderingCancelledException){let Mt=RENDERING_CANCELLED_TIMEOUT;Et.extraDelay>0&&Et.extraDelay<1e3&&(Mt+=Et.extraDelay),bt.streamReaderCancelTimeout=setTimeout(()=>{bt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:bt,reason:Et,force:!0})},Mt);return}}if(bt.streamReader.cancel(new _util.AbortException(Et.message)).catch(()=>{}),bt.streamReader=null,!this._transport.destroyed){for(const[Mt,Ot]of this._intentStates)if(Ot===bt){this._intentStates.delete(Mt);break}this.cleanup()}}}get stats(){return this._stats}}o=new WeakMap,a=new WeakMap,_=new WeakSet,ir=function(bt=!1){if(Ht(this,$,xr).call(this),!lt(this,a)||this.destroyed)return!1;if(bt)return tn(this,o,setTimeout(()=>{tn(this,o,null),Ht(this,_,ir).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Et,operatorList:_t}of this._intentStates.values())if(Et.size>0||!_t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),tn(this,a,!1),!0},$=new WeakSet,xr=function(){lt(this,o)&&(clearTimeout(lt(this,o)),tn(this,o,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Nt(this,et,new Set);Nt(this,tt,Promise.resolve())}postMessage(bt,Et){const _t={data:structuredClone(bt,Et?{transfer:Et}:null)};lt(this,tt).then(()=>{for(const Mt of lt(this,et))Mt.call(this,_t)})}addEventListener(bt,Et){lt(this,et).add(Et)}removeEventListener(bt,Et){lt(this,et).delete(Et)}terminate(){lt(this,et).clear()}}et=new WeakMap,tt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const wt=(nt=document==null?void 0:document.currentScript)==null?void 0:nt.src;wt&&(PDFWorkerUtil.fallbackWorkerSrc=wt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(wt,bt){let Et;try{if(Et=new URL(wt),!Et.origin||Et.origin==="null")return!1}catch{return!1}const _t=new URL(bt,Et);return Et.origin===_t.origin},PDFWorkerUtil.createCDNWrapper=function(wt){const bt=`importScripts("${wt}");`;return URL.createObjectURL(new Blob([bt]))}}const _PDFWorker=class _PDFWorker{constructor({name:wt=null,port:bt=null,verbosity:Et=(0,_util.getVerbosityLevel)()}={}){var _t;if(this.name=wt,this.destroyed=!1,this.verbosity=Et,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,bt){if((_t=lt(_PDFWorker,rt))!=null&&_t.has(bt))throw new Error("Cannot use more than one PDFWorker per port.");(lt(_PDFWorker,rt)||tn(_PDFWorker,rt,new WeakMap)).set(bt,this),this._initializeFromPort(bt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(wt){this._port=wt,this._messageHandler=new _message_handler.MessageHandler("main","worker",wt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:wt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,wt)||(wt=PDFWorkerUtil.createCDNWrapper(new URL(wt,window.location).href));const bt=new Worker(wt),Et=new _message_handler.MessageHandler("main","worker",bt),_t=()=>{bt.removeEventListener("error",Mt),Et.destroy(),bt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Mt=()=>{this._webWorker||_t()};bt.addEventListener("error",Mt),Et.on("test",jt=>{if(bt.removeEventListener("error",Mt),this.destroyed){_t();return}jt?(this._messageHandler=Et,this._port=bt,this._webWorker=bt,this._readyCapability.resolve(),Et.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Et.destroy(),bt.terminate())}),Et.on("ready",jt=>{if(bt.removeEventListener("error",Mt),this.destroyed){_t();return}try{Ot()}catch{this._setupFakeWorker()}});const Ot=()=>{const jt=new Uint8Array;Et.send("test",jt,[jt.buffer])};Ot();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(wt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const bt=new LoopbackPort;this._port=bt;const Et=`fake${PDFWorkerUtil.fakeWorkerId++}`,_t=new _message_handler.MessageHandler(Et+"_worker",Et,bt);wt.setup(_t,bt);const Mt=new _message_handler.MessageHandler(Et,Et+"_worker",bt);this._messageHandler=Mt,this._readyCapability.resolve(),Mt.send("configure",{verbosity:this.verbosity})}).catch(wt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${wt.message}".`))})}destroy(){var wt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(wt=lt(_PDFWorker,rt))==null||wt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(wt){var Et;if(!(wt!=null&&wt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const bt=(Et=lt(this,rt))==null?void 0:Et.get(wt.port);if(bt){if(bt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return bt}return new _PDFWorker(wt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var wt;try{return((wt=globalThis.pdfjsWorker)==null?void 0:wt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};rt=new WeakMap,Nt(_PDFWorker,rt,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(bt,Et,_t,Mt,Ot){Nt(this,yt);Nt(this,st,new Map);Nt(this,ot,new Map);Nt(this,ut,new Map);Nt(this,dt,null);this.messageHandler=bt,this.loadingTask=Et,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Mt.ownerDocument,styleElement:Mt.styleElement}),this._params=Mt,this.canvasFactory=Ot.canvasFactory,this.filterFactory=Ot.filterFactory,this.cMapReaderFactory=Ot.cMapReaderFactory,this.standardFontDataFactory=Ot.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=_t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(bt,Et=_util.AnnotationMode.ENABLE,_t=null,Mt=!1){let Ot=_util.RenderingIntentFlag.DISPLAY,jt=_annotation_storage.SerializableEmpty;switch(bt){case"any":Ot=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ot=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${bt}`)}switch(Et){case _util.AnnotationMode.DISABLE:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ot+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,jt=(Ot&_util.RenderingIntentFlag.PRINT&&_t instanceof _annotation_storage.PrintAnnotationStorage?_t:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Et}`)}return Mt&&(Ot+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ot,cacheKey:`${Ot}_${jt.hash}`,annotationStorageSerializable:jt}}destroy(){var _t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(_t=lt(this,dt))==null||_t.reject(new Error("Worker was destroyed during onPassword callback"));const bt=[];for(const Mt of lt(this,ot).values())bt.push(Mt._destroy());lt(this,ot).clear(),lt(this,ut).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Et=this.messageHandler.sendWithPromise("Terminate",null);return bt.push(Et),Promise.all(bt).then(()=>{var Mt;this.commonObjs.clear(),this.fontLoader.clear(),lt(this,st).clear(),this.filterFactory.destroy(),(Mt=this._networkStream)==null||Mt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:bt,loadingTask:Et}=this;bt.on("GetReader",(_t,Mt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ot=>{this._lastProgress={loaded:Ot.loaded,total:Ot.total}},Mt.onPull=()=>{this._fullReader.read().then(function({value:Ot,done:jt}){if(jt){Mt.close();return}(0,_util.assert)(Ot instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Mt.enqueue(new Uint8Array(Ot),1,[Ot])}).catch(Ot=>{Mt.error(Ot)})},Mt.onCancel=Ot=>{this._fullReader.cancel(Ot),Mt.ready.catch(jt=>{if(!this.destroyed)throw jt})}}),bt.on("ReaderHeadersReady",_t=>{const Mt=new _util.PromiseCapability,Ot=this._fullReader;return Ot.headersReady.then(()=>{var jt;(!Ot.isStreamingSupported||!Ot.isRangeSupported)&&(this._lastProgress&&((jt=Et.onProgress)==null||jt.call(Et,this._lastProgress)),Ot.onProgress=Bt=>{var Xt;(Xt=Et.onProgress)==null||Xt.call(Et,{loaded:Bt.loaded,total:Bt.total})}),Mt.resolve({isStreamingSupported:Ot.isStreamingSupported,isRangeSupported:Ot.isRangeSupported,contentLength:Ot.contentLength})},Mt.reject),Mt.promise}),bt.on("GetRangeReader",(_t,Mt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ot=this._networkStream.getRangeReader(_t.begin,_t.end);if(!Ot){Mt.close();return}Mt.onPull=()=>{Ot.read().then(function({value:jt,done:Bt}){if(Bt){Mt.close();return}(0,_util.assert)(jt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Mt.enqueue(new Uint8Array(jt),1,[jt])}).catch(jt=>{Mt.error(jt)})},Mt.onCancel=jt=>{Ot.cancel(jt),Mt.ready.catch(Bt=>{if(!this.destroyed)throw Bt})}}),bt.on("GetDoc",({pdfInfo:_t})=>{this._numPages=_t.numPages,this._htmlForXfa=_t.htmlForXfa,delete _t.htmlForXfa,Et._capability.resolve(new PDFDocumentProxy(_t,this))}),bt.on("DocException",function(_t){let Mt;switch(_t.name){case"PasswordException":Mt=new _util.PasswordException(_t.message,_t.code);break;case"InvalidPDFException":Mt=new _util.InvalidPDFException(_t.message);break;case"MissingPDFException":Mt=new _util.MissingPDFException(_t.message);break;case"UnexpectedResponseException":Mt=new _util.UnexpectedResponseException(_t.message,_t.status);break;case"UnknownErrorException":Mt=new _util.UnknownErrorException(_t.message,_t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Et._capability.reject(Mt)}),bt.on("PasswordRequest",_t=>{if(tn(this,dt,new _util.PromiseCapability),Et.onPassword){const Mt=Ot=>{Ot instanceof Error?lt(this,dt).reject(Ot):lt(this,dt).resolve({password:Ot})};try{Et.onPassword(Mt,_t.code)}catch(Ot){lt(this,dt).reject(Ot)}}else lt(this,dt).reject(new _util.PasswordException(_t.message,_t.code));return lt(this,dt).promise}),bt.on("DataLoaded",_t=>{var Mt;(Mt=Et.onProgress)==null||Mt.call(Et,{loaded:_t.length,total:_t.length}),this.downloadInfoCapability.resolve(_t)}),bt.on("StartRenderPage",_t=>{if(this.destroyed)return;lt(this,ot).get(_t.pageIndex)._startRenderPage(_t.transparency,_t.cacheKey)}),bt.on("commonobj",([_t,Mt,Ot])=>{var jt;if(!this.destroyed&&!this.commonObjs.has(_t))switch(Mt){case"Font":const Bt=this._params;if("error"in Ot){const Tt=Ot.error;(0,_util.warn)(`Error during font loading: ${Tt}`),this.commonObjs.resolve(_t,Tt);break}const Xt=Bt.pdfBug&&((jt=globalThis.FontInspector)!=null&&jt.enabled)?(Tt,Wt)=>globalThis.FontInspector.fontAdded(Tt,Wt):null,Zt=new _font_loader.FontFaceObject(Ot,{isEvalSupported:Bt.isEvalSupported,disableFontFace:Bt.disableFontFace,ignoreErrors:Bt.ignoreErrors,inspectFont:Xt});this.fontLoader.bind(Zt).catch(Tt=>bt.sendWithPromise("FontFallback",{id:_t})).finally(()=>{!Bt.fontExtraProperties&&Zt.data&&(Zt.data=null),this.commonObjs.resolve(_t,Zt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(_t,Ot);break;default:throw new Error(`Got unknown common object type ${Mt}`)}}),bt.on("obj",([_t,Mt,Ot,jt])=>{var Xt;if(this.destroyed)return;const Bt=lt(this,ot).get(Mt);if(!Bt.objs.has(_t))switch(Ot){case"Image":if(Bt.objs.resolve(_t,jt),jt){let Zt;if(jt.bitmap){const{width:Tt,height:Wt}=jt;Zt=Tt*Wt*4}else Zt=((Xt=jt.data)==null?void 0:Xt.length)||0;Zt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Bt._maybeCleanupAfterRender=!0)}break;case"Pattern":Bt.objs.resolve(_t,jt);break;default:throw new Error(`Got unknown object type ${Ot}`)}}),bt.on("DocProgress",_t=>{var Mt;this.destroyed||(Mt=Et.onProgress)==null||Mt.call(Et,{loaded:_t.loaded,total:_t.total})}),bt.on("FetchBuiltInCMap",_t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(_t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),bt.on("FetchStandardFontData",_t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(_t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var _t;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:bt,transfers:Et}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:bt,filename:((_t=this._fullReader)==null?void 0:_t.filename)??null},Et).finally(()=>{this.annotationStorage.resetModified()})}getPage(bt){if(!Number.isInteger(bt)||bt<=0||bt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Et=bt-1,_t=lt(this,ut).get(Et);if(_t)return _t;const Mt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Et}).then(Ot=>{if(this.destroyed)throw new Error("Transport destroyed");const jt=new PDFPageProxy(Et,Ot,this,this._params.pdfBug);return lt(this,ot).set(Et,jt),jt});return lt(this,ut).set(Et,Mt),Mt}getPageIndex(bt){return typeof bt!="object"||bt===null||!Number.isInteger(bt.num)||bt.num<0||!Number.isInteger(bt.gen)||bt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:bt.num,gen:bt.gen})}getAnnotations(bt,Et){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:bt,intent:Et})}getFieldObjects(){return Ht(this,yt,yr).call(this,"GetFieldObjects")}hasJSActions(){return Ht(this,yt,yr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(bt){return typeof bt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:bt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ht(this,yt,yr).call(this,"GetDocJSActions")}getPageJSActions(bt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:bt})}getStructTree(bt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:bt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(bt=>new _optional_content_config.OptionalContentConfig(bt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const bt="GetMetadata",Et=lt(this,st).get(bt);if(Et)return Et;const _t=this.messageHandler.sendWithPromise(bt,null).then(Mt=>{var Ot,jt;return{info:Mt[0],metadata:Mt[1]?new _metadata.Metadata(Mt[1]):null,contentDispositionFilename:((Ot=this._fullReader)==null?void 0:Ot.filename)??null,contentLength:((jt=this._fullReader)==null?void 0:jt.contentLength)??null}});return lt(this,st).set(bt,_t),_t}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(bt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Et of lt(this,ot).values())if(!Et.cleanup())throw new Error(`startCleanup: Page ${Et.pageNumber} is currently rendering.`);this.commonObjs.clear(),bt||this.fontLoader.clear(),lt(this,st).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:bt,enableXfa:Et}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:bt,enableXfa:Et})}}st=new WeakMap,ot=new WeakMap,ut=new WeakMap,dt=new WeakMap,yt=new WeakSet,yr=function(bt,Et=null){const _t=lt(this,st).get(bt);if(_t)return _t;const Mt=this.messageHandler.sendWithPromise(bt,Et);return lt(this,st).set(bt,Mt),Mt};class PDFObjects{constructor(){Nt(this,ht);Nt(this,ct,Object.create(null))}get(bt,Et=null){if(Et){const Mt=Ht(this,ht,Fr).call(this,bt);return Mt.capability.promise.then(()=>Et(Mt.data)),null}const _t=lt(this,ct)[bt];if(!(_t!=null&&_t.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${bt}.`);return _t.data}has(bt){const Et=lt(this,ct)[bt];return(Et==null?void 0:Et.capability.settled)||!1}resolve(bt,Et=null){const _t=Ht(this,ht,Fr).call(this,bt);_t.data=Et,_t.capability.resolve()}clear(){var bt;for(const Et in lt(this,ct)){const{data:_t}=lt(this,ct)[Et];(bt=_t==null?void 0:_t.bitmap)==null||bt.close()}tn(this,ct,Object.create(null))}}ct=new WeakMap,ht=new WeakSet,Fr=function(bt){var Et;return(Et=lt(this,ct))[bt]||(Et[bt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(bt){Nt(this,pt,null);tn(this,pt,bt),this.onContinue=null}get promise(){return lt(this,pt).capability.promise}cancel(bt=0){lt(this,pt).cancel(null,bt)}get separateAnnots(){const{separateAnnots:bt}=lt(this,pt).operatorList;if(!bt)return!1;const{annotationCanvasMap:Et}=lt(this,pt);return bt.form||bt.canvas&&(Et==null?void 0:Et.size)>0}}pt=new WeakMap,exports.RenderTask=RenderTask;const At=class At{constructor({callback:bt,params:Et,objs:_t,commonObjs:Mt,annotationCanvasMap:Ot,operatorList:jt,pageIndex:Bt,canvasFactory:Xt,filterFactory:Zt,useRequestAnimationFrame:Tt=!1,pdfBug:Wt=!1,pageColors:Rt=null}){this.callback=bt,this.params=Et,this.objs=_t,this.commonObjs=Mt,this.annotationCanvasMap=Ot,this.operatorListIdx=null,this.operatorList=jt,this._pageIndex=Bt,this.canvasFactory=Xt,this.filterFactory=Zt,this._pdfBug=Wt,this.pageColors=Rt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Tt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Et.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:bt=!1,optionalContentConfig:Et}){var Bt,Xt;if(this.cancelled)return;if(this._canvas){if(lt(At,at).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lt(At,at).add(this._canvas)}this._pdfBug&&((Bt=globalThis.StepperManager)!=null&&Bt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:_t,viewport:Mt,transform:Ot,background:jt}=this.params;this.gfx=new _canvas.CanvasGraphics(_t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Et},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ot,viewport:Mt,transparency:bt,background:jt}),this.operatorListIdx=0,this.graphicsReady=!0,(Xt=this.graphicsReadyCallback)==null||Xt.call(this)}cancel(bt=null,Et=0){var _t;this.running=!1,this.cancelled=!0,(_t=this.gfx)==null||_t.endDrawing(),lt(At,at).delete(this._canvas),this.callback(bt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Et))}operatorListChanged(){var bt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(bt=this.stepper)==null||bt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lt(At,at).delete(this._canvas),this.callback())))}};at=new WeakMap,Nt(At,at,new WeakSet);let InternalRenderTask=At;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(i,s,o)=>{var tt,nt,rt,hs,ot;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=o(1),_=o(4),j=o(8);const $=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=$;class _e{constructor(){Nt(this,rt);Nt(this,tt,!1);Nt(this,nt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(dt,yt){const it=lt(this,nt).get(dt);return it===void 0?yt:Object.assign(yt,it)}getRawValue(dt){return lt(this,nt).get(dt)}remove(dt){if(lt(this,nt).delete(dt),lt(this,nt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const yt of lt(this,nt).values())if(yt instanceof _.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(dt,yt){const it=lt(this,nt).get(dt);let ct=!1;if(it!==void 0)for(const[ht,kt]of Object.entries(yt))it[ht]!==kt&&(ct=!0,it[ht]=kt);else ct=!0,lt(this,nt).set(dt,yt);ct&&Ht(this,rt,hs).call(this),yt instanceof _.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(yt.constructor._type)}has(dt){return lt(this,nt).has(dt)}getAll(){return lt(this,nt).size>0?(0,a.objectFromMap)(lt(this,nt)):null}setAll(dt){for(const[yt,it]of Object.entries(dt))this.setValue(yt,it)}get size(){return lt(this,nt).size}resetModified(){lt(this,tt)&&(tn(this,tt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new et(this)}get serializable(){if(lt(this,nt).size===0)return $;const dt=new Map,yt=new j.MurmurHash3_64,it=[],ct=Object.create(null);let ht=!1;for(const[kt,pt]of lt(this,nt)){const at=pt instanceof _.AnnotationEditor?pt.serialize(!1,ct):pt;at&&(dt.set(kt,at),yt.update(`${kt}:${JSON.stringify(at)}`),ht||(ht=!!at.bitmap))}if(ht)for(const kt of dt.values())kt.bitmap&&it.push(kt.bitmap);return dt.size>0?{map:dt,hash:yt.hexdigest(),transfers:it}:$}}tt=new WeakMap,nt=new WeakMap,rt=new WeakSet,hs=function(){lt(this,tt)||(tn(this,tt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=_e;class et extends _e{constructor(yt){super();Nt(this,ot,void 0);const{map:it,hash:ct,transfers:ht}=yt.serializable,kt=structuredClone(it,ht?{transfer:ht}:null);tn(this,ot,{map:kt,hash:ct,transfers:ht})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return lt(this,ot)}}ot=new WeakMap,s.PrintAnnotationStorage=et},(i,s,o)=>{var et,tt,nt,rt,st,ot,ut,dt,yt,it,ct,ht,kt,pt,at,Mr,wt,Lr,Et,Ir,Mt,Dr,jt,ps,Xt,fs,Tt,ms,Rt,Nr,pn,gs;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=o(5),_=o(1),j=o(6);const ft=class ft{constructor(mt){Nt(this,at);Nt(this,wt);Nt(this,Mt);Nt(this,jt);Nt(this,Xt);Nt(this,Tt);Nt(this,Rt);Nt(this,pn);Nt(this,et,"");Nt(this,tt,!1);Nt(this,nt,null);Nt(this,rt,null);Nt(this,st,null);Nt(this,ot,!1);Nt(this,ut,null);Nt(this,dt,this.focusin.bind(this));Nt(this,yt,this.focusout.bind(this));Nt(this,it,!1);Nt(this,ct,!1);Nt(this,ht,!1);Yn(this,"_initialOptions",Object.create(null));Yn(this,"_uiManager",null);Yn(this,"_focusEventsAllowed",!0);Yn(this,"_l10nPromise",null);Nt(this,kt,!1);Nt(this,pt,ft._zIndex++);this.constructor===ft&&(0,_.unreachable)("Cannot initialize AnnotationEditor."),this.parent=mt.parent,this.id=mt.id,this.width=this.height=null,this.pageIndex=mt.parent.pageIndex,this.name=mt.name,this.div=null,this._uiManager=mt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=mt.isCentered,this._structTreeParentId=null;const{rotation:St,rawDims:{pageWidth:Ct,pageHeight:Ft,pageX:Lt,pageY:zt}}=this.parent.viewport;this.rotation=St,this.pageRotation=(360+St-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Ct,Ft],this.pageTranslation=[Lt,zt];const[Kt,en]=this.parentDimensions;this.x=mt.x/Kt,this.y=mt.y/en,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,_.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(mt){const St=new _e({id:mt.parent.getNextId(),parent:mt.parent,uiManager:mt._uiManager});St.annotationElementId=mt.annotationElementId,St.deleted=!0,St._uiManager.addToAnnotationStorage(St)}static initialize(mt,St=null){if(ft._l10nPromise||(ft._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ft=>[Ft,mt.get(Ft)]))),St!=null&&St.strings)for(const Ft of St.strings)ft._l10nPromise.set(Ft,mt.get(Ft));if(ft._borderLineWidth!==-1)return;const Ct=getComputedStyle(document.documentElement);ft._borderLineWidth=parseFloat(Ct.getPropertyValue("--outline-width"))||0}static updateDefaultParams(mt,St){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(mt){return!1}static paste(mt,St){(0,_.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return lt(this,kt)}set _isDraggable(mt){var St;tn(this,kt,mt),(St=this.div)==null||St.classList.toggle("draggable",mt)}center(){const[mt,St]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*St/(mt*2),this.y+=this.width*mt/(St*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*St/(mt*2),this.y-=this.width*mt/(St*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(mt){this._uiManager.addCommands(mt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=lt(this,pt)}setParent(mt){mt!==null&&(this.pageIndex=mt.pageIndex,this.pageDimensions=mt.pageDimensions),this.parent=mt}focusin(mt){this._focusEventsAllowed&&(lt(this,it)?tn(this,it,!1):this.parent.setSelected(this))}focusout(mt){var Ct;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const St=mt.relatedTarget;St!=null&&St.closest(`#${this.id}`)||(mt.preventDefault(),(Ct=this.parent)!=null&&Ct.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(mt,St,Ct,Ft){const[Lt,zt]=this.parentDimensions;[Ct,Ft]=this.screenToPageTranslation(Ct,Ft),this.x=(mt+Ct)/Lt,this.y=(St+Ft)/zt,this.fixAndSetPosition()}translate(mt,St){Ht(this,at,Mr).call(this,this.parentDimensions,mt,St)}translateInPage(mt,St){Ht(this,at,Mr).call(this,this.pageDimensions,mt,St),this.div.scrollIntoView({block:"nearest"})}drag(mt,St){const[Ct,Ft]=this.parentDimensions;if(this.x+=mt/Ct,this.y+=St/Ft,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:rn,y:an}=this.div.getBoundingClientRect();this.parent.findNewParent(this,rn,an)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Lt,y:zt}=this;const[Kt,en]=Ht(this,wt,Lr).call(this);Lt+=Kt,zt+=en,this.div.style.left=`${(100*Lt).toFixed(2)}%`,this.div.style.top=`${(100*zt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[mt,St]=this.pageDimensions;let{x:Ct,y:Ft,width:Lt,height:zt}=this;switch(Lt*=mt,zt*=St,Ct*=mt,Ft*=St,this.rotation){case 0:Ct=Math.max(0,Math.min(mt-Lt,Ct)),Ft=Math.max(0,Math.min(St-zt,Ft));break;case 90:Ct=Math.max(0,Math.min(mt-zt,Ct)),Ft=Math.min(St,Math.max(Lt,Ft));break;case 180:Ct=Math.min(mt,Math.max(Lt,Ct)),Ft=Math.min(St,Math.max(zt,Ft));break;case 270:Ct=Math.min(mt,Math.max(zt,Ct)),Ft=Math.max(0,Math.min(St-Lt,Ft));break}this.x=Ct/=mt,this.y=Ft/=St;const[Kt,en]=Ht(this,wt,Lr).call(this);Ct+=Kt,Ft+=en;const{style:rn}=this.div;rn.left=`${(100*Ct).toFixed(2)}%`,rn.top=`${(100*Ft).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(mt,St){var Ct;return Ht(Ct=ft,Et,Ir).call(Ct,mt,St,this.parentRotation)}pageTranslationToScreen(mt,St){var Ct;return Ht(Ct=ft,Et,Ir).call(Ct,mt,St,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:mt,pageDimensions:[St,Ct]}=this,Ft=St*mt,Lt=Ct*mt;return _.FeatureTest.isCSSRoundSupported?[Math.round(Ft),Math.round(Lt)]:[Ft,Lt]}setDims(mt,St){var Lt;const[Ct,Ft]=this.parentDimensions;this.div.style.width=`${(100*mt/Ct).toFixed(2)}%`,lt(this,ot)||(this.div.style.height=`${(100*St/Ft).toFixed(2)}%`),(Lt=lt(this,nt))==null||Lt.classList.toggle("small",mt<ft.SMALL_EDITOR_SIZE||St<ft.SMALL_EDITOR_SIZE)}fixDims(){const{style:mt}=this.div,{height:St,width:Ct}=mt,Ft=Ct.endsWith("%"),Lt=!lt(this,ot)&&St.endsWith("%");if(Ft&&Lt)return;const[zt,Kt]=this.parentDimensions;Ft||(mt.width=`${(100*parseFloat(Ct)/zt).toFixed(2)}%`),!lt(this,ot)&&!Lt&&(mt.height=`${(100*parseFloat(St)/Kt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(lt(this,nt))return;const mt=tn(this,nt,document.createElement("button"));mt.className="altText";const St=await ft._l10nPromise.get("editor_alt_text_button_label");mt.textContent=St,mt.setAttribute("aria-label",St),mt.tabIndex="0",mt.addEventListener("contextmenu",j.noContextMenu),mt.addEventListener("pointerdown",Ct=>Ct.stopPropagation()),mt.addEventListener("click",Ct=>{Ct.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),mt.addEventListener("keydown",Ct=>{Ct.target===mt&&Ct.key==="Enter"&&(Ct.preventDefault(),this._uiManager.editAltText(this))}),Ht(this,Rt,Nr).call(this),this.div.append(mt),ft.SMALL_EDITOR_SIZE||(ft.SMALL_EDITOR_SIZE=Math.min(128,Math.round(mt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:lt(this,et),decorative:lt(this,tt)}}set altTextData({altText:mt,decorative:St}){lt(this,et)===mt&&lt(this,tt)===St||(tn(this,et,mt),tn(this,tt,St),Ht(this,Rt,Nr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",lt(this,dt)),this.div.addEventListener("focusout",lt(this,yt));const[mt,St]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*St/mt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*mt/St).toFixed(2)}%`);const[Ct,Ft]=this.getInitialTranslation();return this.translate(Ct,Ft),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(mt){const{isMac:St}=_.FeatureTest.platform;if(mt.button!==0||mt.ctrlKey&&St){mt.preventDefault();return}tn(this,it,!0),Ht(this,pn,gs).call(this,mt)}moveInDOM(){var mt;(mt=this.parent)==null||mt.moveEditorInDOM(this)}_setParentAndPosition(mt,St,Ct){mt.changeParent(this),this.x=St,this.y=Ct,this.fixAndSetPosition()}getRect(mt,St){const Ct=this.parentScale,[Ft,Lt]=this.pageDimensions,[zt,Kt]=this.pageTranslation,en=mt/Ct,rn=St/Ct,an=this.x*Ft,yn=this.y*Lt,un=this.width*Ft,Cn=this.height*Lt;switch(this.rotation){case 0:return[an+en+zt,Lt-yn-rn-Cn+Kt,an+en+un+zt,Lt-yn-rn+Kt];case 90:return[an+rn+zt,Lt-yn+en+Kt,an+rn+Cn+zt,Lt-yn+en+un+Kt];case 180:return[an-en-un+zt,Lt-yn+rn+Kt,an-en+zt,Lt-yn+rn+Cn+Kt];case 270:return[an-rn-Cn+zt,Lt-yn-en-un+Kt,an-rn+zt,Lt-yn-en+Kt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(mt,St){const[Ct,Ft,Lt,zt]=mt,Kt=Lt-Ct,en=zt-Ft;switch(this.rotation){case 0:return[Ct,St-zt,Kt,en];case 90:return[Ct,St-Ft,en,Kt];case 180:return[Lt,St-Ft,Kt,en];case 270:return[Lt,St-zt,en,Kt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){tn(this,ht,!0)}disableEditMode(){tn(this,ht,!1)}isInEditMode(){return lt(this,ht)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var mt,St;(mt=this.div)==null||mt.addEventListener("focusin",lt(this,dt)),(St=this.div)==null||St.addEventListener("focusout",lt(this,yt))}serialize(mt=!1,St=null){(0,_.unreachable)("An editor must be serializable")}static deserialize(mt,St,Ct){const Ft=new this.prototype.constructor({parent:St,id:St.getNextId(),uiManager:Ct});Ft.rotation=mt.rotation;const[Lt,zt]=Ft.pageDimensions,[Kt,en,rn,an]=Ft.getRectInCurrentCoords(mt.rect,zt);return Ft.x=Kt/Lt,Ft.y=en/zt,Ft.width=rn/Lt,Ft.height=an/zt,Ft}remove(){var mt;this.div.removeEventListener("focusin",lt(this,dt)),this.div.removeEventListener("focusout",lt(this,yt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(mt=lt(this,nt))==null||mt.remove(),tn(this,nt,null),tn(this,rt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ht(this,jt,ps).call(this),lt(this,ut).classList.remove("hidden"))}select(){var mt;this.makeResizable(),(mt=this.div)==null||mt.classList.add("selectedEditor")}unselect(){var mt,St,Ct;(mt=lt(this,ut))==null||mt.classList.add("hidden"),(St=this.div)==null||St.classList.remove("selectedEditor"),(Ct=this.div)!=null&&Ct.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(mt,St){}disableEditing(){lt(this,nt)&&(lt(this,nt).hidden=!0)}enableEditing(){lt(this,nt)&&(lt(this,nt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return lt(this,ct)}set isEditing(mt){tn(this,ct,mt),this.parent&&(mt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(mt,St){tn(this,ot,!0);const Ct=mt/St,{style:Ft}=this.div;Ft.aspectRatio=Ct,Ft.height="auto"}static get MIN_SIZE(){return 16}};et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakMap,ut=new WeakMap,dt=new WeakMap,yt=new WeakMap,it=new WeakMap,ct=new WeakMap,ht=new WeakMap,kt=new WeakMap,pt=new WeakMap,at=new WeakSet,Mr=function([mt,St],Ct,Ft){[Ct,Ft]=this.screenToPageTranslation(Ct,Ft),this.x+=Ct/mt,this.y+=Ft/St,this.fixAndSetPosition()},wt=new WeakSet,Lr=function(){const[mt,St]=this.parentDimensions,{_borderLineWidth:Ct}=ft,Ft=Ct/mt,Lt=Ct/St;switch(this.rotation){case 90:return[-Ft,Lt];case 180:return[Ft,Lt];case 270:return[Ft,-Lt];default:return[-Ft,-Lt]}},Et=new WeakSet,Ir=function(mt,St,Ct){switch(Ct){case 90:return[St,-mt];case 180:return[-mt,-St];case 270:return[-St,mt];default:return[mt,St]}},Mt=new WeakSet,Dr=function(mt){switch(mt){case 90:{const[St,Ct]=this.pageDimensions;return[0,-St/Ct,Ct/St,0]}case 180:return[-1,0,0,-1];case 270:{const[St,Ct]=this.pageDimensions;return[0,St/Ct,-Ct/St,0]}default:return[1,0,0,1]}},jt=new WeakSet,ps=function(){if(lt(this,ut))return;tn(this,ut,document.createElement("div")),lt(this,ut).classList.add("resizers");const mt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||mt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const St of mt){const Ct=document.createElement("div");lt(this,ut).append(Ct),Ct.classList.add("resizer",St),Ct.addEventListener("pointerdown",Ht(this,Xt,fs).bind(this,St)),Ct.addEventListener("contextmenu",j.noContextMenu)}this.div.prepend(lt(this,ut))},Xt=new WeakSet,fs=function(mt,St){St.preventDefault();const{isMac:Ct}=_.FeatureTest.platform;if(St.button!==0||St.ctrlKey&&Ct)return;const Ft=Ht(this,Tt,ms).bind(this,mt),Lt=this._isDraggable;this._isDraggable=!1;const zt={passive:!0,capture:!0};window.addEventListener("pointermove",Ft,zt);const Kt=this.x,en=this.y,rn=this.width,an=this.height,yn=this.parent.div.style.cursor,un=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(St.target).cursor;const Cn=()=>{this._isDraggable=Lt,window.removeEventListener("pointerup",Cn),window.removeEventListener("blur",Cn),window.removeEventListener("pointermove",Ft,zt),this.parent.div.style.cursor=yn,this.div.style.cursor=un;const Dn=this.x,bn=this.y,Pn=this.width,hn=this.height;Dn===Kt&&bn===en&&Pn===rn&&hn===an||this.addCommands({cmd:()=>{this.width=Pn,this.height=hn,this.x=Dn,this.y=bn;const[Qt,Jt]=this.parentDimensions;this.setDims(Qt*Pn,Jt*hn),this.fixAndSetPosition()},undo:()=>{this.width=rn,this.height=an,this.x=Kt,this.y=en;const[Qt,Jt]=this.parentDimensions;this.setDims(Qt*rn,Jt*an),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Cn),window.addEventListener("blur",Cn)},Tt=new WeakSet,ms=function(mt,St){const[Ct,Ft]=this.parentDimensions,Lt=this.x,zt=this.y,Kt=this.width,en=this.height,rn=ft.MIN_SIZE/Ct,an=ft.MIN_SIZE/Ft,yn=mn=>Math.round(mn*1e4)/1e4,un=Ht(this,Mt,Dr).call(this,this.rotation),Cn=(mn,fn)=>[un[0]*mn+un[2]*fn,un[1]*mn+un[3]*fn],Dn=Ht(this,Mt,Dr).call(this,360-this.rotation),bn=(mn,fn)=>[Dn[0]*mn+Dn[2]*fn,Dn[1]*mn+Dn[3]*fn];let Pn,hn,Qt=!1,Jt=!1;switch(mt){case"topLeft":Qt=!0,Pn=(mn,fn)=>[0,0],hn=(mn,fn)=>[mn,fn];break;case"topMiddle":Pn=(mn,fn)=>[mn/2,0],hn=(mn,fn)=>[mn/2,fn];break;case"topRight":Qt=!0,Pn=(mn,fn)=>[mn,0],hn=(mn,fn)=>[0,fn];break;case"middleRight":Jt=!0,Pn=(mn,fn)=>[mn,fn/2],hn=(mn,fn)=>[0,fn/2];break;case"bottomRight":Qt=!0,Pn=(mn,fn)=>[mn,fn],hn=(mn,fn)=>[0,0];break;case"bottomMiddle":Pn=(mn,fn)=>[mn/2,fn],hn=(mn,fn)=>[mn/2,0];break;case"bottomLeft":Qt=!0,Pn=(mn,fn)=>[0,fn],hn=(mn,fn)=>[mn,0];break;case"middleLeft":Jt=!0,Pn=(mn,fn)=>[0,fn/2],hn=(mn,fn)=>[mn,fn/2];break}const ln=Pn(Kt,en),kn=hn(Kt,en);let Ut=Cn(...kn);const on=yn(Lt+Ut[0]),vn=yn(zt+Ut[1]);let _n=1,jn=1,[On,Nn]=this.screenToPageTranslation(St.movementX,St.movementY);if([On,Nn]=bn(On/Ct,Nn/Ft),Qt){const mn=Math.hypot(Kt,en);_n=jn=Math.max(Math.min(Math.hypot(kn[0]-ln[0]-On,kn[1]-ln[1]-Nn)/mn,1/Kt,1/en),rn/Kt,an/en)}else Jt?_n=Math.max(rn,Math.min(1,Math.abs(kn[0]-ln[0]-On)))/Kt:jn=Math.max(an,Math.min(1,Math.abs(kn[1]-ln[1]-Nn)))/en;const Bn=yn(Kt*_n),sn=yn(en*jn);Ut=Cn(...hn(Bn,sn));const qt=on-Ut[0],$t=vn-Ut[1];this.width=Bn,this.height=sn,this.x=qt,this.y=$t,this.setDims(Ct*Bn,Ft*sn),this.fixAndSetPosition()},Rt=new WeakSet,Nr=async function(){var Ct;const mt=lt(this,nt);if(!mt)return;if(!lt(this,et)&&!lt(this,tt)){mt.classList.remove("done"),(Ct=lt(this,rt))==null||Ct.remove();return}ft._l10nPromise.get("editor_alt_text_edit_button_label").then(Ft=>{mt.setAttribute("aria-label",Ft)});let St=lt(this,rt);if(!St){tn(this,rt,St=document.createElement("span")),St.className="tooltip",St.setAttribute("role","tooltip");const Ft=St.id=`alt-text-tooltip-${this.id}`;mt.setAttribute("aria-describedby",Ft);const Lt=100;mt.addEventListener("mouseenter",()=>{tn(this,st,setTimeout(()=>{tn(this,st,null),lt(this,rt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Lt))}),mt.addEventListener("mouseleave",()=>{var zt;clearTimeout(lt(this,st)),tn(this,st,null),(zt=lt(this,rt))==null||zt.classList.remove("show")})}mt.classList.add("done"),St.innerText=lt(this,tt)?await ft._l10nPromise.get("editor_alt_text_decorative_tooltip"):lt(this,et),St.parentNode||mt.append(St)},pn=new WeakSet,gs=function(mt){if(!this._isDraggable)return;const St=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Ct,Ft;St&&(Ct={passive:!0,capture:!0},Ft=zt=>{const[Kt,en]=this.screenToPageTranslation(zt.movementX,zt.movementY);this._uiManager.dragSelectedEditors(Kt,en)},window.addEventListener("pointermove",Ft,Ct));const Lt=()=>{if(window.removeEventListener("pointerup",Lt),window.removeEventListener("blur",Lt),St&&window.removeEventListener("pointermove",Ft,Ct),tn(this,it,!1),!this._uiManager.endDragSession()){const{isMac:zt}=_.FeatureTest.platform;mt.ctrlKey&&!zt||mt.shiftKey||mt.metaKey&&zt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Lt),window.addEventListener("blur",Lt)},Nt(ft,Et),Yn(ft,"_borderLineWidth",-1),Yn(ft,"_colorManager",new a.ColorManager),Yn(ft,"_zIndex",1),Yn(ft,"SMALL_EDITOR_SIZE",0);let $=ft;s.AnnotationEditor=$;class _e extends ${constructor(mt){super(mt),this.annotationElementId=mt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(i,s,o)=>{var ot,ut,dt,yt,it,Or,kt,pt,at,At,wt,xs,_t,Mt,Ot,jt,Bt,Xt,Zt,Tt,Wt,Rt,dn,pn,xt,ft,vt,mt,St,Ct,Ft,Lt,zt,Kt,en,rn,an,yn,un,Cn,Dn,bn,Pn,hn,Qt,Jt,ln,ys,Ut,zr,vn,Br,jn,br,Nn,$r,sn,Vr,$t,Zn,fn,cr,Xn,bs,wn,vs,En,Ur,In,dr,xn,Hr;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=j,s.opacityToHex=$;var a=o(1),_=o(6);function j(It,gt,Pt){for(const Dt of Pt)gt.addEventListener(Dt,It[Dt].bind(It))}function $(It){return Math.round(Math.min(255,Math.max(1,255*It))).toString(16).padStart(2,"0")}class _e{constructor(){Nt(this,ot,0)}getId(){return`${a.AnnotationEditorPrefix}${ur(this,ot)._++}`}}ot=new WeakMap;const ht=class ht{constructor(){Nt(this,it);Nt(this,ut,(0,a.getUuid)());Nt(this,dt,0);Nt(this,yt,null)}static get _isSVGFittingCanvas(){const gt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Dt=new OffscreenCanvas(1,3).getContext("2d"),Vt=new Image;Vt.src=gt;const Gt=Vt.decode().then(()=>(Dt.drawImage(Vt,0,0,1,1,0,0,1,3),new Uint32Array(Dt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",Gt)}async getFromFile(gt){const{lastModified:Pt,name:Dt,size:Vt,type:Gt}=gt;return Ht(this,it,Or).call(this,`${Pt}_${Dt}_${Vt}_${Gt}`,gt)}async getFromUrl(gt){return Ht(this,it,Or).call(this,gt,gt)}async getFromId(gt){lt(this,yt)||tn(this,yt,new Map);const Pt=lt(this,yt).get(gt);return Pt?Pt.bitmap?(Pt.refCounter+=1,Pt):Pt.file?this.getFromFile(Pt.file):this.getFromUrl(Pt.url):null}getSvgUrl(gt){const Pt=lt(this,yt).get(gt);return Pt!=null&&Pt.isSvg?Pt.svgUrl:null}deleteId(gt){lt(this,yt)||tn(this,yt,new Map);const Pt=lt(this,yt).get(gt);Pt&&(Pt.refCounter-=1,Pt.refCounter===0&&(Pt.bitmap=null))}isValidId(gt){return gt.startsWith(`image_${lt(this,ut)}_`)}};ut=new WeakMap,dt=new WeakMap,yt=new WeakMap,it=new WeakSet,Or=async function(gt,Pt){lt(this,yt)||tn(this,yt,new Map);let Dt=lt(this,yt).get(gt);if(Dt===null)return null;if(Dt!=null&&Dt.bitmap)return Dt.refCounter+=1,Dt;try{Dt||(Dt={bitmap:null,id:`image_${lt(this,ut)}_${ur(this,dt)._++}`,refCounter:0,isSvg:!1});let Vt;if(typeof Pt=="string"){Dt.url=Pt;const Gt=await fetch(Pt);if(!Gt.ok)throw new Error(Gt.statusText);Vt=await Gt.blob()}else Vt=Dt.file=Pt;if(Vt.type==="image/svg+xml"){const Gt=ht._isSVGFittingCanvas,nn=new FileReader,gn=new Image,An=new Promise((Sn,$n)=>{gn.onload=()=>{Dt.bitmap=gn,Dt.isSvg=!0,Sn()},nn.onload=async()=>{const Rn=Dt.svgUrl=nn.result;gn.src=await Gt?`${Rn}#svgView(preserveAspectRatio(none))`:Rn},gn.onerror=nn.onerror=$n});nn.readAsDataURL(Vt),await An}else Dt.bitmap=await createImageBitmap(Vt);Dt.refCounter=1}catch(Vt){console.error(Vt),Dt=null}return lt(this,yt).set(gt,Dt),Dt&&lt(this,yt).set(Dt.id,Dt),Dt};let et=ht;class tt{constructor(gt=128){Nt(this,kt,[]);Nt(this,pt,!1);Nt(this,at,void 0);Nt(this,At,-1);tn(this,at,gt)}add({cmd:gt,undo:Pt,mustExec:Dt,type:Vt=NaN,overwriteIfSameType:Gt=!1,keepUndo:nn=!1}){if(Dt&&gt(),lt(this,pt))return;const gn={cmd:gt,undo:Pt,type:Vt};if(lt(this,At)===-1){lt(this,kt).length>0&&(lt(this,kt).length=0),tn(this,At,0),lt(this,kt).push(gn);return}if(Gt&&lt(this,kt)[lt(this,At)].type===Vt){nn&&(gn.undo=lt(this,kt)[lt(this,At)].undo),lt(this,kt)[lt(this,At)]=gn;return}const An=lt(this,At)+1;An===lt(this,at)?lt(this,kt).splice(0,1):(tn(this,At,An),An<lt(this,kt).length&&lt(this,kt).splice(An)),lt(this,kt).push(gn)}undo(){lt(this,At)!==-1&&(tn(this,pt,!0),lt(this,kt)[lt(this,At)].undo(),tn(this,pt,!1),tn(this,At,lt(this,At)-1))}redo(){lt(this,At)<lt(this,kt).length-1&&(tn(this,At,lt(this,At)+1),tn(this,pt,!0),lt(this,kt)[lt(this,At)].cmd(),tn(this,pt,!1))}hasSomethingToUndo(){return lt(this,At)!==-1}hasSomethingToRedo(){return lt(this,At)<lt(this,kt).length-1}destroy(){tn(this,kt,null)}}kt=new WeakMap,pt=new WeakMap,at=new WeakMap,At=new WeakMap,s.CommandManager=tt;class nt{constructor(gt){Nt(this,wt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Pt}=a.FeatureTest.platform;for(const[Dt,Vt,Gt={}]of gt)for(const nn of Dt){const gn=nn.startsWith("mac+");Pt&&gn?(this.callbacks.set(nn.slice(4),{callback:Vt,options:Gt}),this.allKeys.add(nn.split("+").at(-1))):!Pt&&!gn&&(this.callbacks.set(nn,{callback:Vt,options:Gt}),this.allKeys.add(nn.split("+").at(-1)))}}exec(gt,Pt){if(!this.allKeys.has(Pt.key))return;const Dt=this.callbacks.get(Ht(this,wt,xs).call(this,Pt));if(!Dt)return;const{callback:Vt,options:{bubbles:Gt=!1,args:nn=[],checker:gn=null}}=Dt;gn&&!gn(gt,Pt)||(Vt.bind(gt,...nn)(),Gt||(Pt.stopPropagation(),Pt.preventDefault()))}}wt=new WeakSet,xs=function(gt){gt.altKey&&this.buffer.push("alt"),gt.ctrlKey&&this.buffer.push("ctrl"),gt.metaKey&&this.buffer.push("meta"),gt.shiftKey&&this.buffer.push("shift"),this.buffer.push(gt.key);const Pt=this.buffer.join("+");return this.buffer.length=0,Pt},s.KeyboardManager=nt;const Et=class Et{get _colors(){const gt=new Map([["CanvasText",null],["Canvas",null]]);return(0,_.getColorValues)(gt),(0,a.shadow)(this,"_colors",gt)}convert(gt){const Pt=(0,_.getRGB)(gt);if(!window.matchMedia("(forced-colors: active)").matches)return Pt;for(const[Dt,Vt]of this._colors)if(Vt.every((Gt,nn)=>Gt===Pt[nn]))return Et._colorsMapping.get(Dt);return Pt}getHexCode(gt){const Pt=this._colors.get(gt);return Pt?a.Util.makeHexColor(...Pt):gt}};Yn(Et,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let rt=Et;s.ColorManager=rt;const Fn=class Fn{constructor(gt,Pt,Dt,Vt,Gt,nn){Nt(this,ln);Nt(this,Ut);Nt(this,vn);Nt(this,jn);Nt(this,Nn);Nt(this,sn);Nt(this,$t);Nt(this,fn);Nt(this,Xn);Nt(this,wn);Nt(this,En);Nt(this,In);Nt(this,xn);Nt(this,_t,null);Nt(this,Mt,new Map);Nt(this,Ot,new Map);Nt(this,jt,null);Nt(this,Bt,null);Nt(this,Xt,new tt);Nt(this,Zt,0);Nt(this,Tt,new Set);Nt(this,Wt,null);Nt(this,Rt,null);Nt(this,dn,new Set);Nt(this,pn,null);Nt(this,xt,new _e);Nt(this,ft,!1);Nt(this,vt,!1);Nt(this,mt,null);Nt(this,St,a.AnnotationEditorType.NONE);Nt(this,Ct,new Set);Nt(this,Ft,null);Nt(this,Lt,this.blur.bind(this));Nt(this,zt,this.focus.bind(this));Nt(this,Kt,this.copy.bind(this));Nt(this,en,this.cut.bind(this));Nt(this,rn,this.paste.bind(this));Nt(this,an,this.keydown.bind(this));Nt(this,yn,this.onEditingAction.bind(this));Nt(this,un,this.onPageChanging.bind(this));Nt(this,Cn,this.onScaleChanging.bind(this));Nt(this,Dn,this.onRotationChanging.bind(this));Nt(this,bn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Nt(this,Pn,[0,0]);Nt(this,hn,null);Nt(this,Qt,null);Nt(this,Jt,null);tn(this,Qt,gt),tn(this,Jt,Pt),tn(this,jt,Dt),this._eventBus=Vt,this._eventBus._on("editingaction",lt(this,yn)),this._eventBus._on("pagechanging",lt(this,un)),this._eventBus._on("scalechanging",lt(this,Cn)),this._eventBus._on("rotationchanging",lt(this,Dn)),tn(this,Bt,Gt.annotationStorage),tn(this,pn,Gt.filterFactory),tn(this,Ft,nn),this.viewParameters={realScale:_.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const gt=Fn.prototype,Pt=Gt=>{const{activeElement:nn}=document;return nn&&lt(Gt,Qt).contains(nn)&&Gt.hasSomethingToControl()},Dt=this.TRANSLATE_SMALL,Vt=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new nt([[["ctrl+a","mac+meta+a"],gt.selectAll],[["ctrl+z","mac+meta+z"],gt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],gt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],gt.delete],[["Escape","mac+Escape"],gt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],gt.translateSelectedEditors,{args:[-Dt,0],checker:Pt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],gt.translateSelectedEditors,{args:[-Vt,0],checker:Pt}],[["ArrowRight","mac+ArrowRight"],gt.translateSelectedEditors,{args:[Dt,0],checker:Pt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],gt.translateSelectedEditors,{args:[Vt,0],checker:Pt}],[["ArrowUp","mac+ArrowUp"],gt.translateSelectedEditors,{args:[0,-Dt],checker:Pt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],gt.translateSelectedEditors,{args:[0,-Vt],checker:Pt}],[["ArrowDown","mac+ArrowDown"],gt.translateSelectedEditors,{args:[0,Dt],checker:Pt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],gt.translateSelectedEditors,{args:[0,Vt],checker:Pt}]]))}destroy(){Ht(this,jn,br).call(this),Ht(this,Ut,zr).call(this),this._eventBus._off("editingaction",lt(this,yn)),this._eventBus._off("pagechanging",lt(this,un)),this._eventBus._off("scalechanging",lt(this,Cn)),this._eventBus._off("rotationchanging",lt(this,Dn));for(const gt of lt(this,Ot).values())gt.destroy();lt(this,Ot).clear(),lt(this,Mt).clear(),lt(this,dn).clear(),tn(this,_t,null),lt(this,Ct).clear(),lt(this,Xt).destroy(),lt(this,jt).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",lt(this,Ft)?lt(this,pn).addHCMFilter(lt(this,Ft).foreground,lt(this,Ft).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(lt(this,Qt)).direction)}editAltText(gt){var Pt;(Pt=lt(this,jt))==null||Pt.editAltText(this,gt)}onPageChanging({pageNumber:gt}){tn(this,Zt,gt-1)}focusMainContainer(){lt(this,Qt).focus()}findParent(gt,Pt){for(const Dt of lt(this,Ot).values()){const{x:Vt,y:Gt,width:nn,height:gn}=Dt.div.getBoundingClientRect();if(gt>=Vt&&gt<=Vt+nn&&Pt>=Gt&&Pt<=Gt+gn)return Dt}return null}disableUserSelect(gt=!1){lt(this,Jt).classList.toggle("noUserSelect",gt)}addShouldRescale(gt){lt(this,dn).add(gt)}removeShouldRescale(gt){lt(this,dn).delete(gt)}onScaleChanging({scale:gt}){this.commitOrRemove(),this.viewParameters.realScale=gt*_.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Pt of lt(this,dn))Pt.onScaleChanging()}onRotationChanging({pagesRotation:gt}){this.commitOrRemove(),this.viewParameters.rotation=gt}addToAnnotationStorage(gt){!gt.isEmpty()&&lt(this,Bt)&&!lt(this,Bt).has(gt.id)&&lt(this,Bt).setValue(gt.id,gt)}blur(){if(!this.hasSelection)return;const{activeElement:gt}=document;for(const Pt of lt(this,Ct))if(Pt.div.contains(gt)){tn(this,mt,[Pt,gt]),Pt._focusEventsAllowed=!1;break}}focus(){if(!lt(this,mt))return;const[gt,Pt]=lt(this,mt);tn(this,mt,null),Pt.addEventListener("focusin",()=>{gt._focusEventsAllowed=!0},{once:!0}),Pt.focus()}addEditListeners(){Ht(this,vn,Br).call(this),Ht(this,Nn,$r).call(this)}removeEditListeners(){Ht(this,jn,br).call(this),Ht(this,sn,Vr).call(this)}copy(gt){var Dt;if(gt.preventDefault(),(Dt=lt(this,_t))==null||Dt.commitOrRemove(),!this.hasSelection)return;const Pt=[];for(const Vt of lt(this,Ct)){const Gt=Vt.serialize(!0);Gt&&Pt.push(Gt)}Pt.length!==0&&gt.clipboardData.setData("application/pdfjs",JSON.stringify(Pt))}cut(gt){this.copy(gt),this.delete()}paste(gt){gt.preventDefault();const{clipboardData:Pt}=gt;for(const Gt of Pt.items)for(const nn of lt(this,Rt))if(nn.isHandlingMimeForPasting(Gt.type)){nn.paste(Gt,this.currentLayer);return}let Dt=Pt.getData("application/pdfjs");if(!Dt)return;try{Dt=JSON.parse(Dt)}catch(Gt){(0,a.warn)(`paste: "${Gt.message}".`);return}if(!Array.isArray(Dt))return;this.unselectAll();const Vt=this.currentLayer;try{const Gt=[];for(const An of Dt){const Sn=Vt.deserialize(An);if(!Sn)return;Gt.push(Sn)}const nn=()=>{for(const An of Gt)Ht(this,En,Ur).call(this,An);Ht(this,xn,Hr).call(this,Gt)},gn=()=>{for(const An of Gt)An.remove()};this.addCommands({cmd:nn,undo:gn,mustExec:!0})}catch(Gt){(0,a.warn)(`paste: "${Gt.message}".`)}}keydown(gt){var Pt;(Pt=this.getActive())!=null&&Pt.shouldGetKeyboardEvents()||Fn._keyboardManager.exec(this,gt)}onEditingAction(gt){["undo","redo","delete","selectAll"].includes(gt.name)&&this[gt.name]()}setEditingState(gt){gt?(Ht(this,ln,ys).call(this),Ht(this,vn,Br).call(this),Ht(this,Nn,$r).call(this),Ht(this,$t,Zn).call(this,{isEditing:lt(this,St)!==a.AnnotationEditorType.NONE,isEmpty:Ht(this,In,dr).call(this),hasSomethingToUndo:lt(this,Xt).hasSomethingToUndo(),hasSomethingToRedo:lt(this,Xt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ht(this,Ut,zr).call(this),Ht(this,jn,br).call(this),Ht(this,sn,Vr).call(this),Ht(this,$t,Zn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(gt){if(!lt(this,Rt)){tn(this,Rt,gt);for(const Pt of lt(this,Rt))Ht(this,fn,cr).call(this,Pt.defaultPropertiesToUpdate)}}getId(){return lt(this,xt).getId()}get currentLayer(){return lt(this,Ot).get(lt(this,Zt))}getLayer(gt){return lt(this,Ot).get(gt)}get currentPageIndex(){return lt(this,Zt)}addLayer(gt){lt(this,Ot).set(gt.pageIndex,gt),lt(this,ft)?gt.enable():gt.disable()}removeLayer(gt){lt(this,Ot).delete(gt.pageIndex)}updateMode(gt,Pt=null){if(lt(this,St)!==gt){if(tn(this,St,gt),gt===a.AnnotationEditorType.NONE){this.setEditingState(!1),Ht(this,wn,vs).call(this);return}this.setEditingState(!0),Ht(this,Xn,bs).call(this),this.unselectAll();for(const Dt of lt(this,Ot).values())Dt.updateMode(gt);if(Pt){for(const Dt of lt(this,Mt).values())if(Dt.annotationElementId===Pt){this.setSelected(Dt),Dt.enterInEditMode();break}}}}updateToolbar(gt){gt!==lt(this,St)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:gt})}updateParams(gt,Pt){if(lt(this,Rt)){if(gt===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(gt);return}for(const Dt of lt(this,Ct))Dt.updateParams(gt,Pt);for(const Dt of lt(this,Rt))Dt.updateDefaultParams(gt,Pt)}}enableWaiting(gt=!1){if(lt(this,vt)!==gt){tn(this,vt,gt);for(const Pt of lt(this,Ot).values())gt?Pt.disableClick():Pt.enableClick(),Pt.div.classList.toggle("waiting",gt)}}getEditors(gt){const Pt=[];for(const Dt of lt(this,Mt).values())Dt.pageIndex===gt&&Pt.push(Dt);return Pt}getEditor(gt){return lt(this,Mt).get(gt)}addEditor(gt){lt(this,Mt).set(gt.id,gt)}removeEditor(gt){var Pt;lt(this,Mt).delete(gt.id),this.unselect(gt),(!gt.annotationElementId||!lt(this,Tt).has(gt.annotationElementId))&&((Pt=lt(this,Bt))==null||Pt.remove(gt.id))}addDeletedAnnotationElement(gt){lt(this,Tt).add(gt.annotationElementId),gt.deleted=!0}isDeletedAnnotationElement(gt){return lt(this,Tt).has(gt)}removeDeletedAnnotationElement(gt){lt(this,Tt).delete(gt.annotationElementId),gt.deleted=!1}setActiveEditor(gt){lt(this,_t)!==gt&&(tn(this,_t,gt),gt&&Ht(this,fn,cr).call(this,gt.propertiesToUpdate))}toggleSelected(gt){if(lt(this,Ct).has(gt)){lt(this,Ct).delete(gt),gt.unselect(),Ht(this,$t,Zn).call(this,{hasSelectedEditor:this.hasSelection});return}lt(this,Ct).add(gt),gt.select(),Ht(this,fn,cr).call(this,gt.propertiesToUpdate),Ht(this,$t,Zn).call(this,{hasSelectedEditor:!0})}setSelected(gt){for(const Pt of lt(this,Ct))Pt!==gt&&Pt.unselect();lt(this,Ct).clear(),lt(this,Ct).add(gt),gt.select(),Ht(this,fn,cr).call(this,gt.propertiesToUpdate),Ht(this,$t,Zn).call(this,{hasSelectedEditor:!0})}isSelected(gt){return lt(this,Ct).has(gt)}unselect(gt){gt.unselect(),lt(this,Ct).delete(gt),Ht(this,$t,Zn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return lt(this,Ct).size!==0}undo(){lt(this,Xt).undo(),Ht(this,$t,Zn).call(this,{hasSomethingToUndo:lt(this,Xt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ht(this,In,dr).call(this)})}redo(){lt(this,Xt).redo(),Ht(this,$t,Zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:lt(this,Xt).hasSomethingToRedo(),isEmpty:Ht(this,In,dr).call(this)})}addCommands(gt){lt(this,Xt).add(gt),Ht(this,$t,Zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ht(this,In,dr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const gt=[...lt(this,Ct)],Pt=()=>{for(const Vt of gt)Vt.remove()},Dt=()=>{for(const Vt of gt)Ht(this,En,Ur).call(this,Vt)};this.addCommands({cmd:Pt,undo:Dt,mustExec:!0})}commitOrRemove(){var gt;(gt=lt(this,_t))==null||gt.commitOrRemove()}hasSomethingToControl(){return lt(this,_t)||this.hasSelection}selectAll(){for(const gt of lt(this,Ct))gt.commit();Ht(this,xn,Hr).call(this,lt(this,Mt).values())}unselectAll(){if(lt(this,_t)){lt(this,_t).commitOrRemove();return}if(this.hasSelection){for(const gt of lt(this,Ct))gt.unselect();lt(this,Ct).clear(),Ht(this,$t,Zn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(gt,Pt,Dt=!1){if(Dt||this.commitOrRemove(),!this.hasSelection)return;lt(this,Pn)[0]+=gt,lt(this,Pn)[1]+=Pt;const[Vt,Gt]=lt(this,Pn),nn=[...lt(this,Ct)],gn=1e3;lt(this,hn)&&clearTimeout(lt(this,hn)),tn(this,hn,setTimeout(()=>{tn(this,hn,null),lt(this,Pn)[0]=lt(this,Pn)[1]=0,this.addCommands({cmd:()=>{for(const An of nn)lt(this,Mt).has(An.id)&&An.translateInPage(Vt,Gt)},undo:()=>{for(const An of nn)lt(this,Mt).has(An.id)&&An.translateInPage(-Vt,-Gt)},mustExec:!1})},gn));for(const An of nn)An.translateInPage(gt,Pt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),tn(this,Wt,new Map);for(const gt of lt(this,Ct))lt(this,Wt).set(gt,{savedX:gt.x,savedY:gt.y,savedPageIndex:gt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!lt(this,Wt))return!1;this.disableUserSelect(!1);const gt=lt(this,Wt);tn(this,Wt,null);let Pt=!1;for(const[{x:Vt,y:Gt,pageIndex:nn},gn]of gt)gn.newX=Vt,gn.newY=Gt,gn.newPageIndex=nn,Pt||(Pt=Vt!==gn.savedX||Gt!==gn.savedY||nn!==gn.savedPageIndex);if(!Pt)return!1;const Dt=(Vt,Gt,nn,gn)=>{if(lt(this,Mt).has(Vt.id)){const An=lt(this,Ot).get(gn);An?Vt._setParentAndPosition(An,Gt,nn):(Vt.pageIndex=gn,Vt.x=Gt,Vt.y=nn)}};return this.addCommands({cmd:()=>{for(const[Vt,{newX:Gt,newY:nn,newPageIndex:gn}]of gt)Dt(Vt,Gt,nn,gn)},undo:()=>{for(const[Vt,{savedX:Gt,savedY:nn,savedPageIndex:gn}]of gt)Dt(Vt,Gt,nn,gn)},mustExec:!0}),!0}dragSelectedEditors(gt,Pt){if(lt(this,Wt))for(const Dt of lt(this,Wt).keys())Dt.drag(gt,Pt)}rebuild(gt){if(gt.parent===null){const Pt=this.getLayer(gt.pageIndex);Pt?(Pt.changeParent(gt),Pt.addOrRebuild(gt)):(this.addEditor(gt),this.addToAnnotationStorage(gt),gt.rebuild())}else gt.parent.addOrRebuild(gt)}isActive(gt){return lt(this,_t)===gt}getActive(){return lt(this,_t)}getMode(){return lt(this,St)}get imageManager(){return(0,a.shadow)(this,"imageManager",new et)}};_t=new WeakMap,Mt=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Bt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,Tt=new WeakMap,Wt=new WeakMap,Rt=new WeakMap,dn=new WeakMap,pn=new WeakMap,xt=new WeakMap,ft=new WeakMap,vt=new WeakMap,mt=new WeakMap,St=new WeakMap,Ct=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,zt=new WeakMap,Kt=new WeakMap,en=new WeakMap,rn=new WeakMap,an=new WeakMap,yn=new WeakMap,un=new WeakMap,Cn=new WeakMap,Dn=new WeakMap,bn=new WeakMap,Pn=new WeakMap,hn=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,ln=new WeakSet,ys=function(){window.addEventListener("focus",lt(this,zt)),window.addEventListener("blur",lt(this,Lt))},Ut=new WeakSet,zr=function(){window.removeEventListener("focus",lt(this,zt)),window.removeEventListener("blur",lt(this,Lt))},vn=new WeakSet,Br=function(){window.addEventListener("keydown",lt(this,an),{capture:!0})},jn=new WeakSet,br=function(){window.removeEventListener("keydown",lt(this,an),{capture:!0})},Nn=new WeakSet,$r=function(){document.addEventListener("copy",lt(this,Kt)),document.addEventListener("cut",lt(this,en)),document.addEventListener("paste",lt(this,rn))},sn=new WeakSet,Vr=function(){document.removeEventListener("copy",lt(this,Kt)),document.removeEventListener("cut",lt(this,en)),document.removeEventListener("paste",lt(this,rn))},$t=new WeakSet,Zn=function(gt){Object.entries(gt).some(([Dt,Vt])=>lt(this,bn)[Dt]!==Vt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(lt(this,bn),gt)})},fn=new WeakSet,cr=function(gt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:gt})},Xn=new WeakSet,bs=function(){if(!lt(this,ft)){tn(this,ft,!0);for(const gt of lt(this,Ot).values())gt.enable()}},wn=new WeakSet,vs=function(){if(this.unselectAll(),lt(this,ft)){tn(this,ft,!1);for(const gt of lt(this,Ot).values())gt.disable()}},En=new WeakSet,Ur=function(gt){const Pt=lt(this,Ot).get(gt.pageIndex);Pt?Pt.addOrRebuild(gt):this.addEditor(gt)},In=new WeakSet,dr=function(){if(lt(this,Mt).size===0)return!0;if(lt(this,Mt).size===1)for(const gt of lt(this,Mt).values())return gt.isEmpty();return!1},xn=new WeakSet,Hr=function(gt){lt(this,Ct).clear();for(const Pt of gt)Pt.isEmpty()||(lt(this,Ct).add(Pt),Pt.select());Ht(this,$t,Zn).call(this,{hasSelectedEditor:!0})},Yn(Fn,"TRANSLATE_SMALL",1),Yn(Fn,"TRANSLATE_BIG",10);let st=Fn;s.AnnotationEditorUIManager=st},(i,s,o)=>{var Zt,Tt,Wt,Rt,dn,pn,xt,ft,vt,mt,St,Ct,sr,Lt,or,Kt,Wr,rn,vr,yn,wr,Cn,hr,bn,pr;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=At,s.getColorValues=Mt,s.getCurrentTransform=Ot,s.getCurrentTransformInverse=jt,s.getFilenameFromUrl=it,s.getPdfFilenameFromUrl=ct,s.getRGB=_t,s.getXfaPageViewport=Et,s.isDataScheme=dt,s.isPdfFile=yt,s.isValidFetchUrl=kt,s.loadScript=at,s.noContextMenu=pt,s.setLayerDimensions=Bt;var a=o(7),_=o(1);const j="http://www.w3.org/2000/svg",Xt=class Xt{};Yn(Xt,"CSS",96),Yn(Xt,"PDF",72),Yn(Xt,"PDF_TO_CSS_UNITS",Xt.CSS/Xt.PDF);let $=Xt;s.PixelsPerInch=$;class _e extends a.BaseFilterFactory{constructor({docId:Jt,ownerDocument:ln=globalThis.document}={}){super();Nt(this,Ct);Nt(this,Lt);Nt(this,Kt);Nt(this,rn);Nt(this,yn);Nt(this,Cn);Nt(this,bn);Nt(this,Zt,void 0);Nt(this,Tt,void 0);Nt(this,Wt,void 0);Nt(this,Rt,void 0);Nt(this,dn,void 0);Nt(this,pn,void 0);Nt(this,xt,void 0);Nt(this,ft,void 0);Nt(this,vt,void 0);Nt(this,mt,void 0);Nt(this,St,0);tn(this,Wt,Jt),tn(this,Rt,ln)}addFilter(Jt){if(!Jt)return"none";let ln=lt(this,Ct,sr).get(Jt);if(ln)return ln;let kn,Ut,on,vn;if(Jt.length===1){const Nn=Jt[0],Bn=new Array(256);for(let sn=0;sn<256;sn++)Bn[sn]=Nn[sn]/255;vn=kn=Ut=on=Bn.join(",")}else{const[Nn,Bn,sn]=Jt,qt=new Array(256),$t=new Array(256),mn=new Array(256);for(let fn=0;fn<256;fn++)qt[fn]=Nn[fn]/255,$t[fn]=Bn[fn]/255,mn[fn]=sn[fn]/255;kn=qt.join(","),Ut=$t.join(","),on=mn.join(","),vn=`${kn}${Ut}${on}`}if(ln=lt(this,Ct,sr).get(vn),ln)return lt(this,Ct,sr).set(Jt,ln),ln;const _n=`g_${lt(this,Wt)}_transfer_map_${ur(this,St)._++}`,jn=`url(#${_n})`;lt(this,Ct,sr).set(Jt,jn),lt(this,Ct,sr).set(vn,jn);const On=Ht(this,rn,vr).call(this,_n);return Ht(this,Cn,hr).call(this,kn,Ut,on,On),jn}addHCMFilter(Jt,ln){var Bn;const kn=`${Jt}-${ln}`;if(lt(this,pn)===kn)return lt(this,xt);if(tn(this,pn,kn),tn(this,xt,"none"),(Bn=lt(this,dn))==null||Bn.remove(),!Jt||!ln)return lt(this,xt);const Ut=Ht(this,bn,pr).call(this,Jt);Jt=_.Util.makeHexColor(...Ut);const on=Ht(this,bn,pr).call(this,ln);if(ln=_.Util.makeHexColor(...on),lt(this,Lt,or).style.color="",Jt==="#000000"&&ln==="#ffffff"||Jt===ln)return lt(this,xt);const vn=new Array(256);for(let sn=0;sn<=255;sn++){const qt=sn/255;vn[sn]=qt<=.03928?qt/12.92:((qt+.055)/1.055)**2.4}const _n=vn.join(","),jn=`g_${lt(this,Wt)}_hcm_filter`,On=tn(this,ft,Ht(this,rn,vr).call(this,jn));Ht(this,Cn,hr).call(this,_n,_n,_n,On),Ht(this,Kt,Wr).call(this,On);const Nn=(sn,qt)=>{const $t=Ut[sn]/255,mn=on[sn]/255,fn=new Array(qt+1);for(let qn=0;qn<=qt;qn++)fn[qn]=$t+qn/qt*(mn-$t);return fn.join(",")};return Ht(this,Cn,hr).call(this,Nn(0,5),Nn(1,5),Nn(2,5),On),tn(this,xt,`url(#${jn})`),lt(this,xt)}addHighlightHCMFilter(Jt,ln,kn,Ut){var mn;const on=`${Jt}-${ln}-${kn}-${Ut}`;if(lt(this,vt)===on)return lt(this,mt);if(tn(this,vt,on),tn(this,mt,"none"),(mn=lt(this,ft))==null||mn.remove(),!Jt||!ln)return lt(this,mt);const[vn,_n]=[Jt,ln].map(Ht(this,bn,pr).bind(this));let jn=Math.round(.2126*vn[0]+.7152*vn[1]+.0722*vn[2]),On=Math.round(.2126*_n[0]+.7152*_n[1]+.0722*_n[2]),[Nn,Bn]=[kn,Ut].map(Ht(this,bn,pr).bind(this));On<jn&&([jn,On,Nn,Bn]=[On,jn,Bn,Nn]),lt(this,Lt,or).style.color="";const sn=(fn,qn,Xn)=>{const Yt=new Array(256),wn=(On-jn)/Xn,Mn=fn/255,En=(qn-fn)/(255*Xn);let Ln=0;for(let In=0;In<=Xn;In++){const Wn=Math.round(jn+In*wn),xn=Mn+In*En;for(let Un=Ln;Un<=Wn;Un++)Yt[Un]=xn;Ln=Wn+1}for(let In=Ln;In<256;In++)Yt[In]=Yt[Ln-1];return Yt.join(",")},qt=`g_${lt(this,Wt)}_hcm_highlight_filter`,$t=tn(this,ft,Ht(this,rn,vr).call(this,qt));return Ht(this,Kt,Wr).call(this,$t),Ht(this,Cn,hr).call(this,sn(Nn[0],Bn[0],5),sn(Nn[1],Bn[1],5),sn(Nn[2],Bn[2],5),$t),tn(this,mt,`url(#${qt})`),lt(this,mt)}destroy(Jt=!1){Jt&&(lt(this,xt)||lt(this,mt))||(lt(this,Tt)&&(lt(this,Tt).parentNode.parentNode.remove(),tn(this,Tt,null)),lt(this,Zt)&&(lt(this,Zt).clear(),tn(this,Zt,null)),tn(this,St,0))}}Zt=new WeakMap,Tt=new WeakMap,Wt=new WeakMap,Rt=new WeakMap,dn=new WeakMap,pn=new WeakMap,xt=new WeakMap,ft=new WeakMap,vt=new WeakMap,mt=new WeakMap,St=new WeakMap,Ct=new WeakSet,sr=function(){return lt(this,Zt)||tn(this,Zt,new Map)},Lt=new WeakSet,or=function(){if(!lt(this,Tt)){const Jt=lt(this,Rt).createElement("div"),{style:ln}=Jt;ln.visibility="hidden",ln.contain="strict",ln.width=ln.height=0,ln.position="absolute",ln.top=ln.left=0,ln.zIndex=-1;const kn=lt(this,Rt).createElementNS(j,"svg");kn.setAttribute("width",0),kn.setAttribute("height",0),tn(this,Tt,lt(this,Rt).createElementNS(j,"defs")),Jt.append(kn),kn.append(lt(this,Tt)),lt(this,Rt).body.append(Jt)}return lt(this,Tt)},Kt=new WeakSet,Wr=function(Jt){const ln=lt(this,Rt).createElementNS(j,"feColorMatrix");ln.setAttribute("type","matrix"),ln.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Jt.append(ln)},rn=new WeakSet,vr=function(Jt){const ln=lt(this,Rt).createElementNS(j,"filter");return ln.setAttribute("color-interpolation-filters","sRGB"),ln.setAttribute("id",Jt),lt(this,Lt,or).append(ln),ln},yn=new WeakSet,wr=function(Jt,ln,kn){const Ut=lt(this,Rt).createElementNS(j,ln);Ut.setAttribute("type","discrete"),Ut.setAttribute("tableValues",kn),Jt.append(Ut)},Cn=new WeakSet,hr=function(Jt,ln,kn,Ut){const on=lt(this,Rt).createElementNS(j,"feComponentTransfer");Ut.append(on),Ht(this,yn,wr).call(this,on,"feFuncR",Jt),Ht(this,yn,wr).call(this,on,"feFuncG",ln),Ht(this,yn,wr).call(this,on,"feFuncB",kn)},bn=new WeakSet,pr=function(Jt){return lt(this,Lt,or).style.color=Jt,_t(getComputedStyle(lt(this,Lt,or)).getPropertyValue("color"))},s.DOMFilterFactory=_e;class et extends a.BaseCanvasFactory{constructor({ownerDocument:Qt=globalThis.document}={}){super(),this._document=Qt}_createCanvas(Qt,Jt){const ln=this._document.createElement("canvas");return ln.width=Qt,ln.height=Jt,ln}}s.DOMCanvasFactory=et;async function tt(hn,Qt=!1){if(kt(hn,document.baseURI)){const Jt=await fetch(hn);if(!Jt.ok)throw new Error(Jt.statusText);return Qt?new Uint8Array(await Jt.arrayBuffer()):(0,_.stringToBytes)(await Jt.text())}return new Promise((Jt,ln)=>{const kn=new XMLHttpRequest;kn.open("GET",hn,!0),Qt&&(kn.responseType="arraybuffer"),kn.onreadystatechange=()=>{if(kn.readyState===XMLHttpRequest.DONE){if(kn.status===200||kn.status===0){let Ut;if(Qt&&kn.response?Ut=new Uint8Array(kn.response):!Qt&&kn.responseText&&(Ut=(0,_.stringToBytes)(kn.responseText)),Ut){Jt(Ut);return}}ln(new Error(kn.statusText))}},kn.send(null)})}class nt extends a.BaseCMapReaderFactory{_fetchData(Qt,Jt){return tt(Qt,this.isCompressed).then(ln=>({cMapData:ln,compressionType:Jt}))}}s.DOMCMapReaderFactory=nt;class rt extends a.BaseStandardFontDataFactory{_fetchData(Qt){return tt(Qt,!0)}}s.DOMStandardFontDataFactory=rt;class st extends a.BaseSVGFactory{_createSVG(Qt){return document.createElementNS(j,Qt)}}s.DOMSVGFactory=st;class ot{constructor({viewBox:Qt,scale:Jt,rotation:ln,offsetX:kn=0,offsetY:Ut=0,dontFlip:on=!1}){this.viewBox=Qt,this.scale=Jt,this.rotation=ln,this.offsetX=kn,this.offsetY=Ut;const vn=(Qt[2]+Qt[0])/2,_n=(Qt[3]+Qt[1])/2;let jn,On,Nn,Bn;switch(ln%=360,ln<0&&(ln+=360),ln){case 180:jn=-1,On=0,Nn=0,Bn=1;break;case 90:jn=0,On=1,Nn=1,Bn=0;break;case 270:jn=0,On=-1,Nn=-1,Bn=0;break;case 0:jn=1,On=0,Nn=0,Bn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}on&&(Nn=-Nn,Bn=-Bn);let sn,qt,$t,mn;jn===0?(sn=Math.abs(_n-Qt[1])*Jt+kn,qt=Math.abs(vn-Qt[0])*Jt+Ut,$t=(Qt[3]-Qt[1])*Jt,mn=(Qt[2]-Qt[0])*Jt):(sn=Math.abs(vn-Qt[0])*Jt+kn,qt=Math.abs(_n-Qt[1])*Jt+Ut,$t=(Qt[2]-Qt[0])*Jt,mn=(Qt[3]-Qt[1])*Jt),this.transform=[jn*Jt,On*Jt,Nn*Jt,Bn*Jt,sn-jn*Jt*vn-Nn*Jt*_n,qt-On*Jt*vn-Bn*Jt*_n],this.width=$t,this.height=mn}get rawDims(){const{viewBox:Qt}=this;return(0,_.shadow)(this,"rawDims",{pageWidth:Qt[2]-Qt[0],pageHeight:Qt[3]-Qt[1],pageX:Qt[0],pageY:Qt[1]})}clone({scale:Qt=this.scale,rotation:Jt=this.rotation,offsetX:ln=this.offsetX,offsetY:kn=this.offsetY,dontFlip:Ut=!1}={}){return new ot({viewBox:this.viewBox.slice(),scale:Qt,rotation:Jt,offsetX:ln,offsetY:kn,dontFlip:Ut})}convertToViewportPoint(Qt,Jt){return _.Util.applyTransform([Qt,Jt],this.transform)}convertToViewportRectangle(Qt){const Jt=_.Util.applyTransform([Qt[0],Qt[1]],this.transform),ln=_.Util.applyTransform([Qt[2],Qt[3]],this.transform);return[Jt[0],Jt[1],ln[0],ln[1]]}convertToPdfPoint(Qt,Jt){return _.Util.applyInverseTransform([Qt,Jt],this.transform)}}s.PageViewport=ot;class ut extends _.BaseException{constructor(Qt,Jt=0){super(Qt,"RenderingCancelledException"),this.extraDelay=Jt}}s.RenderingCancelledException=ut;function dt(hn){const Qt=hn.length;let Jt=0;for(;Jt<Qt&&hn[Jt].trim()==="";)Jt++;return hn.substring(Jt,Jt+5).toLowerCase()==="data:"}function yt(hn){return typeof hn=="string"&&/\.pdf$/i.test(hn)}function it(hn,Qt=!1){return Qt||([hn]=hn.split(/[#?]/,1)),hn.substring(hn.lastIndexOf("/")+1)}function ct(hn,Qt="document.pdf"){if(typeof hn!="string")return Qt;if(dt(hn))return(0,_.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Qt;const Jt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ln=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,kn=Jt.exec(hn);let Ut=ln.exec(kn[1])||ln.exec(kn[2])||ln.exec(kn[3]);if(Ut&&(Ut=Ut[0],Ut.includes("%")))try{Ut=ln.exec(decodeURIComponent(Ut))[0]}catch{}return Ut||Qt}class ht{constructor(){Yn(this,"started",Object.create(null));Yn(this,"times",[])}time(Qt){Qt in this.started&&(0,_.warn)(`Timer is already running for ${Qt}`),this.started[Qt]=Date.now()}timeEnd(Qt){Qt in this.started||(0,_.warn)(`Timer has not been started for ${Qt}`),this.times.push({name:Qt,start:this.started[Qt],end:Date.now()}),delete this.started[Qt]}toString(){const Qt=[];let Jt=0;for(const{name:ln}of this.times)Jt=Math.max(ln.length,Jt);for(const{name:ln,start:kn,end:Ut}of this.times)Qt.push(`${ln.padEnd(Jt)} ${Ut-kn}ms
`);return Qt.join("")}}s.StatTimer=ht;function kt(hn,Qt){try{const{protocol:Jt}=Qt?new URL(hn,Qt):new URL(hn);return Jt==="http:"||Jt==="https:"}catch{return!1}}function pt(hn){hn.preventDefault()}function at(hn,Qt=!1){return new Promise((Jt,ln)=>{const kn=document.createElement("script");kn.src=hn,kn.onload=function(Ut){Qt&&kn.remove(),Jt(Ut)},kn.onerror=function(){ln(new Error(`Cannot load script at: ${kn.src}`))},(document.head||document.documentElement).append(kn)})}function At(hn){console.log("Deprecated API usage: "+hn)}let wt;class bt{static toDateObject(Qt){if(!Qt||typeof Qt!="string")return null;wt||(wt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Jt=wt.exec(Qt);if(!Jt)return null;const ln=parseInt(Jt[1],10);let kn=parseInt(Jt[2],10);kn=kn>=1&&kn<=12?kn-1:0;let Ut=parseInt(Jt[3],10);Ut=Ut>=1&&Ut<=31?Ut:1;let on=parseInt(Jt[4],10);on=on>=0&&on<=23?on:0;let vn=parseInt(Jt[5],10);vn=vn>=0&&vn<=59?vn:0;let _n=parseInt(Jt[6],10);_n=_n>=0&&_n<=59?_n:0;const jn=Jt[7]||"Z";let On=parseInt(Jt[8],10);On=On>=0&&On<=23?On:0;let Nn=parseInt(Jt[9],10)||0;return Nn=Nn>=0&&Nn<=59?Nn:0,jn==="-"?(on+=On,vn+=Nn):jn==="+"&&(on-=On,vn-=Nn),new Date(Date.UTC(ln,kn,Ut,on,vn,_n))}}s.PDFDateString=bt;function Et(hn,{scale:Qt=1,rotation:Jt=0}){const{width:ln,height:kn}=hn.attributes.style,Ut=[0,0,parseInt(ln),parseInt(kn)];return new ot({viewBox:Ut,scale:Qt,rotation:Jt})}function _t(hn){if(hn.startsWith("#")){const Qt=parseInt(hn.slice(1),16);return[(Qt&16711680)>>16,(Qt&65280)>>8,Qt&255]}return hn.startsWith("rgb(")?hn.slice(4,-1).split(",").map(Qt=>parseInt(Qt)):hn.startsWith("rgba(")?hn.slice(5,-1).split(",").map(Qt=>parseInt(Qt)).slice(0,3):((0,_.warn)(`Not a valid color format: "${hn}"`),[0,0,0])}function Mt(hn){const Qt=document.createElement("span");Qt.style.visibility="hidden",document.body.append(Qt);for(const Jt of hn.keys()){Qt.style.color=Jt;const ln=window.getComputedStyle(Qt).color;hn.set(Jt,_t(ln))}Qt.remove()}function Ot(hn){const{a:Qt,b:Jt,c:ln,d:kn,e:Ut,f:on}=hn.getTransform();return[Qt,Jt,ln,kn,Ut,on]}function jt(hn){const{a:Qt,b:Jt,c:ln,d:kn,e:Ut,f:on}=hn.getTransform().invertSelf();return[Qt,Jt,ln,kn,Ut,on]}function Bt(hn,Qt,Jt=!1,ln=!0){if(Qt instanceof ot){const{pageWidth:kn,pageHeight:Ut}=Qt.rawDims,{style:on}=hn,vn=_.FeatureTest.isCSSRoundSupported,_n=`var(--scale-factor) * ${kn}px`,jn=`var(--scale-factor) * ${Ut}px`,On=vn?`round(${_n}, 1px)`:`calc(${_n})`,Nn=vn?`round(${jn}, 1px)`:`calc(${jn})`;!Jt||Qt.rotation%180===0?(on.width=On,on.height=Nn):(on.width=Nn,on.height=On)}ln&&hn.setAttribute("data-main-rotation",Qt.rotation)}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=o(1);class _{constructor(){this.constructor===_&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(nt){return"none"}addHCMFilter(nt,rt){return"none"}addHighlightHCMFilter(nt,rt,st,ot){return"none"}destroy(nt=!1){}}s.BaseFilterFactory=_;class j{constructor(){this.constructor===j&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(nt,rt){if(nt<=0||rt<=0)throw new Error("Invalid canvas size");const st=this._createCanvas(nt,rt);return{canvas:st,context:st.getContext("2d")}}reset(nt,rt,st){if(!nt.canvas)throw new Error("Canvas is not specified");if(rt<=0||st<=0)throw new Error("Invalid canvas size");nt.canvas.width=rt,nt.canvas.height=st}destroy(nt){if(!nt.canvas)throw new Error("Canvas is not specified");nt.canvas.width=0,nt.canvas.height=0,nt.canvas=null,nt.context=null}_createCanvas(nt,rt){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=j;class ${constructor({baseUrl:nt=null,isCompressed:rt=!0}){this.constructor===$&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=nt,this.isCompressed=rt}async fetch({name:nt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!nt)throw new Error("CMap name must be specified.");const rt=this.baseUrl+nt+(this.isCompressed?".bcmap":""),st=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(rt,st).catch(ot=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${rt}`)})}_fetchData(nt,rt){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=$;class _e{constructor({baseUrl:nt=null}){this.constructor===_e&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=nt}async fetch({filename:nt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!nt)throw new Error("Font filename must be specified.");const rt=`${this.baseUrl}${nt}`;return this._fetchData(rt).catch(st=>{throw new Error(`Unable to load font data at: ${rt}`)})}_fetchData(nt){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=_e;class et{constructor(){this.constructor===et&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(nt,rt,st=!1){if(nt<=0||rt<=0)throw new Error("Invalid SVG dimensions");const ot=this._createSVG("svg:svg");return ot.setAttribute("version","1.1"),st||(ot.setAttribute("width",`${nt}px`),ot.setAttribute("height",`${rt}px`)),ot.setAttribute("preserveAspectRatio","none"),ot.setAttribute("viewBox",`0 0 ${nt} ${rt}`),ot}createElement(nt){if(typeof nt!="string")throw new Error("Invalid SVG element type");return this._createSVG(nt)}_createSVG(nt){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=et},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=o(1);const _=3285377520,j=4294901760,$=65535;class _e{constructor(tt){this.h1=tt?tt&4294967295:_,this.h2=tt?tt&4294967295:_}update(tt){let nt,rt;if(typeof tt=="string"){nt=new Uint8Array(tt.length*2),rt=0;for(let At=0,wt=tt.length;At<wt;At++){const bt=tt.charCodeAt(At);bt<=255?nt[rt++]=bt:(nt[rt++]=bt>>>8,nt[rt++]=bt&255)}}else if((0,a.isArrayBuffer)(tt))nt=tt.slice(),rt=nt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const st=rt>>2,ot=rt-st*4,ut=new Uint32Array(nt.buffer,0,st);let dt=0,yt=0,it=this.h1,ct=this.h2;const ht=3432918353,kt=461845907,pt=ht&$,at=kt&$;for(let At=0;At<st;At++)At&1?(dt=ut[At],dt=dt*ht&j|dt*pt&$,dt=dt<<15|dt>>>17,dt=dt*kt&j|dt*at&$,it^=dt,it=it<<13|it>>>19,it=it*5+3864292196):(yt=ut[At],yt=yt*ht&j|yt*pt&$,yt=yt<<15|yt>>>17,yt=yt*kt&j|yt*at&$,ct^=yt,ct=ct<<13|ct>>>19,ct=ct*5+3864292196);switch(dt=0,ot){case 3:dt^=nt[st*4+2]<<16;case 2:dt^=nt[st*4+1]<<8;case 1:dt^=nt[st*4],dt=dt*ht&j|dt*pt&$,dt=dt<<15|dt>>>17,dt=dt*kt&j|dt*at&$,st&1?it^=dt:ct^=dt}this.h1=it,this.h2=ct}hexdigest(){let tt=this.h1,nt=this.h2;return tt^=nt>>>1,tt=tt*3981806797&j|tt*36045&$,nt=nt*4283543511&j|((nt<<16|tt>>>16)*2950163797&j)>>>16,tt^=nt>>>1,tt=tt*444984403&j|tt*60499&$,nt=nt*3301882366&j|((nt<<16|tt>>>16)*3120437893&j)>>>16,tt^=nt>>>1,(tt>>>0).toString(16).padStart(8,"0")+(nt>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=_e},(i,s,o)=>{var $;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=o(1);class _{constructor({ownerDocument:et=globalThis.document,styleElement:tt=null}){Nt(this,$,new Set);this._document=et,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(et){this.nativeFontFaces.add(et),this._document.fonts.add(et)}removeNativeFontFace(et){this.nativeFontFaces.delete(et),this._document.fonts.delete(et)}insertRule(et){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const tt=this.styleElement.sheet;tt.insertRule(et,tt.cssRules.length)}clear(){for(const et of this.nativeFontFaces)this._document.fonts.delete(et);this.nativeFontFaces.clear(),lt(this,$).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(et){if(!(!et||lt(this,$).has(et.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:tt,src:nt,style:rt}=et,st=new FontFace(tt,nt,rt);this.addNativeFontFace(st);try{await st.load(),lt(this,$).add(tt)}catch{(0,a.warn)(`Cannot load system font: ${et.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(st)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(et){if(et.attached||et.missingFile&&!et.systemFontInfo)return;if(et.attached=!0,et.systemFontInfo){await this.loadSystemFont(et.systemFontInfo);return}if(this.isFontLoadingAPISupported){const nt=et.createNativeFontFace();if(nt){this.addNativeFontFace(nt);try{await nt.loaded}catch(rt){throw(0,a.warn)(`Failed to load font '${nt.family}': '${rt}'.`),et.disableFontFace=!0,rt}}return}const tt=et.createFontFaceRule();if(tt){if(this.insertRule(tt),this.isSyncFontLoadingSupported)return;await new Promise(nt=>{const rt=this._queueLoadingCallback(nt);this._prepareFontLoadEvent(et,rt)})}}get isFontLoadingAPISupported(){var tt;const et=!!((tt=this._document)!=null&&tt.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",et)}get isSyncFontLoadingSupported(){let et=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(et=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",et)}_queueLoadingCallback(et){function tt(){for((0,a.assert)(!rt.done,"completeRequest() cannot be called twice."),rt.done=!0;nt.length>0&&nt[0].done;){const st=nt.shift();setTimeout(st.callback,0)}}const{loadingRequests:nt}=this,rt={done:!1,complete:tt,callback:et};return nt.push(rt),rt}get _loadTestFont(){const et=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",et)}_prepareFontLoadEvent(et,tt){function nt(_t,Mt){return _t.charCodeAt(Mt)<<24|_t.charCodeAt(Mt+1)<<16|_t.charCodeAt(Mt+2)<<8|_t.charCodeAt(Mt+3)&255}function rt(_t,Mt,Ot,jt){const Bt=_t.substring(0,Mt),Xt=_t.substring(Mt+Ot);return Bt+jt+Xt}let st,ot;const ut=this._document.createElement("canvas");ut.width=1,ut.height=1;const dt=ut.getContext("2d");let yt=0;function it(_t,Mt){if(++yt>30){(0,a.warn)("Load test font never loaded."),Mt();return}if(dt.font="30px "+_t,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){Mt();return}setTimeout(it.bind(null,_t,Mt))}const ct=`lt${Date.now()}${this.loadTestFontId++}`;let ht=this._loadTestFont;ht=rt(ht,976,ct.length,ct);const pt=16,at=1482184792;let At=nt(ht,pt);for(st=0,ot=ct.length-3;st<ot;st+=4)At=At-at+nt(ct,st)|0;st<ct.length&&(At=At-at+nt(ct+"XXX",st)|0),ht=rt(ht,pt,4,(0,a.string32)(At));const wt=`url(data:font/opentype;base64,${btoa(ht)});`,bt=`@font-face {font-family:"${ct}";src:${wt}}`;this.insertRule(bt);const Et=this._document.createElement("div");Et.style.visibility="hidden",Et.style.width=Et.style.height="10px",Et.style.position="absolute",Et.style.top=Et.style.left="0px";for(const _t of[et.loadedName,ct]){const Mt=this._document.createElement("span");Mt.textContent="Hi",Mt.style.fontFamily=_t,Et.append(Mt)}this._document.body.append(Et),it(ct,()=>{Et.remove(),tt.complete()})}}$=new WeakMap,s.FontLoader=_;class j{constructor(et,{isEvalSupported:tt=!0,disableFontFace:nt=!1,ignoreErrors:rt=!1,inspectFont:st=null}){this.compiledGlyphs=Object.create(null);for(const ot in et)this[ot]=et[ot];this.isEvalSupported=tt!==!1,this.disableFontFace=nt===!0,this.ignoreErrors=rt===!0,this._inspectFont=st}createNativeFontFace(){var tt;if(!this.data||this.disableFontFace)return null;let et;if(!this.cssFontInfo)et=new FontFace(this.loadedName,this.data,{});else{const nt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(nt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),et=new FontFace(this.cssFontInfo.fontFamily,this.data,nt)}return(tt=this._inspectFont)==null||tt.call(this,this),et}createFontFaceRule(){var rt;if(!this.data||this.disableFontFace)return null;const et=(0,a.bytesToString)(this.data),tt=`url(data:${this.mimetype};base64,${btoa(et)});`;let nt;if(!this.cssFontInfo)nt=`@font-face {font-family:"${this.loadedName}";src:${tt}}`;else{let st=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(st+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),nt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${st}src:${tt}}`}return(rt=this._inspectFont)==null||rt.call(this,this,tt),nt}getPathGenerator(et,tt){if(this.compiledGlyphs[tt]!==void 0)return this.compiledGlyphs[tt];let nt;try{nt=et.get(this.loadedName+"_path_"+tt)}catch(rt){if(!this.ignoreErrors)throw rt;return(0,a.warn)(`getPathGenerator - ignoring character: "${rt}".`),this.compiledGlyphs[tt]=function(st,ot){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const rt=[];for(const st of nt){const ot=st.args!==void 0?st.args.join(","):"";rt.push("c.",st.cmd,"(",ot,`);
`)}return this.compiledGlyphs[tt]=new Function("c","size",rt.join(""))}return this.compiledGlyphs[tt]=function(rt,st){for(const ot of nt)ot.cmd==="scale"&&(ot.args=[st,-st]),rt[ot.cmd].apply(rt,ot.args)}}}s.FontFaceObject=j},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=o(7);o(1);const _=function(tt){return new Promise((nt,rt)=>{require$$5.readFile(tt,(ot,ut)=>{if(ot||!ut){rt(new Error(ot));return}nt(new Uint8Array(ut))})})};class j extends a.BaseFilterFactory{}s.NodeFilterFactory=j;class $ extends a.BaseCanvasFactory{_createCanvas(nt,rt){return require$$5.createCanvas(nt,rt)}}s.NodeCanvasFactory=$;class _e extends a.BaseCMapReaderFactory{_fetchData(nt,rt){return _(nt).then(st=>({cMapData:st,compressionType:rt}))}}s.NodeCMapReaderFactory=_e;class et extends a.BaseStandardFontDataFactory{_fetchData(nt){return _(nt)}}s.NodeStandardFontDataFactory=et},(i,s,o)=>{var Tt,Gr,Rt,Xr;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=o(1),_=o(6),j=o(12),$=o(13);const _e=16,et=100,tt=4096,nt=15,rt=10,st=1e3,ot=16;function ut(xt,ft){if(xt._removeMirroring)throw new Error("Context is already forwarding operations.");xt.__originalSave=xt.save,xt.__originalRestore=xt.restore,xt.__originalRotate=xt.rotate,xt.__originalScale=xt.scale,xt.__originalTranslate=xt.translate,xt.__originalTransform=xt.transform,xt.__originalSetTransform=xt.setTransform,xt.__originalResetTransform=xt.resetTransform,xt.__originalClip=xt.clip,xt.__originalMoveTo=xt.moveTo,xt.__originalLineTo=xt.lineTo,xt.__originalBezierCurveTo=xt.bezierCurveTo,xt.__originalRect=xt.rect,xt.__originalClosePath=xt.closePath,xt.__originalBeginPath=xt.beginPath,xt._removeMirroring=()=>{xt.save=xt.__originalSave,xt.restore=xt.__originalRestore,xt.rotate=xt.__originalRotate,xt.scale=xt.__originalScale,xt.translate=xt.__originalTranslate,xt.transform=xt.__originalTransform,xt.setTransform=xt.__originalSetTransform,xt.resetTransform=xt.__originalResetTransform,xt.clip=xt.__originalClip,xt.moveTo=xt.__originalMoveTo,xt.lineTo=xt.__originalLineTo,xt.bezierCurveTo=xt.__originalBezierCurveTo,xt.rect=xt.__originalRect,xt.closePath=xt.__originalClosePath,xt.beginPath=xt.__originalBeginPath,delete xt._removeMirroring},xt.save=function(){ft.save(),this.__originalSave()},xt.restore=function(){ft.restore(),this.__originalRestore()},xt.translate=function(mt,St){ft.translate(mt,St),this.__originalTranslate(mt,St)},xt.scale=function(mt,St){ft.scale(mt,St),this.__originalScale(mt,St)},xt.transform=function(mt,St,Ct,Ft,Lt,zt){ft.transform(mt,St,Ct,Ft,Lt,zt),this.__originalTransform(mt,St,Ct,Ft,Lt,zt)},xt.setTransform=function(mt,St,Ct,Ft,Lt,zt){ft.setTransform(mt,St,Ct,Ft,Lt,zt),this.__originalSetTransform(mt,St,Ct,Ft,Lt,zt)},xt.resetTransform=function(){ft.resetTransform(),this.__originalResetTransform()},xt.rotate=function(mt){ft.rotate(mt),this.__originalRotate(mt)},xt.clip=function(mt){ft.clip(mt),this.__originalClip(mt)},xt.moveTo=function(vt,mt){ft.moveTo(vt,mt),this.__originalMoveTo(vt,mt)},xt.lineTo=function(vt,mt){ft.lineTo(vt,mt),this.__originalLineTo(vt,mt)},xt.bezierCurveTo=function(vt,mt,St,Ct,Ft,Lt){ft.bezierCurveTo(vt,mt,St,Ct,Ft,Lt),this.__originalBezierCurveTo(vt,mt,St,Ct,Ft,Lt)},xt.rect=function(vt,mt,St,Ct){ft.rect(vt,mt,St,Ct),this.__originalRect(vt,mt,St,Ct)},xt.closePath=function(){ft.closePath(),this.__originalClosePath()},xt.beginPath=function(){ft.beginPath(),this.__originalBeginPath()}}class dt{constructor(ft){this.canvasFactory=ft,this.cache=Object.create(null)}getCanvas(ft,vt,mt){let St;return this.cache[ft]!==void 0?(St=this.cache[ft],this.canvasFactory.reset(St,vt,mt)):(St=this.canvasFactory.create(vt,mt),this.cache[ft]=St),St}delete(ft){delete this.cache[ft]}clear(){for(const ft in this.cache){const vt=this.cache[ft];this.canvasFactory.destroy(vt),delete this.cache[ft]}}}function yt(xt,ft,vt,mt,St,Ct,Ft,Lt,zt,Kt){const[en,rn,an,yn,un,Cn]=(0,_.getCurrentTransform)(xt);if(rn===0&&an===0){const Pn=Ft*en+un,hn=Math.round(Pn),Qt=Lt*yn+Cn,Jt=Math.round(Qt),ln=(Ft+zt)*en+un,kn=Math.abs(Math.round(ln)-hn)||1,Ut=(Lt+Kt)*yn+Cn,on=Math.abs(Math.round(Ut)-Jt)||1;return xt.setTransform(Math.sign(en),0,0,Math.sign(yn),hn,Jt),xt.drawImage(ft,vt,mt,St,Ct,0,0,kn,on),xt.setTransform(en,rn,an,yn,un,Cn),[kn,on]}if(en===0&&yn===0){const Pn=Lt*an+un,hn=Math.round(Pn),Qt=Ft*rn+Cn,Jt=Math.round(Qt),ln=(Lt+Kt)*an+un,kn=Math.abs(Math.round(ln)-hn)||1,Ut=(Ft+zt)*rn+Cn,on=Math.abs(Math.round(Ut)-Jt)||1;return xt.setTransform(0,Math.sign(rn),Math.sign(an),0,hn,Jt),xt.drawImage(ft,vt,mt,St,Ct,0,0,on,kn),xt.setTransform(en,rn,an,yn,un,Cn),[on,kn]}xt.drawImage(ft,vt,mt,St,Ct,Ft,Lt,zt,Kt);const Dn=Math.hypot(en,rn),bn=Math.hypot(an,yn);return[Dn*zt,bn*Kt]}function it(xt){const{width:ft,height:vt}=xt;if(ft>st||vt>st)return null;const mt=1e3,St=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ct=ft+1;let Ft=new Uint8Array(Ct*(vt+1)),Lt,zt,Kt;const en=ft+7&-8;let rn=new Uint8Array(en*vt),an=0;for(const bn of xt.data){let Pn=128;for(;Pn>0;)rn[an++]=bn&Pn?0:255,Pn>>=1}let yn=0;for(an=0,rn[an]!==0&&(Ft[0]=1,++yn),zt=1;zt<ft;zt++)rn[an]!==rn[an+1]&&(Ft[zt]=rn[an]?2:1,++yn),an++;for(rn[an]!==0&&(Ft[zt]=2,++yn),Lt=1;Lt<vt;Lt++){an=Lt*en,Kt=Lt*Ct,rn[an-en]!==rn[an]&&(Ft[Kt]=rn[an]?1:8,++yn);let bn=(rn[an]?4:0)+(rn[an-en]?8:0);for(zt=1;zt<ft;zt++)bn=(bn>>2)+(rn[an+1]?4:0)+(rn[an-en+1]?8:0),St[bn]&&(Ft[Kt+zt]=St[bn],++yn),an++;if(rn[an-en]!==rn[an]&&(Ft[Kt+zt]=rn[an]?2:4,++yn),yn>mt)return null}for(an=en*(vt-1),Kt=Lt*Ct,rn[an]!==0&&(Ft[Kt]=8,++yn),zt=1;zt<ft;zt++)rn[an]!==rn[an+1]&&(Ft[Kt+zt]=rn[an]?4:8,++yn),an++;if(rn[an]!==0&&(Ft[Kt+zt]=4,++yn),yn>mt)return null;const un=new Int32Array([0,Ct,-1,0,-Ct,0,0,0,1]),Cn=new Path2D;for(Lt=0;yn&&Lt<=vt;Lt++){let bn=Lt*Ct;const Pn=bn+ft;for(;bn<Pn&&!Ft[bn];)bn++;if(bn===Pn)continue;Cn.moveTo(bn%Ct,Lt);const hn=bn;let Qt=Ft[bn];do{const Jt=un[Qt];do bn+=Jt;while(!Ft[bn]);const ln=Ft[bn];ln!==5&&ln!==10?(Qt=ln,Ft[bn]=0):(Qt=ln&51*Qt>>4,Ft[bn]&=Qt>>2|Qt<<2),Cn.lineTo(bn%Ct,bn/Ct|0),Ft[bn]||--yn}while(hn!==bn);--Lt}return rn=null,Ft=null,function(bn){bn.save(),bn.scale(1/ft,-1/vt),bn.translate(0,-vt),bn.fill(Cn),bn.beginPath(),bn.restore()}}class ct{constructor(ft,vt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ft,vt])}clone(){const ft=Object.create(this);return ft.clipBox=this.clipBox.slice(),ft}setCurrentPoint(ft,vt){this.x=ft,this.y=vt}updatePathMinMax(ft,vt,mt){[vt,mt]=a.Util.applyTransform([vt,mt],ft),this.minX=Math.min(this.minX,vt),this.minY=Math.min(this.minY,mt),this.maxX=Math.max(this.maxX,vt),this.maxY=Math.max(this.maxY,mt)}updateRectMinMax(ft,vt){const mt=a.Util.applyTransform(vt,ft),St=a.Util.applyTransform(vt.slice(2),ft);this.minX=Math.min(this.minX,mt[0],St[0]),this.minY=Math.min(this.minY,mt[1],St[1]),this.maxX=Math.max(this.maxX,mt[0],St[0]),this.maxY=Math.max(this.maxY,mt[1],St[1])}updateScalingPathMinMax(ft,vt){a.Util.scaleMinMax(ft,vt),this.minX=Math.min(this.minX,vt[0]),this.maxX=Math.max(this.maxX,vt[1]),this.minY=Math.min(this.minY,vt[2]),this.maxY=Math.max(this.maxY,vt[3])}updateCurvePathMinMax(ft,vt,mt,St,Ct,Ft,Lt,zt,Kt,en){const rn=a.Util.bezierBoundingBox(vt,mt,St,Ct,Ft,Lt,zt,Kt);if(en){en[0]=Math.min(en[0],rn[0],rn[2]),en[1]=Math.max(en[1],rn[0],rn[2]),en[2]=Math.min(en[2],rn[1],rn[3]),en[3]=Math.max(en[3],rn[1],rn[3]);return}this.updateRectMinMax(ft,rn)}getPathBoundingBox(ft=j.PathType.FILL,vt=null){const mt=[this.minX,this.minY,this.maxX,this.maxY];if(ft===j.PathType.STROKE){vt||(0,a.unreachable)("Stroke bounding box must include transform.");const St=a.Util.singularValueDecompose2dScale(vt),Ct=St[0]*this.lineWidth/2,Ft=St[1]*this.lineWidth/2;mt[0]-=Ct,mt[1]-=Ft,mt[2]+=Ct,mt[3]+=Ft}return mt}updateClipFromPath(){const ft=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ft||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ft){this.clipBox=ft,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ft=j.PathType.FILL,vt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ft,vt))}}function ht(xt,ft){if(typeof ImageData<"u"&&ft instanceof ImageData){xt.putImageData(ft,0,0);return}const vt=ft.height,mt=ft.width,St=vt%ot,Ct=(vt-St)/ot,Ft=St===0?Ct:Ct+1,Lt=xt.createImageData(mt,ot);let zt=0,Kt;const en=ft.data,rn=Lt.data;let an,yn,un,Cn;if(ft.kind===a.ImageKind.GRAYSCALE_1BPP){const Dn=en.byteLength,bn=new Uint32Array(rn.buffer,0,rn.byteLength>>2),Pn=bn.length,hn=mt+7>>3,Qt=4294967295,Jt=a.FeatureTest.isLittleEndian?4278190080:255;for(an=0;an<Ft;an++){for(un=an<Ct?ot:St,Kt=0,yn=0;yn<un;yn++){const ln=Dn-zt;let kn=0;const Ut=ln>hn?mt:ln*8-7,on=Ut&-8;let vn=0,_n=0;for(;kn<on;kn+=8)_n=en[zt++],bn[Kt++]=_n&128?Qt:Jt,bn[Kt++]=_n&64?Qt:Jt,bn[Kt++]=_n&32?Qt:Jt,bn[Kt++]=_n&16?Qt:Jt,bn[Kt++]=_n&8?Qt:Jt,bn[Kt++]=_n&4?Qt:Jt,bn[Kt++]=_n&2?Qt:Jt,bn[Kt++]=_n&1?Qt:Jt;for(;kn<Ut;kn++)vn===0&&(_n=en[zt++],vn=128),bn[Kt++]=_n&vn?Qt:Jt,vn>>=1}for(;Kt<Pn;)bn[Kt++]=0;xt.putImageData(Lt,0,an*ot)}}else if(ft.kind===a.ImageKind.RGBA_32BPP){for(yn=0,Cn=mt*ot*4,an=0;an<Ct;an++)rn.set(en.subarray(zt,zt+Cn)),zt+=Cn,xt.putImageData(Lt,0,yn),yn+=ot;an<Ft&&(Cn=mt*St*4,rn.set(en.subarray(zt,zt+Cn)),xt.putImageData(Lt,0,yn))}else if(ft.kind===a.ImageKind.RGB_24BPP)for(un=ot,Cn=mt*un,an=0;an<Ft;an++){for(an>=Ct&&(un=St,Cn=mt*un),Kt=0,yn=Cn;yn--;)rn[Kt++]=en[zt++],rn[Kt++]=en[zt++],rn[Kt++]=en[zt++],rn[Kt++]=255;xt.putImageData(Lt,0,an*ot)}else throw new Error(`bad image kind: ${ft.kind}`)}function kt(xt,ft){if(ft.bitmap){xt.drawImage(ft.bitmap,0,0);return}const vt=ft.height,mt=ft.width,St=vt%ot,Ct=(vt-St)/ot,Ft=St===0?Ct:Ct+1,Lt=xt.createImageData(mt,ot);let zt=0;const Kt=ft.data,en=Lt.data;for(let rn=0;rn<Ft;rn++){const an=rn<Ct?ot:St;({srcPos:zt}=(0,$.convertBlackAndWhiteToRGBA)({src:Kt,srcPos:zt,dest:en,width:mt,height:an,nonBlackColor:0})),xt.putImageData(Lt,0,rn*ot)}}function pt(xt,ft){const vt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const mt of vt)xt[mt]!==void 0&&(ft[mt]=xt[mt]);xt.setLineDash!==void 0&&(ft.setLineDash(xt.getLineDash()),ft.lineDashOffset=xt.lineDashOffset)}function at(xt){if(xt.strokeStyle=xt.fillStyle="#000000",xt.fillRule="nonzero",xt.globalAlpha=1,xt.lineWidth=1,xt.lineCap="butt",xt.lineJoin="miter",xt.miterLimit=10,xt.globalCompositeOperation="source-over",xt.font="10px sans-serif",xt.setLineDash!==void 0&&(xt.setLineDash([]),xt.lineDashOffset=0),!a.isNodeJS){const{filter:ft}=xt;ft!=="none"&&ft!==""&&(xt.filter="none")}}function At(xt,ft,vt,mt){const St=xt.length;for(let Ct=3;Ct<St;Ct+=4){const Ft=xt[Ct];if(Ft===0)xt[Ct-3]=ft,xt[Ct-2]=vt,xt[Ct-1]=mt;else if(Ft<255){const Lt=255-Ft;xt[Ct-3]=xt[Ct-3]*Ft+ft*Lt>>8,xt[Ct-2]=xt[Ct-2]*Ft+vt*Lt>>8,xt[Ct-1]=xt[Ct-1]*Ft+mt*Lt>>8}}}function wt(xt,ft,vt){const mt=xt.length,St=1/255;for(let Ct=3;Ct<mt;Ct+=4){const Ft=vt?vt[xt[Ct]]:xt[Ct];ft[Ct]=ft[Ct]*Ft*St|0}}function bt(xt,ft,vt){const mt=xt.length;for(let St=3;St<mt;St+=4){const Ct=xt[St-3]*77+xt[St-2]*152+xt[St-1]*28;ft[St]=vt?ft[St]*vt[Ct>>8]>>8:ft[St]*Ct>>16}}function Et(xt,ft,vt,mt,St,Ct,Ft,Lt,zt,Kt,en){const rn=!!Ct,an=rn?Ct[0]:0,yn=rn?Ct[1]:0,un=rn?Ct[2]:0,Cn=St==="Luminosity"?bt:wt,bn=Math.min(mt,Math.ceil(1048576/vt));for(let Pn=0;Pn<mt;Pn+=bn){const hn=Math.min(bn,mt-Pn),Qt=xt.getImageData(Lt-Kt,Pn+(zt-en),vt,hn),Jt=ft.getImageData(Lt,Pn+zt,vt,hn);rn&&At(Qt.data,an,yn,un),Cn(Qt.data,Jt.data,Ft),ft.putImageData(Jt,Lt,Pn+zt)}}function _t(xt,ft,vt,mt){const St=mt[0],Ct=mt[1],Ft=mt[2]-St,Lt=mt[3]-Ct;Ft===0||Lt===0||(Et(ft.context,vt,Ft,Lt,ft.subtype,ft.backdrop,ft.transferMap,St,Ct,ft.offsetX,ft.offsetY),xt.save(),xt.globalAlpha=1,xt.globalCompositeOperation="source-over",xt.setTransform(1,0,0,1,0,0),xt.drawImage(vt.canvas,0,0),xt.restore())}function Mt(xt,ft){const vt=a.Util.singularValueDecompose2dScale(xt);vt[0]=Math.fround(vt[0]),vt[1]=Math.fround(vt[1]);const mt=Math.fround((globalThis.devicePixelRatio||1)*_.PixelsPerInch.PDF_TO_CSS_UNITS);return ft!==void 0?ft:vt[0]<=mt||vt[1]<=mt}const Ot=["butt","round","square"],jt=["miter","round","bevel"],Bt={},Xt={},pn=class pn{constructor(ft,vt,mt,St,Ct,{optionalContentConfig:Ft,markedContentStack:Lt=null},zt,Kt){Nt(this,Tt);Nt(this,Rt);this.ctx=ft,this.current=new ct(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=vt,this.objs=mt,this.canvasFactory=St,this.filterFactory=Ct,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Lt||[],this.optionalContentConfig=Ft,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=zt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Kt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ft,vt=null){return typeof ft=="string"?ft.startsWith("g_")?this.commonObjs.get(ft):this.objs.get(ft):vt}beginDrawing({transform:ft,viewport:vt,transparency:mt=!1,background:St=null}){const Ct=this.ctx.canvas.width,Ft=this.ctx.canvas.height,Lt=this.ctx.fillStyle;if(this.ctx.fillStyle=St||"#ffffff",this.ctx.fillRect(0,0,Ct,Ft),this.ctx.fillStyle=Lt,mt){const zt=this.cachedCanvases.getCanvas("transparent",Ct,Ft);this.compositeCtx=this.ctx,this.transparentCanvas=zt.canvas,this.ctx=zt.context,this.ctx.save(),this.ctx.transform(...(0,_.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),at(this.ctx),ft&&(this.ctx.transform(...ft),this.outputScaleX=ft[0],this.outputScaleY=ft[0]),this.ctx.transform(...vt.transform),this.viewportScale=vt.scale,this.baseTransform=(0,_.getCurrentTransform)(this.ctx)}executeOperatorList(ft,vt,mt,St){const Ct=ft.argsArray,Ft=ft.fnArray;let Lt=vt||0;const zt=Ct.length;if(zt===Lt)return Lt;const Kt=zt-Lt>rt&&typeof mt=="function",en=Kt?Date.now()+nt:0;let rn=0;const an=this.commonObjs,yn=this.objs;let un;for(;;){if(St!==void 0&&Lt===St.nextBreakPoint)return St.breakIt(Lt,mt),Lt;if(un=Ft[Lt],un!==a.OPS.dependency)this[un].apply(this,Ct[Lt]);else for(const Cn of Ct[Lt]){const Dn=Cn.startsWith("g_")?an:yn;if(!Dn.has(Cn))return Dn.get(Cn,mt),Lt}if(Lt++,Lt===zt)return Lt;if(Kt&&++rn>rt){if(Date.now()>en)return mt(),Lt;rn=0}}}endDrawing(){Ht(this,Tt,Gr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ft of this._cachedBitmapsMap.values()){for(const vt of ft.values())typeof HTMLCanvasElement<"u"&&vt instanceof HTMLCanvasElement&&(vt.width=vt.height=0);ft.clear()}this._cachedBitmapsMap.clear(),Ht(this,Rt,Xr).call(this)}_scaleImage(ft,vt){const mt=ft.width,St=ft.height;let Ct=Math.max(Math.hypot(vt[0],vt[1]),1),Ft=Math.max(Math.hypot(vt[2],vt[3]),1),Lt=mt,zt=St,Kt="prescale1",en,rn;for(;Ct>2&&Lt>1||Ft>2&&zt>1;){let an=Lt,yn=zt;Ct>2&&Lt>1&&(an=Lt>=16384?Math.floor(Lt/2)-1||1:Math.ceil(Lt/2),Ct/=Lt/an),Ft>2&&zt>1&&(yn=zt>=16384?Math.floor(zt/2)-1||1:Math.ceil(zt)/2,Ft/=zt/yn),en=this.cachedCanvases.getCanvas(Kt,an,yn),rn=en.context,rn.clearRect(0,0,an,yn),rn.drawImage(ft,0,0,Lt,zt,0,0,an,yn),ft=en.canvas,Lt=an,zt=yn,Kt=Kt==="prescale1"?"prescale2":"prescale1"}return{img:ft,paintWidth:Lt,paintHeight:zt}}_createMaskCanvas(ft){const vt=this.ctx,{width:mt,height:St}=ft,Ct=this.current.fillColor,Ft=this.current.patternFill,Lt=(0,_.getCurrentTransform)(vt);let zt,Kt,en,rn;if((ft.bitmap||ft.data)&&ft.count>1){const kn=ft.bitmap||ft.data.buffer;Kt=JSON.stringify(Ft?Lt:[Lt.slice(0,4),Ct]),zt=this._cachedBitmapsMap.get(kn),zt||(zt=new Map,this._cachedBitmapsMap.set(kn,zt));const Ut=zt.get(Kt);if(Ut&&!Ft){const on=Math.round(Math.min(Lt[0],Lt[2])+Lt[4]),vn=Math.round(Math.min(Lt[1],Lt[3])+Lt[5]);return{canvas:Ut,offsetX:on,offsetY:vn}}en=Ut}en||(rn=this.cachedCanvases.getCanvas("maskCanvas",mt,St),kt(rn.context,ft));let an=a.Util.transform(Lt,[1/mt,0,0,-1/St,0,0]);an=a.Util.transform(an,[1,0,0,1,0,-St]);const yn=a.Util.applyTransform([0,0],an),un=a.Util.applyTransform([mt,St],an),Cn=a.Util.normalizeRect([yn[0],yn[1],un[0],un[1]]),Dn=Math.round(Cn[2]-Cn[0])||1,bn=Math.round(Cn[3]-Cn[1])||1,Pn=this.cachedCanvases.getCanvas("fillCanvas",Dn,bn),hn=Pn.context,Qt=Math.min(yn[0],un[0]),Jt=Math.min(yn[1],un[1]);hn.translate(-Qt,-Jt),hn.transform(...an),en||(en=this._scaleImage(rn.canvas,(0,_.getCurrentTransformInverse)(hn)),en=en.img,zt&&Ft&&zt.set(Kt,en)),hn.imageSmoothingEnabled=Mt((0,_.getCurrentTransform)(hn),ft.interpolate),yt(hn,en,0,0,en.width,en.height,0,0,mt,St),hn.globalCompositeOperation="source-in";const ln=a.Util.transform((0,_.getCurrentTransformInverse)(hn),[1,0,0,1,-Qt,-Jt]);return hn.fillStyle=Ft?Ct.getPattern(vt,this,ln,j.PathType.FILL):Ct,hn.fillRect(0,0,mt,St),zt&&!Ft&&(this.cachedCanvases.delete("fillCanvas"),zt.set(Kt,Pn.canvas)),{canvas:Pn.canvas,offsetX:Math.round(Qt),offsetY:Math.round(Jt)}}setLineWidth(ft){ft!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ft,this.ctx.lineWidth=ft}setLineCap(ft){this.ctx.lineCap=Ot[ft]}setLineJoin(ft){this.ctx.lineJoin=jt[ft]}setMiterLimit(ft){this.ctx.miterLimit=ft}setDash(ft,vt){const mt=this.ctx;mt.setLineDash!==void 0&&(mt.setLineDash(ft),mt.lineDashOffset=vt)}setRenderingIntent(ft){}setFlatness(ft){}setGState(ft){for(const[vt,mt]of ft)switch(vt){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt[0],mt[1]);break;case"CA":this.current.strokeAlpha=mt;break;case"ca":this.current.fillAlpha=mt,this.ctx.globalAlpha=mt;break;case"BM":this.ctx.globalCompositeOperation=mt;break;case"SMask":this.current.activeSMask=mt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(mt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ft=this.inSMaskMode;this.current.activeSMask&&!ft?this.beginSMaskMode():!this.current.activeSMask&&ft&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ft=this.ctx.canvas.width,vt=this.ctx.canvas.height,mt="smaskGroupAt"+this.groupLevel,St=this.cachedCanvases.getCanvas(mt,ft,vt);this.suspendedCtx=this.ctx,this.ctx=St.context;const Ct=this.ctx;Ct.setTransform(...(0,_.getCurrentTransform)(this.suspendedCtx)),pt(this.suspendedCtx,Ct),ut(Ct,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),pt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ft){if(!this.current.activeSMask)return;ft?(ft[0]=Math.floor(ft[0]),ft[1]=Math.floor(ft[1]),ft[2]=Math.ceil(ft[2]),ft[3]=Math.ceil(ft[3])):ft=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const vt=this.current.activeSMask,mt=this.suspendedCtx;_t(mt,vt,this.ctx,ft),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(pt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ft=this.current;this.stateStack.push(ft),this.current=ft.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),pt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ft,vt,mt,St,Ct,Ft){this.ctx.transform(ft,vt,mt,St,Ct,Ft),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ft,vt,mt){const St=this.ctx,Ct=this.current;let Ft=Ct.x,Lt=Ct.y,zt,Kt;const en=(0,_.getCurrentTransform)(St),rn=en[0]===0&&en[3]===0||en[1]===0&&en[2]===0,an=rn?mt.slice(0):null;for(let yn=0,un=0,Cn=ft.length;yn<Cn;yn++)switch(ft[yn]|0){case a.OPS.rectangle:Ft=vt[un++],Lt=vt[un++];const Dn=vt[un++],bn=vt[un++],Pn=Ft+Dn,hn=Lt+bn;St.moveTo(Ft,Lt),Dn===0||bn===0?St.lineTo(Pn,hn):(St.lineTo(Pn,Lt),St.lineTo(Pn,hn),St.lineTo(Ft,hn)),rn||Ct.updateRectMinMax(en,[Ft,Lt,Pn,hn]),St.closePath();break;case a.OPS.moveTo:Ft=vt[un++],Lt=vt[un++],St.moveTo(Ft,Lt),rn||Ct.updatePathMinMax(en,Ft,Lt);break;case a.OPS.lineTo:Ft=vt[un++],Lt=vt[un++],St.lineTo(Ft,Lt),rn||Ct.updatePathMinMax(en,Ft,Lt);break;case a.OPS.curveTo:zt=Ft,Kt=Lt,Ft=vt[un+4],Lt=vt[un+5],St.bezierCurveTo(vt[un],vt[un+1],vt[un+2],vt[un+3],Ft,Lt),Ct.updateCurvePathMinMax(en,zt,Kt,vt[un],vt[un+1],vt[un+2],vt[un+3],Ft,Lt,an),un+=6;break;case a.OPS.curveTo2:zt=Ft,Kt=Lt,St.bezierCurveTo(Ft,Lt,vt[un],vt[un+1],vt[un+2],vt[un+3]),Ct.updateCurvePathMinMax(en,zt,Kt,Ft,Lt,vt[un],vt[un+1],vt[un+2],vt[un+3],an),Ft=vt[un+2],Lt=vt[un+3],un+=4;break;case a.OPS.curveTo3:zt=Ft,Kt=Lt,Ft=vt[un+2],Lt=vt[un+3],St.bezierCurveTo(vt[un],vt[un+1],Ft,Lt,Ft,Lt),Ct.updateCurvePathMinMax(en,zt,Kt,vt[un],vt[un+1],Ft,Lt,Ft,Lt,an),un+=4;break;case a.OPS.closePath:St.closePath();break}rn&&Ct.updateScalingPathMinMax(en,an),Ct.setCurrentPoint(Ft,Lt)}closePath(){this.ctx.closePath()}stroke(ft=!0){const vt=this.ctx,mt=this.current.strokeColor;vt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof mt=="object"&&(mt!=null&&mt.getPattern)?(vt.save(),vt.strokeStyle=mt.getPattern(vt,this,(0,_.getCurrentTransformInverse)(vt),j.PathType.STROKE),this.rescaleAndStroke(!1),vt.restore()):this.rescaleAndStroke(!0)),ft&&this.consumePath(this.current.getClippedPathBoundingBox()),vt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ft=!0){const vt=this.ctx,mt=this.current.fillColor,St=this.current.patternFill;let Ct=!1;St&&(vt.save(),vt.fillStyle=mt.getPattern(vt,this,(0,_.getCurrentTransformInverse)(vt),j.PathType.FILL),Ct=!0);const Ft=this.current.getClippedPathBoundingBox();this.contentVisible&&Ft!==null&&(this.pendingEOFill?(vt.fill("evenodd"),this.pendingEOFill=!1):vt.fill()),Ct&&vt.restore(),ft&&this.consumePath(Ft)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Bt}eoClip(){this.pendingClip=Xt}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ft=this.pendingTextPaths,vt=this.ctx;if(ft===void 0){vt.beginPath();return}vt.save(),vt.beginPath();for(const mt of ft)vt.setTransform(...mt.transform),vt.translate(mt.x,mt.y),mt.addToPath(vt,mt.fontSize);vt.restore(),vt.clip(),vt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ft){this.current.charSpacing=ft}setWordSpacing(ft){this.current.wordSpacing=ft}setHScale(ft){this.current.textHScale=ft/100}setLeading(ft){this.current.leading=-ft}setFont(ft,vt){var en;const mt=this.commonObjs.get(ft),St=this.current;if(!mt)throw new Error(`Can't find font for ${ft}`);if(St.fontMatrix=mt.fontMatrix||a.FONT_IDENTITY_MATRIX,(St.fontMatrix[0]===0||St.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ft),vt<0?(vt=-vt,St.fontDirection=-1):St.fontDirection=1,this.current.font=mt,this.current.fontSize=vt,mt.isType3Font)return;const Ct=mt.loadedName||"sans-serif",Ft=((en=mt.systemFontInfo)==null?void 0:en.css)||`"${Ct}", ${mt.fallbackName}`;let Lt="normal";mt.black?Lt="900":mt.bold&&(Lt="bold");const zt=mt.italic?"italic":"normal";let Kt=vt;vt<_e?Kt=_e:vt>et&&(Kt=et),this.current.fontSizeScale=vt/Kt,this.ctx.font=`${zt} ${Lt} ${Kt}px ${Ft}`}setTextRenderingMode(ft){this.current.textRenderingMode=ft}setTextRise(ft){this.current.textRise=ft}moveText(ft,vt){this.current.x=this.current.lineX+=ft,this.current.y=this.current.lineY+=vt}setLeadingMoveText(ft,vt){this.setLeading(-vt),this.moveText(ft,vt)}setTextMatrix(ft,vt,mt,St,Ct,Ft){this.current.textMatrix=[ft,vt,mt,St,Ct,Ft],this.current.textMatrixScale=Math.hypot(ft,vt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ft,vt,mt,St){const Ct=this.ctx,Ft=this.current,Lt=Ft.font,zt=Ft.textRenderingMode,Kt=Ft.fontSize/Ft.fontSizeScale,en=zt&a.TextRenderingMode.FILL_STROKE_MASK,rn=!!(zt&a.TextRenderingMode.ADD_TO_PATH_FLAG),an=Ft.patternFill&&!Lt.missingFile;let yn;(Lt.disableFontFace||rn||an)&&(yn=Lt.getPathGenerator(this.commonObjs,ft)),Lt.disableFontFace||an?(Ct.save(),Ct.translate(vt,mt),Ct.beginPath(),yn(Ct,Kt),St&&Ct.setTransform(...St),(en===a.TextRenderingMode.FILL||en===a.TextRenderingMode.FILL_STROKE)&&Ct.fill(),(en===a.TextRenderingMode.STROKE||en===a.TextRenderingMode.FILL_STROKE)&&Ct.stroke(),Ct.restore()):((en===a.TextRenderingMode.FILL||en===a.TextRenderingMode.FILL_STROKE)&&Ct.fillText(ft,vt,mt),(en===a.TextRenderingMode.STROKE||en===a.TextRenderingMode.FILL_STROKE)&&Ct.strokeText(ft,vt,mt)),rn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_.getCurrentTransform)(Ct),x:vt,y:mt,fontSize:Kt,addToPath:yn})}get isFontSubpixelAAEnabled(){const{context:ft}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ft.scale(1.5,1),ft.fillText("I",0,10);const vt=ft.getImageData(0,0,10,10).data;let mt=!1;for(let St=3;St<vt.length;St+=4)if(vt[St]>0&&vt[St]<255){mt=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",mt)}showText(ft){const vt=this.current,mt=vt.font;if(mt.isType3Font)return this.showType3Text(ft);const St=vt.fontSize;if(St===0)return;const Ct=this.ctx,Ft=vt.fontSizeScale,Lt=vt.charSpacing,zt=vt.wordSpacing,Kt=vt.fontDirection,en=vt.textHScale*Kt,rn=ft.length,an=mt.vertical,yn=an?1:-1,un=mt.defaultVMetrics,Cn=St*vt.fontMatrix[0],Dn=vt.textRenderingMode===a.TextRenderingMode.FILL&&!mt.disableFontFace&&!vt.patternFill;Ct.save(),Ct.transform(...vt.textMatrix),Ct.translate(vt.x,vt.y+vt.textRise),Kt>0?Ct.scale(en,-1):Ct.scale(en,1);let bn;if(vt.patternFill){Ct.save();const ln=vt.fillColor.getPattern(Ct,this,(0,_.getCurrentTransformInverse)(Ct),j.PathType.FILL);bn=(0,_.getCurrentTransform)(Ct),Ct.restore(),Ct.fillStyle=ln}let Pn=vt.lineWidth;const hn=vt.textMatrixScale;if(hn===0||Pn===0){const ln=vt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(ln===a.TextRenderingMode.STROKE||ln===a.TextRenderingMode.FILL_STROKE)&&(Pn=this.getSinglePixelWidth())}else Pn/=hn;if(Ft!==1&&(Ct.scale(Ft,Ft),Pn/=Ft),Ct.lineWidth=Pn,mt.isInvalidPDFjsFont){const ln=[];let kn=0;for(const Ut of ft)ln.push(Ut.unicode),kn+=Ut.width;Ct.fillText(ln.join(""),0,0),vt.x+=kn*Cn*en,Ct.restore(),this.compose();return}let Qt=0,Jt;for(Jt=0;Jt<rn;++Jt){const ln=ft[Jt];if(typeof ln=="number"){Qt+=yn*ln*St/1e3;continue}let kn=!1;const Ut=(ln.isSpace?zt:0)+Lt,on=ln.fontChar,vn=ln.accent;let _n,jn,On=ln.width;if(an){const Bn=ln.vmetric||un,sn=-(ln.vmetric?Bn[1]:On*.5)*Cn,qt=Bn[2]*Cn;On=Bn?-Bn[0]:On,_n=sn/Ft,jn=(Qt+qt)/Ft}else _n=Qt/Ft,jn=0;if(mt.remeasure&&On>0){const Bn=Ct.measureText(on).width*1e3/St*Ft;if(On<Bn&&this.isFontSubpixelAAEnabled){const sn=On/Bn;kn=!0,Ct.save(),Ct.scale(sn,1),_n/=sn}else On!==Bn&&(_n+=(On-Bn)/2e3*St/Ft)}if(this.contentVisible&&(ln.isInFont||mt.missingFile)){if(Dn&&!vn)Ct.fillText(on,_n,jn);else if(this.paintChar(on,_n,jn,bn),vn){const Bn=_n+St*vn.offset.x/Ft,sn=jn-St*vn.offset.y/Ft;this.paintChar(vn.fontChar,Bn,sn,bn)}}const Nn=an?On*Cn-Ut*Kt:On*Cn+Ut*Kt;Qt+=Nn,kn&&Ct.restore()}an?vt.y-=Qt:vt.x+=Qt*en,Ct.restore(),this.compose()}showType3Text(ft){const vt=this.ctx,mt=this.current,St=mt.font,Ct=mt.fontSize,Ft=mt.fontDirection,Lt=St.vertical?1:-1,zt=mt.charSpacing,Kt=mt.wordSpacing,en=mt.textHScale*Ft,rn=mt.fontMatrix||a.FONT_IDENTITY_MATRIX,an=ft.length,yn=mt.textRenderingMode===a.TextRenderingMode.INVISIBLE;let un,Cn,Dn,bn;if(!(yn||Ct===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,vt.save(),vt.transform(...mt.textMatrix),vt.translate(mt.x,mt.y),vt.scale(en,Ft),un=0;un<an;++un){if(Cn=ft[un],typeof Cn=="number"){bn=Lt*Cn*Ct/1e3,this.ctx.translate(bn,0),mt.x+=bn*en;continue}const Pn=(Cn.isSpace?Kt:0)+zt,hn=St.charProcOperatorList[Cn.operatorListId];if(!hn){(0,a.warn)(`Type3 character "${Cn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Cn,this.save(),vt.scale(Ct,Ct),vt.transform(...rn),this.executeOperatorList(hn),this.restore()),Dn=a.Util.applyTransform([Cn.width,0],rn)[0]*Ct+Pn,vt.translate(Dn,0),mt.x+=Dn*en}vt.restore(),this.processingType3=null}}setCharWidth(ft,vt){}setCharWidthAndBounds(ft,vt,mt,St,Ct,Ft){this.ctx.rect(mt,St,Ct-mt,Ft-St),this.ctx.clip(),this.endPath()}getColorN_Pattern(ft){let vt;if(ft[0]==="TilingPattern"){const mt=ft[1],St=this.baseTransform||(0,_.getCurrentTransform)(this.ctx),Ct={createCanvasGraphics:Ft=>new pn(Ft,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};vt=new j.TilingPattern(ft,mt,this.ctx,Ct,St)}else vt=this._getPattern(ft[1],ft[2]);return vt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ft,vt,mt){const St=a.Util.makeHexColor(ft,vt,mt);this.ctx.strokeStyle=St,this.current.strokeColor=St}setFillRGBColor(ft,vt,mt){const St=a.Util.makeHexColor(ft,vt,mt);this.ctx.fillStyle=St,this.current.fillColor=St,this.current.patternFill=!1}_getPattern(ft,vt=null){let mt;return this.cachedPatterns.has(ft)?mt=this.cachedPatterns.get(ft):(mt=(0,j.getShadingPattern)(this.getObject(ft)),this.cachedPatterns.set(ft,mt)),vt&&(mt.matrix=vt),mt}shadingFill(ft){if(!this.contentVisible)return;const vt=this.ctx;this.save();const mt=this._getPattern(ft);vt.fillStyle=mt.getPattern(vt,this,(0,_.getCurrentTransformInverse)(vt),j.PathType.SHADING);const St=(0,_.getCurrentTransformInverse)(vt);if(St){const{width:Ct,height:Ft}=vt.canvas,[Lt,zt,Kt,en]=a.Util.getAxialAlignedBoundingBox([0,0,Ct,Ft],St);this.ctx.fillRect(Lt,zt,Kt-Lt,en-zt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ft,vt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ft)&&ft.length===6&&this.transform(...ft),this.baseTransform=(0,_.getCurrentTransform)(this.ctx),vt)){const mt=vt[2]-vt[0],St=vt[3]-vt[1];this.ctx.rect(vt[0],vt[1],mt,St),this.current.updateRectMinMax((0,_.getCurrentTransform)(this.ctx),vt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ft){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const vt=this.ctx;ft.isolated||(0,a.info)("TODO: Support non-isolated groups."),ft.knockout&&(0,a.warn)("Knockout groups not supported.");const mt=(0,_.getCurrentTransform)(vt);if(ft.matrix&&vt.transform(...ft.matrix),!ft.bbox)throw new Error("Bounding box is required.");let St=a.Util.getAxialAlignedBoundingBox(ft.bbox,(0,_.getCurrentTransform)(vt));const Ct=[0,0,vt.canvas.width,vt.canvas.height];St=a.Util.intersect(St,Ct)||[0,0,0,0];const Ft=Math.floor(St[0]),Lt=Math.floor(St[1]);let zt=Math.max(Math.ceil(St[2])-Ft,1),Kt=Math.max(Math.ceil(St[3])-Lt,1),en=1,rn=1;zt>tt&&(en=zt/tt,zt=tt),Kt>tt&&(rn=Kt/tt,Kt=tt),this.current.startNewPathAndClipBox([0,0,zt,Kt]);let an="groupAt"+this.groupLevel;ft.smask&&(an+="_smask_"+this.smaskCounter++%2);const yn=this.cachedCanvases.getCanvas(an,zt,Kt),un=yn.context;un.scale(1/en,1/rn),un.translate(-Ft,-Lt),un.transform(...mt),ft.smask?this.smaskStack.push({canvas:yn.canvas,context:un,offsetX:Ft,offsetY:Lt,scaleX:en,scaleY:rn,subtype:ft.smask.subtype,backdrop:ft.smask.backdrop,transferMap:ft.smask.transferMap||null,startTransformInverse:null}):(vt.setTransform(1,0,0,1,0,0),vt.translate(Ft,Lt),vt.scale(en,rn),vt.save()),pt(vt,un),this.ctx=un,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(vt),this.groupLevel++}endGroup(ft){if(!this.contentVisible)return;this.groupLevel--;const vt=this.ctx,mt=this.groupStack.pop();if(this.ctx=mt,this.ctx.imageSmoothingEnabled=!1,ft.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const St=(0,_.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...St);const Ct=a.Util.getAxialAlignedBoundingBox([0,0,vt.canvas.width,vt.canvas.height],St);this.ctx.drawImage(vt.canvas,0,0),this.ctx.restore(),this.compose(Ct)}}beginAnnotation(ft,vt,mt,St,Ct){if(Ht(this,Tt,Gr).call(this),at(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(vt)&&vt.length===4){const Ft=vt[2]-vt[0],Lt=vt[3]-vt[1];if(Ct&&this.annotationCanvasMap){mt=mt.slice(),mt[4]-=vt[0],mt[5]-=vt[1],vt=vt.slice(),vt[0]=vt[1]=0,vt[2]=Ft,vt[3]=Lt;const[zt,Kt]=a.Util.singularValueDecompose2dScale((0,_.getCurrentTransform)(this.ctx)),{viewportScale:en}=this,rn=Math.ceil(Ft*this.outputScaleX*en),an=Math.ceil(Lt*this.outputScaleY*en);this.annotationCanvas=this.canvasFactory.create(rn,an);const{canvas:yn,context:un}=this.annotationCanvas;this.annotationCanvasMap.set(ft,yn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=un,this.ctx.save(),this.ctx.setTransform(zt,0,0,-Kt,0,Lt*Kt),at(this.ctx)}else at(this.ctx),this.ctx.rect(vt[0],vt[1],Ft,Lt),this.ctx.clip(),this.endPath()}this.current=new ct(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...mt),this.transform(...St)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ht(this,Rt,Xr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ft){if(!this.contentVisible)return;const vt=ft.count;ft=this.getObject(ft.data,ft),ft.count=vt;const mt=this.ctx,St=this.processingType3;if(St&&(St.compiled===void 0&&(St.compiled=it(ft)),St.compiled)){St.compiled(mt);return}const Ct=this._createMaskCanvas(ft),Ft=Ct.canvas;mt.save(),mt.setTransform(1,0,0,1,0,0),mt.drawImage(Ft,Ct.offsetX,Ct.offsetY),mt.restore(),this.compose()}paintImageMaskXObjectRepeat(ft,vt,mt=0,St=0,Ct,Ft){if(!this.contentVisible)return;ft=this.getObject(ft.data,ft);const Lt=this.ctx;Lt.save();const zt=(0,_.getCurrentTransform)(Lt);Lt.transform(vt,mt,St,Ct,0,0);const Kt=this._createMaskCanvas(ft);Lt.setTransform(1,0,0,1,Kt.offsetX-zt[4],Kt.offsetY-zt[5]);for(let en=0,rn=Ft.length;en<rn;en+=2){const an=a.Util.transform(zt,[vt,mt,St,Ct,Ft[en],Ft[en+1]]),[yn,un]=a.Util.applyTransform([0,0],an);Lt.drawImage(Kt.canvas,yn,un)}Lt.restore(),this.compose()}paintImageMaskXObjectGroup(ft){if(!this.contentVisible)return;const vt=this.ctx,mt=this.current.fillColor,St=this.current.patternFill;for(const Ct of ft){const{data:Ft,width:Lt,height:zt,transform:Kt}=Ct,en=this.cachedCanvases.getCanvas("maskCanvas",Lt,zt),rn=en.context;rn.save();const an=this.getObject(Ft,Ct);kt(rn,an),rn.globalCompositeOperation="source-in",rn.fillStyle=St?mt.getPattern(rn,this,(0,_.getCurrentTransformInverse)(vt),j.PathType.FILL):mt,rn.fillRect(0,0,Lt,zt),rn.restore(),vt.save(),vt.transform(...Kt),vt.scale(1,-1),yt(vt,en.canvas,0,0,Lt,zt,0,-1,1,1),vt.restore()}this.compose()}paintImageXObject(ft){if(!this.contentVisible)return;const vt=this.getObject(ft);if(!vt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(vt)}paintImageXObjectRepeat(ft,vt,mt,St){if(!this.contentVisible)return;const Ct=this.getObject(ft);if(!Ct){(0,a.warn)("Dependent image isn't ready yet");return}const Ft=Ct.width,Lt=Ct.height,zt=[];for(let Kt=0,en=St.length;Kt<en;Kt+=2)zt.push({transform:[vt,0,0,mt,St[Kt],St[Kt+1]],x:0,y:0,w:Ft,h:Lt});this.paintInlineImageXObjectGroup(Ct,zt)}applyTransferMapsToCanvas(ft){return this.current.transferMaps!=="none"&&(ft.filter=this.current.transferMaps,ft.drawImage(ft.canvas,0,0),ft.filter="none"),ft.canvas}applyTransferMapsToBitmap(ft){if(this.current.transferMaps==="none")return ft.bitmap;const{bitmap:vt,width:mt,height:St}=ft,Ct=this.cachedCanvases.getCanvas("inlineImage",mt,St),Ft=Ct.context;return Ft.filter=this.current.transferMaps,Ft.drawImage(vt,0,0),Ft.filter="none",Ct.canvas}paintInlineImageXObject(ft){if(!this.contentVisible)return;const vt=ft.width,mt=ft.height,St=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Lt}=St;Lt!=="none"&&Lt!==""&&(St.filter="none")}St.scale(1/vt,-1/mt);let Ct;if(ft.bitmap)Ct=this.applyTransferMapsToBitmap(ft);else if(typeof HTMLElement=="function"&&ft instanceof HTMLElement||!ft.data)Ct=ft;else{const zt=this.cachedCanvases.getCanvas("inlineImage",vt,mt).context;ht(zt,ft),Ct=this.applyTransferMapsToCanvas(zt)}const Ft=this._scaleImage(Ct,(0,_.getCurrentTransformInverse)(St));St.imageSmoothingEnabled=Mt((0,_.getCurrentTransform)(St),ft.interpolate),yt(St,Ft.img,0,0,Ft.paintWidth,Ft.paintHeight,0,-mt,vt,mt),this.compose(),this.restore()}paintInlineImageXObjectGroup(ft,vt){if(!this.contentVisible)return;const mt=this.ctx;let St;if(ft.bitmap)St=ft.bitmap;else{const Ct=ft.width,Ft=ft.height,zt=this.cachedCanvases.getCanvas("inlineImage",Ct,Ft).context;ht(zt,ft),St=this.applyTransferMapsToCanvas(zt)}for(const Ct of vt)mt.save(),mt.transform(...Ct.transform),mt.scale(1,-1),yt(mt,St,Ct.x,Ct.y,Ct.w,Ct.h,0,-1,1,1),mt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ft){}markPointProps(ft,vt){}beginMarkedContent(ft){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ft,vt){ft==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(vt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ft){const vt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ft);const mt=this.ctx;this.pendingClip&&(vt||(this.pendingClip===Xt?mt.clip("evenodd"):mt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),mt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ft=(0,_.getCurrentTransform)(this.ctx);if(ft[1]===0&&ft[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ft[0]),Math.abs(ft[3]));else{const vt=Math.abs(ft[0]*ft[3]-ft[2]*ft[1]),mt=Math.hypot(ft[0],ft[2]),St=Math.hypot(ft[1],ft[3]);this._cachedGetSinglePixelWidth=Math.max(mt,St)/vt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ft}=this.current,{a:vt,b:mt,c:St,d:Ct}=this.ctx.getTransform();let Ft,Lt;if(mt===0&&St===0){const zt=Math.abs(vt),Kt=Math.abs(Ct);if(zt===Kt)if(ft===0)Ft=Lt=1/zt;else{const en=zt*ft;Ft=Lt=en<1?1/en:1}else if(ft===0)Ft=1/zt,Lt=1/Kt;else{const en=zt*ft,rn=Kt*ft;Ft=en<1?1/en:1,Lt=rn<1?1/rn:1}}else{const zt=Math.abs(vt*Ct-mt*St),Kt=Math.hypot(vt,mt),en=Math.hypot(St,Ct);if(ft===0)Ft=en/zt,Lt=Kt/zt;else{const rn=ft*zt;Ft=en>rn?en/rn:1,Lt=Kt>rn?Kt/rn:1}}this._cachedScaleForStroking[0]=Ft,this._cachedScaleForStroking[1]=Lt}return this._cachedScaleForStroking}rescaleAndStroke(ft){const{ctx:vt}=this,{lineWidth:mt}=this.current,[St,Ct]=this.getScaleForStroking();if(vt.lineWidth=mt||1,St===1&&Ct===1){vt.stroke();return}const Ft=vt.getLineDash();if(ft&&vt.save(),vt.scale(St,Ct),Ft.length>0){const Lt=Math.max(St,Ct);vt.setLineDash(Ft.map(zt=>zt/Lt)),vt.lineDashOffset/=Lt}vt.stroke(),ft&&vt.restore()}isContentVisible(){for(let ft=this.markedContentStack.length-1;ft>=0;ft--)if(!this.markedContentStack[ft].visible)return!1;return!0}};Tt=new WeakSet,Gr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Rt=new WeakSet,Xr=function(){if(this.pageColors){const ft=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ft!=="none"){const vt=this.ctx.filter;this.ctx.filter=ft,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=vt}}};let Zt=pn;s.CanvasGraphics=Zt;for(const xt in a.OPS)Zt.prototype[xt]!==void 0&&(Zt.prototype[a.OPS[xt]]=Zt.prototype[xt])},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=ot;var a=o(1),_=o(6);const j={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=j;function $(it,ct){if(!ct)return;const ht=ct[2]-ct[0],kt=ct[3]-ct[1],pt=new Path2D;pt.rect(ct[0],ct[1],ht,kt),it.clip(pt)}class _e{constructor(){this.constructor===_e&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class et extends _e{constructor(ct){super(),this._type=ct[1],this._bbox=ct[2],this._colorStops=ct[3],this._p0=ct[4],this._p1=ct[5],this._r0=ct[6],this._r1=ct[7],this.matrix=null}_createGradient(ct){let ht;this._type==="axial"?ht=ct.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=ct.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const kt of this._colorStops)ht.addColorStop(kt[0],kt[1]);return ht}getPattern(ct,ht,kt,pt){let at;if(pt===j.STROKE||pt===j.FILL){const At=ht.current.getClippedPathBoundingBox(pt,(0,_.getCurrentTransform)(ct))||[0,0,0,0],wt=Math.ceil(At[2]-At[0])||1,bt=Math.ceil(At[3]-At[1])||1,Et=ht.cachedCanvases.getCanvas("pattern",wt,bt,!0),_t=Et.context;_t.clearRect(0,0,_t.canvas.width,_t.canvas.height),_t.beginPath(),_t.rect(0,0,_t.canvas.width,_t.canvas.height),_t.translate(-At[0],-At[1]),kt=a.Util.transform(kt,[1,0,0,1,At[0],At[1]]),_t.transform(...ht.baseTransform),this.matrix&&_t.transform(...this.matrix),$(_t,this._bbox),_t.fillStyle=this._createGradient(_t),_t.fill(),at=ct.createPattern(Et.canvas,"no-repeat");const Mt=new DOMMatrix(kt);at.setTransform(Mt)}else $(ct,this._bbox),at=this._createGradient(ct);return at}}function tt(it,ct,ht,kt,pt,at,At,wt){const bt=ct.coords,Et=ct.colors,_t=it.data,Mt=it.width*4;let Ot;bt[ht+1]>bt[kt+1]&&(Ot=ht,ht=kt,kt=Ot,Ot=at,at=At,At=Ot),bt[kt+1]>bt[pt+1]&&(Ot=kt,kt=pt,pt=Ot,Ot=At,At=wt,wt=Ot),bt[ht+1]>bt[kt+1]&&(Ot=ht,ht=kt,kt=Ot,Ot=at,at=At,At=Ot);const jt=(bt[ht]+ct.offsetX)*ct.scaleX,Bt=(bt[ht+1]+ct.offsetY)*ct.scaleY,Xt=(bt[kt]+ct.offsetX)*ct.scaleX,Zt=(bt[kt+1]+ct.offsetY)*ct.scaleY,Tt=(bt[pt]+ct.offsetX)*ct.scaleX,Wt=(bt[pt+1]+ct.offsetY)*ct.scaleY;if(Bt>=Wt)return;const Rt=Et[at],dn=Et[at+1],pn=Et[at+2],xt=Et[At],ft=Et[At+1],vt=Et[At+2],mt=Et[wt],St=Et[wt+1],Ct=Et[wt+2],Ft=Math.round(Bt),Lt=Math.round(Wt);let zt,Kt,en,rn,an,yn,un,Cn;for(let Dn=Ft;Dn<=Lt;Dn++){if(Dn<Zt){const Jt=Dn<Bt?0:(Bt-Dn)/(Bt-Zt);zt=jt-(jt-Xt)*Jt,Kt=Rt-(Rt-xt)*Jt,en=dn-(dn-ft)*Jt,rn=pn-(pn-vt)*Jt}else{let Jt;Dn>Wt?Jt=1:Zt===Wt?Jt=0:Jt=(Zt-Dn)/(Zt-Wt),zt=Xt-(Xt-Tt)*Jt,Kt=xt-(xt-mt)*Jt,en=ft-(ft-St)*Jt,rn=vt-(vt-Ct)*Jt}let bn;Dn<Bt?bn=0:Dn>Wt?bn=1:bn=(Bt-Dn)/(Bt-Wt),an=jt-(jt-Tt)*bn,yn=Rt-(Rt-mt)*bn,un=dn-(dn-St)*bn,Cn=pn-(pn-Ct)*bn;const Pn=Math.round(Math.min(zt,an)),hn=Math.round(Math.max(zt,an));let Qt=Mt*Dn+Pn*4;for(let Jt=Pn;Jt<=hn;Jt++)bn=(zt-Jt)/(zt-an),bn<0?bn=0:bn>1&&(bn=1),_t[Qt++]=Kt-(Kt-yn)*bn|0,_t[Qt++]=en-(en-un)*bn|0,_t[Qt++]=rn-(rn-Cn)*bn|0,_t[Qt++]=255}}function nt(it,ct,ht){const kt=ct.coords,pt=ct.colors;let at,At;switch(ct.type){case"lattice":const wt=ct.verticesPerRow,bt=Math.floor(kt.length/wt)-1,Et=wt-1;for(at=0;at<bt;at++){let _t=at*wt;for(let Mt=0;Mt<Et;Mt++,_t++)tt(it,ht,kt[_t],kt[_t+1],kt[_t+wt],pt[_t],pt[_t+1],pt[_t+wt]),tt(it,ht,kt[_t+wt+1],kt[_t+1],kt[_t+wt],pt[_t+wt+1],pt[_t+1],pt[_t+wt])}break;case"triangles":for(at=0,At=kt.length;at<At;at+=3)tt(it,ht,kt[at],kt[at+1],kt[at+2],pt[at],pt[at+1],pt[at+2]);break;default:throw new Error("illegal figure")}}class rt extends _e{constructor(ct){super(),this._coords=ct[2],this._colors=ct[3],this._figures=ct[4],this._bounds=ct[5],this._bbox=ct[7],this._background=ct[8],this.matrix=null}_createMeshCanvas(ct,ht,kt){const wt=Math.floor(this._bounds[0]),bt=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-wt,_t=Math.ceil(this._bounds[3])-bt,Mt=Math.min(Math.ceil(Math.abs(Et*ct[0]*1.1)),3e3),Ot=Math.min(Math.ceil(Math.abs(_t*ct[1]*1.1)),3e3),jt=Et/Mt,Bt=_t/Ot,Xt={coords:this._coords,colors:this._colors,offsetX:-wt,offsetY:-bt,scaleX:1/jt,scaleY:1/Bt},Zt=Mt+2*2,Tt=Ot+2*2,Wt=kt.getCanvas("mesh",Zt,Tt,!1),Rt=Wt.context,dn=Rt.createImageData(Mt,Ot);if(ht){const xt=dn.data;for(let ft=0,vt=xt.length;ft<vt;ft+=4)xt[ft]=ht[0],xt[ft+1]=ht[1],xt[ft+2]=ht[2],xt[ft+3]=255}for(const xt of this._figures)nt(dn,xt,Xt);return Rt.putImageData(dn,2,2),{canvas:Wt.canvas,offsetX:wt-2*jt,offsetY:bt-2*Bt,scaleX:jt,scaleY:Bt}}getPattern(ct,ht,kt,pt){$(ct,this._bbox);let at;if(pt===j.SHADING)at=a.Util.singularValueDecompose2dScale((0,_.getCurrentTransform)(ct));else if(at=a.Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const wt=a.Util.singularValueDecompose2dScale(this.matrix);at=[at[0]*wt[0],at[1]*wt[1]]}const At=this._createMeshCanvas(at,pt===j.SHADING?null:this._background,ht.cachedCanvases);return pt!==j.SHADING&&(ct.setTransform(...ht.baseTransform),this.matrix&&ct.transform(...this.matrix)),ct.translate(At.offsetX,At.offsetY),ct.scale(At.scaleX,At.scaleY),ct.createPattern(At.canvas,"no-repeat")}}class st extends _e{getPattern(){return"hotpink"}}function ot(it){switch(it[0]){case"RadialAxial":return new et(it);case"Mesh":return new rt(it);case"Dummy":return new st}throw new Error(`Unknown IR type: ${it[0]}`)}const ut={COLORED:1,UNCOLORED:2},yt=class yt{constructor(ct,ht,kt,pt,at){this.operatorList=ct[2],this.matrix=ct[3]||[1,0,0,1,0,0],this.bbox=ct[4],this.xstep=ct[5],this.ystep=ct[6],this.paintType=ct[7],this.tilingType=ct[8],this.color=ht,this.ctx=kt,this.canvasGraphicsFactory=pt,this.baseTransform=at}createPatternCanvas(ct){const ht=this.operatorList,kt=this.bbox,pt=this.xstep,at=this.ystep,At=this.paintType,wt=this.tilingType,bt=this.color,Et=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+wt);const _t=kt[0],Mt=kt[1],Ot=kt[2],jt=kt[3],Bt=a.Util.singularValueDecompose2dScale(this.matrix),Xt=a.Util.singularValueDecompose2dScale(this.baseTransform),Zt=[Bt[0]*Xt[0],Bt[1]*Xt[1]],Tt=this.getSizeAndScale(pt,this.ctx.canvas.width,Zt[0]),Wt=this.getSizeAndScale(at,this.ctx.canvas.height,Zt[1]),Rt=ct.cachedCanvases.getCanvas("pattern",Tt.size,Wt.size,!0),dn=Rt.context,pn=Et.createCanvasGraphics(dn);pn.groupLevel=ct.groupLevel,this.setFillAndStrokeStyleToContext(pn,At,bt);let xt=_t,ft=Mt,vt=Ot,mt=jt;return _t<0&&(xt=0,vt+=Math.abs(_t)),Mt<0&&(ft=0,mt+=Math.abs(Mt)),dn.translate(-(Tt.scale*xt),-(Wt.scale*ft)),pn.transform(Tt.scale,0,0,Wt.scale,0,0),dn.save(),this.clipBbox(pn,xt,ft,vt,mt),pn.baseTransform=(0,_.getCurrentTransform)(pn.ctx),pn.executeOperatorList(ht),pn.endDrawing(),{canvas:Rt.canvas,scaleX:Tt.scale,scaleY:Wt.scale,offsetX:xt,offsetY:ft}}getSizeAndScale(ct,ht,kt){ct=Math.abs(ct);const pt=Math.max(yt.MAX_PATTERN_SIZE,ht);let at=Math.ceil(ct*kt);return at>=pt?at=pt:kt=at/ct,{scale:kt,size:at}}clipBbox(ct,ht,kt,pt,at){const At=pt-ht,wt=at-kt;ct.ctx.rect(ht,kt,At,wt),ct.current.updateRectMinMax((0,_.getCurrentTransform)(ct.ctx),[ht,kt,pt,at]),ct.clip(),ct.endPath()}setFillAndStrokeStyleToContext(ct,ht,kt){const pt=ct.ctx,at=ct.current;switch(ht){case ut.COLORED:const At=this.ctx;pt.fillStyle=At.fillStyle,pt.strokeStyle=At.strokeStyle,at.fillColor=At.fillStyle,at.strokeColor=At.strokeStyle;break;case ut.UNCOLORED:const wt=a.Util.makeHexColor(kt[0],kt[1],kt[2]);pt.fillStyle=wt,pt.strokeStyle=wt,at.fillColor=wt,at.strokeColor=wt;break;default:throw new a.FormatError(`Unsupported paint type: ${ht}`)}}getPattern(ct,ht,kt,pt){let at=kt;pt!==j.SHADING&&(at=a.Util.transform(at,ht.baseTransform),this.matrix&&(at=a.Util.transform(at,this.matrix)));const At=this.createPatternCanvas(ht);let wt=new DOMMatrix(at);wt=wt.translate(At.offsetX,At.offsetY),wt=wt.scale(1/At.scaleX,1/At.scaleY);const bt=ct.createPattern(At.canvas,"repeat");return bt.setTransform(wt),bt}};Yn(yt,"MAX_PATTERN_SIZE",3e3);let dt=yt;s.TilingPattern=dt},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=j,s.convertToRGBA=_,s.grayToRGBA=_e;var a=o(1);function _(et){switch(et.kind){case a.ImageKind.GRAYSCALE_1BPP:return j(et);case a.ImageKind.RGB_24BPP:return $(et)}return null}function j({src:et,srcPos:tt=0,dest:nt,width:rt,height:st,nonBlackColor:ot=4294967295,inverseDecode:ut=!1}){const dt=a.FeatureTest.isLittleEndian?4278190080:255,[yt,it]=ut?[ot,dt]:[dt,ot],ct=rt>>3,ht=rt&7,kt=et.length;nt=new Uint32Array(nt.buffer);let pt=0;for(let at=0;at<st;at++){for(const wt=tt+ct;tt<wt;tt++){const bt=tt<kt?et[tt]:255;nt[pt++]=bt&128?it:yt,nt[pt++]=bt&64?it:yt,nt[pt++]=bt&32?it:yt,nt[pt++]=bt&16?it:yt,nt[pt++]=bt&8?it:yt,nt[pt++]=bt&4?it:yt,nt[pt++]=bt&2?it:yt,nt[pt++]=bt&1?it:yt}if(ht===0)continue;const At=tt<kt?et[tt++]:255;for(let wt=0;wt<ht;wt++)nt[pt++]=At&1<<7-wt?it:yt}return{srcPos:tt,destPos:pt}}function $({src:et,srcPos:tt=0,dest:nt,destPos:rt=0,width:st,height:ot}){let ut=0;const dt=et.length>>2,yt=new Uint32Array(et.buffer,tt,dt);if(a.FeatureTest.isLittleEndian){for(;ut<dt-2;ut+=3,rt+=4){const it=yt[ut],ct=yt[ut+1],ht=yt[ut+2];nt[rt]=it|4278190080,nt[rt+1]=it>>>24|ct<<8|4278190080,nt[rt+2]=ct>>>16|ht<<16|4278190080,nt[rt+3]=ht>>>8|4278190080}for(let it=ut*4,ct=et.length;it<ct;it+=3)nt[rt++]=et[it]|et[it+1]<<8|et[it+2]<<16|4278190080}else{for(;ut<dt-2;ut+=3,rt+=4){const it=yt[ut],ct=yt[ut+1],ht=yt[ut+2];nt[rt]=it|255,nt[rt+1]=it<<24|ct>>>8|255,nt[rt+2]=ct<<16|ht>>>16|255,nt[rt+3]=ht<<8|255}for(let it=ut*4,ct=et.length;it<ct;it+=3)nt[rt++]=et[it]<<24|et[it+1]<<16|et[it+2]<<8|255}return{srcPos:tt,destPos:rt}}function _e(et,tt){if(a.FeatureTest.isLittleEndian)for(let nt=0,rt=et.length;nt<rt;nt++)tt[nt]=et[nt]*65793|4278190080;else for(let nt=0,rt=et.length;nt<rt;nt++)tt[nt]=et[nt]*16843008|255}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const o=Object.create(null);s.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(i,s,o)=>{var et,ws,nt,ks,st,kr;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=o(1);const _={UNKNOWN:0,DATA:1,ERROR:2},j={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $(ut){switch(ut instanceof Error||typeof ut=="object"&&ut!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ut.name){case"AbortException":return new a.AbortException(ut.message);case"MissingPDFException":return new a.MissingPDFException(ut.message);case"PasswordException":return new a.PasswordException(ut.message,ut.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(ut.message,ut.status);case"UnknownErrorException":return new a.UnknownErrorException(ut.message,ut.details);default:return new a.UnknownErrorException(ut.message,ut.toString())}}class _e{constructor(dt,yt,it){Nt(this,et);Nt(this,nt);Nt(this,st);this.sourceName=dt,this.targetName=yt,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ct=>{const ht=ct.data;if(ht.targetName!==this.sourceName)return;if(ht.stream){Ht(this,nt,ks).call(this,ht);return}if(ht.callback){const pt=ht.callbackId,at=this.callbackCapabilities[pt];if(!at)throw new Error(`Cannot resolve callback ${pt}`);if(delete this.callbackCapabilities[pt],ht.callback===_.DATA)at.resolve(ht.data);else if(ht.callback===_.ERROR)at.reject($(ht.reason));else throw new Error("Unexpected callback case");return}const kt=this.actionHandler[ht.action];if(!kt)throw new Error(`Unknown action from worker: ${ht.action}`);if(ht.callbackId){const pt=this.sourceName,at=ht.sourceName;new Promise(function(At){At(kt(ht.data))}).then(function(At){it.postMessage({sourceName:pt,targetName:at,callback:_.DATA,callbackId:ht.callbackId,data:At})},function(At){it.postMessage({sourceName:pt,targetName:at,callback:_.ERROR,callbackId:ht.callbackId,reason:$(At)})});return}if(ht.streamId){Ht(this,et,ws).call(this,ht);return}kt(ht.data)},it.addEventListener("message",this._onComObjOnMessage)}on(dt,yt){const it=this.actionHandler;if(it[dt])throw new Error(`There is already an actionName called "${dt}"`);it[dt]=yt}send(dt,yt,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,data:yt},it)}sendWithPromise(dt,yt,it){const ct=this.callbackId++,ht=new a.PromiseCapability;this.callbackCapabilities[ct]=ht;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,callbackId:ct,data:yt},it)}catch(kt){ht.reject(kt)}return ht.promise}sendWithStream(dt,yt,it,ct){const ht=this.streamId++,kt=this.sourceName,pt=this.targetName,at=this.comObj;return new ReadableStream({start:At=>{const wt=new a.PromiseCapability;return this.streamControllers[ht]={controller:At,startCall:wt,pullCall:null,cancelCall:null,isClosed:!1},at.postMessage({sourceName:kt,targetName:pt,action:dt,streamId:ht,data:yt,desiredSize:At.desiredSize},ct),wt.promise},pull:At=>{const wt=new a.PromiseCapability;return this.streamControllers[ht].pullCall=wt,at.postMessage({sourceName:kt,targetName:pt,stream:j.PULL,streamId:ht,desiredSize:At.desiredSize}),wt.promise},cancel:At=>{(0,a.assert)(At instanceof Error,"cancel must have a valid reason");const wt=new a.PromiseCapability;return this.streamControllers[ht].cancelCall=wt,this.streamControllers[ht].isClosed=!0,at.postMessage({sourceName:kt,targetName:pt,stream:j.CANCEL,streamId:ht,reason:$(At)}),wt.promise}},it)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}et=new WeakSet,ws=function(dt){const yt=dt.streamId,it=this.sourceName,ct=dt.sourceName,ht=this.comObj,kt=this,pt=this.actionHandler[dt.action],at={enqueue(At,wt=1,bt){if(this.isCancelled)return;const Et=this.desiredSize;this.desiredSize-=wt,Et>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),ht.postMessage({sourceName:it,targetName:ct,stream:j.ENQUEUE,streamId:yt,chunk:At},bt)},close(){this.isCancelled||(this.isCancelled=!0,ht.postMessage({sourceName:it,targetName:ct,stream:j.CLOSE,streamId:yt}),delete kt.streamSinks[yt])},error(At){(0,a.assert)(At instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ht.postMessage({sourceName:it,targetName:ct,stream:j.ERROR,streamId:yt,reason:$(At)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:dt.desiredSize,ready:null};at.sinkCapability.resolve(),at.ready=at.sinkCapability.promise,this.streamSinks[yt]=at,new Promise(function(At){At(pt(dt.data,at))}).then(function(){ht.postMessage({sourceName:it,targetName:ct,stream:j.START_COMPLETE,streamId:yt,success:!0})},function(At){ht.postMessage({sourceName:it,targetName:ct,stream:j.START_COMPLETE,streamId:yt,reason:$(At)})})},nt=new WeakSet,ks=function(dt){const yt=dt.streamId,it=this.sourceName,ct=dt.sourceName,ht=this.comObj,kt=this.streamControllers[yt],pt=this.streamSinks[yt];switch(dt.stream){case j.START_COMPLETE:dt.success?kt.startCall.resolve():kt.startCall.reject($(dt.reason));break;case j.PULL_COMPLETE:dt.success?kt.pullCall.resolve():kt.pullCall.reject($(dt.reason));break;case j.PULL:if(!pt){ht.postMessage({sourceName:it,targetName:ct,stream:j.PULL_COMPLETE,streamId:yt,success:!0});break}pt.desiredSize<=0&&dt.desiredSize>0&&pt.sinkCapability.resolve(),pt.desiredSize=dt.desiredSize,new Promise(function(at){var At;at((At=pt.onPull)==null?void 0:At.call(pt))}).then(function(){ht.postMessage({sourceName:it,targetName:ct,stream:j.PULL_COMPLETE,streamId:yt,success:!0})},function(at){ht.postMessage({sourceName:it,targetName:ct,stream:j.PULL_COMPLETE,streamId:yt,reason:$(at)})});break;case j.ENQUEUE:if((0,a.assert)(kt,"enqueue should have stream controller"),kt.isClosed)break;kt.controller.enqueue(dt.chunk);break;case j.CLOSE:if((0,a.assert)(kt,"close should have stream controller"),kt.isClosed)break;kt.isClosed=!0,kt.controller.close(),Ht(this,st,kr).call(this,kt,yt);break;case j.ERROR:(0,a.assert)(kt,"error should have stream controller"),kt.controller.error($(dt.reason)),Ht(this,st,kr).call(this,kt,yt);break;case j.CANCEL_COMPLETE:dt.success?kt.cancelCall.resolve():kt.cancelCall.reject($(dt.reason)),Ht(this,st,kr).call(this,kt,yt);break;case j.CANCEL:if(!pt)break;new Promise(function(at){var At;at((At=pt.onCancel)==null?void 0:At.call(pt,$(dt.reason)))}).then(function(){ht.postMessage({sourceName:it,targetName:ct,stream:j.CANCEL_COMPLETE,streamId:yt,success:!0})},function(at){ht.postMessage({sourceName:it,targetName:ct,stream:j.CANCEL_COMPLETE,streamId:yt,reason:$(at)})}),pt.sinkCapability.reject($(dt.reason)),pt.isCancelled=!0,delete this.streamSinks[yt];break;default:throw new Error("Unexpected stream case")}},st=new WeakSet,kr=async function(dt,yt){var it,ct,ht;await Promise.allSettled([(it=dt.startCall)==null?void 0:it.promise,(ct=dt.pullCall)==null?void 0:ct.promise,(ht=dt.cancelCall)==null?void 0:ht.promise]),delete this.streamControllers[yt]},s.MessageHandler=_e},(i,s,o)=>{var j,$;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=o(1);class _{constructor({parsedData:et,rawData:tt}){Nt(this,j,void 0);Nt(this,$,void 0);tn(this,j,et),tn(this,$,tt)}getRaw(){return lt(this,$)}get(et){return lt(this,j).get(et)??null}getAll(){return(0,a.objectFromMap)(lt(this,j))}has(et){return lt(this,j).has(et)}}j=new WeakMap,$=new WeakMap,s.Metadata=_},(i,s,o)=>{var et,tt,nt,rt,st,ot,qr;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=o(1),_=o(8);const j=Symbol("INTERNAL");class ${constructor(yt,it){Nt(this,et,!0);this.name=yt,this.intent=it}get visible(){return lt(this,et)}_setVisible(yt,it){yt!==j&&(0,a.unreachable)("Internal method `_setVisible` called."),tn(this,et,it)}}et=new WeakMap;class _e{constructor(yt){Nt(this,ot);Nt(this,tt,null);Nt(this,nt,new Map);Nt(this,rt,null);Nt(this,st,null);if(this.name=null,this.creator=null,yt!==null){this.name=yt.name,this.creator=yt.creator,tn(this,st,yt.order);for(const it of yt.groups)lt(this,nt).set(it.id,new $(it.name,it.intent));if(yt.baseState==="OFF")for(const it of lt(this,nt).values())it._setVisible(j,!1);for(const it of yt.on)lt(this,nt).get(it)._setVisible(j,!0);for(const it of yt.off)lt(this,nt).get(it)._setVisible(j,!1);tn(this,rt,this.getHash())}}isVisible(yt){if(lt(this,nt).size===0)return!0;if(!yt)return(0,a.warn)("Optional content group not defined."),!0;if(yt.type==="OCG")return lt(this,nt).has(yt.id)?lt(this,nt).get(yt.id).visible:((0,a.warn)(`Optional content group not found: ${yt.id}`),!0);if(yt.type==="OCMD"){if(yt.expression)return Ht(this,ot,qr).call(this,yt.expression);if(!yt.policy||yt.policy==="AnyOn"){for(const it of yt.ids){if(!lt(this,nt).has(it))return(0,a.warn)(`Optional content group not found: ${it}`),!0;if(lt(this,nt).get(it).visible)return!0}return!1}else if(yt.policy==="AllOn"){for(const it of yt.ids){if(!lt(this,nt).has(it))return(0,a.warn)(`Optional content group not found: ${it}`),!0;if(!lt(this,nt).get(it).visible)return!1}return!0}else if(yt.policy==="AnyOff"){for(const it of yt.ids){if(!lt(this,nt).has(it))return(0,a.warn)(`Optional content group not found: ${it}`),!0;if(!lt(this,nt).get(it).visible)return!0}return!1}else if(yt.policy==="AllOff"){for(const it of yt.ids){if(!lt(this,nt).has(it))return(0,a.warn)(`Optional content group not found: ${it}`),!0;if(lt(this,nt).get(it).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${yt.policy}.`),!0}return(0,a.warn)(`Unknown group type ${yt.type}.`),!0}setVisibility(yt,it=!0){if(!lt(this,nt).has(yt)){(0,a.warn)(`Optional content group not found: ${yt}`);return}lt(this,nt).get(yt)._setVisible(j,!!it),tn(this,tt,null)}get hasInitialVisibility(){return lt(this,rt)===null||this.getHash()===lt(this,rt)}getOrder(){return lt(this,nt).size?lt(this,st)?lt(this,st).slice():[...lt(this,nt).keys()]:null}getGroups(){return lt(this,nt).size>0?(0,a.objectFromMap)(lt(this,nt)):null}getGroup(yt){return lt(this,nt).get(yt)||null}getHash(){if(lt(this,tt)!==null)return lt(this,tt);const yt=new _.MurmurHash3_64;for(const[it,ct]of lt(this,nt))yt.update(`${it}:${ct.visible}`);return tn(this,tt,yt.hexdigest())}}tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakSet,qr=function(yt){const it=yt.length;if(it<2)return!0;const ct=yt[0];for(let ht=1;ht<it;ht++){const kt=yt[ht];let pt;if(Array.isArray(kt))pt=Ht(this,ot,qr).call(this,kt);else if(lt(this,nt).has(kt))pt=lt(this,nt).get(kt).visible;else return(0,a.warn)(`Optional content group not found: ${kt}`),!0;switch(ct){case"And":if(!pt)return!1;break;case"Or":if(pt)return!0;break;case"Not":return!pt;default:return!0}}return ct==="And"},s.OptionalContentConfig=_e},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=o(1),_=o(6);class j{constructor({length:tt,initialData:nt,progressiveDone:rt=!1,contentDispositionFilename:st=null,disableRange:ot=!1,disableStream:ut=!1},dt){if((0,a.assert)(dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=rt,this._contentDispositionFilename=st,(nt==null?void 0:nt.length)>0){const yt=nt instanceof Uint8Array&&nt.byteLength===nt.buffer.byteLength?nt.buffer:new Uint8Array(nt).buffer;this._queuedChunks.push(yt)}this._pdfDataRangeTransport=dt,this._isStreamingSupported=!ut,this._isRangeSupported=!ot,this._contentLength=tt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((yt,it)=>{this._onReceiveData({begin:yt,chunk:it})}),this._pdfDataRangeTransport.addProgressListener((yt,it)=>{this._onProgress({loaded:yt,total:it})}),this._pdfDataRangeTransport.addProgressiveReadListener(yt=>{this._onReceiveData({chunk:yt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:tt,chunk:nt}){const rt=nt instanceof Uint8Array&&nt.byteLength===nt.buffer.byteLength?nt.buffer:new Uint8Array(nt).buffer;if(tt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(rt):this._queuedChunks.push(rt);else{const st=this._rangeReaders.some(function(ot){return ot._begin!==tt?!1:(ot._enqueue(rt),!0)});(0,a.assert)(st,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var tt;return((tt=this._fullRequestReader)==null?void 0:tt._loaded)??0}_onProgress(tt){var nt,rt,st,ot;tt.total===void 0?(rt=(nt=this._rangeReaders[0])==null?void 0:nt.onProgress)==null||rt.call(nt,{loaded:tt.loaded}):(ot=(st=this._fullRequestReader)==null?void 0:st.onProgress)==null||ot.call(st,{loaded:tt.loaded,total:tt.total})}_onProgressiveDone(){var tt;(tt=this._fullRequestReader)==null||tt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(tt){const nt=this._rangeReaders.indexOf(tt);nt>=0&&this._rangeReaders.splice(nt,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const tt=this._queuedChunks;return this._queuedChunks=null,new $(this,tt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(tt,nt){if(nt<=this._progressiveDataLength)return null;const rt=new _e(this,tt,nt);return this._pdfDataRangeTransport.requestDataRange(tt,nt),this._rangeReaders.push(rt),rt}cancelAllRequests(tt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(tt);for(const rt of this._rangeReaders.slice(0))rt.cancel(tt);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=j;class ${constructor(tt,nt,rt=!1,st=null){this._stream=tt,this._done=rt||!1,this._filename=(0,_.isPdfFile)(st)?st:null,this._queuedChunks=nt||[],this._loaded=0;for(const ot of this._queuedChunks)this._loaded+=ot.byteLength;this._requests=[],this._headersReady=Promise.resolve(),tt._fullRequestReader=this,this.onProgress=null}_enqueue(tt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:tt,done:!1}):this._queuedChunks.push(tt),this._loaded+=tt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new a.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _e{constructor(tt,nt,rt){this._stream=tt,this._begin=nt,this._end=rt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(tt){if(!this._done){if(this._requests.length===0)this._queuedChunk=tt;else{this._requests.shift().resolve({value:tt,done:!1});for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new a.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=o(1),_=o(20);function j(rt,st,ot){return{method:"GET",headers:rt,signal:ot.signal,mode:"cors",credentials:st?"include":"same-origin",redirect:"follow"}}function $(rt){const st=new Headers;for(const ot in rt){const ut=rt[ot];ut!==void 0&&st.append(ot,ut)}return st}function _e(rt){return rt instanceof Uint8Array?rt.buffer:rt instanceof ArrayBuffer?rt:((0,a.warn)(`getArrayBuffer - unexpected data format: ${rt}`),new Uint8Array(rt).buffer)}class et{constructor(st){this.source=st,this.isHttp=/^https?:/i.test(st.url),this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tt(this),this._fullRequestReader}getRangeReader(st,ot){if(ot<=this._progressiveDataLength)return null;const ut=new nt(this,st,ot);return this._rangeRequestReaders.push(ut),ut}cancelAllRequests(st){var ot;(ot=this._fullRequestReader)==null||ot.cancel(st);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(st)}}s.PDFFetchStream=et;class tt{constructor(st){this._stream=st,this._reader=null,this._loaded=0,this._filename=null;const ot=st.source;this._withCredentials=ot.withCredentials||!1,this._contentLength=ot.length,this._headersCapability=new a.PromiseCapability,this._disableRange=ot.disableRange||!1,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ot.disableStream,this._isRangeSupported=!ot.disableRange,this._headers=$(this._stream.httpHeaders);const ut=ot.url;fetch(ut,j(this._headers,this._withCredentials,this._abortController)).then(dt=>{if(!(0,_.validateResponseStatus)(dt.status))throw(0,_.createResponseStatusError)(dt.status,ut);this._reader=dt.body.getReader(),this._headersCapability.resolve();const yt=ht=>dt.headers.get(ht),{allowRangeRequests:it,suggestedLength:ct}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:yt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=it,this._contentLength=ct||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(yt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ut;await this._headersCapability.promise;const{value:st,done:ot}=await this._reader.read();return ot?{value:st,done:ot}:(this._loaded+=st.byteLength,(ut=this.onProgress)==null||ut.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_e(st),done:!1})}cancel(st){var ot;(ot=this._reader)==null||ot.cancel(st),this._abortController.abort()}}class nt{constructor(st,ot,ut){this._stream=st,this._reader=null,this._loaded=0;const dt=st.source;this._withCredentials=dt.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!dt.disableStream,this._abortController=new AbortController,this._headers=$(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ot}-${ut-1}`);const yt=dt.url;fetch(yt,j(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,_.validateResponseStatus)(it.status))throw(0,_.createResponseStatusError)(it.status,yt);this._readCapability.resolve(),this._reader=it.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ut;await this._readCapability.promise;const{value:st,done:ot}=await this._reader.read();return ot?{value:st,done:ot}:(this._loaded+=st.byteLength,(ut=this.onProgress)==null||ut.call(this,{loaded:this._loaded}),{value:_e(st),done:!1})}cancel(st){var ot;(ot=this._reader)==null||ot.cancel(st),this._abortController.abort()}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=et,s.extractFilenameFromHeader=_e,s.validateRangeRequestCapabilities=$,s.validateResponseStatus=tt;var a=o(1),_=o(21),j=o(6);function $({getResponseHeader:nt,isHttp:rt,rangeChunkSize:st,disableRange:ot}){const ut={allowRangeRequests:!1,suggestedLength:void 0},dt=parseInt(nt("Content-Length"),10);return!Number.isInteger(dt)||(ut.suggestedLength=dt,dt<=2*st)||ot||!rt||nt("Accept-Ranges")!=="bytes"||(nt("Content-Encoding")||"identity")!=="identity"||(ut.allowRangeRequests=!0),ut}function _e(nt){const rt=nt("Content-Disposition");if(rt){let st=(0,_.getFilenameFromContentDispositionHeader)(rt);if(st.includes("%"))try{st=decodeURIComponent(st)}catch{}if((0,j.isPdfFile)(st))return st}return null}function et(nt,rt){return nt===404||nt===0&&rt.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+rt+'".'):new a.UnexpectedResponseException(`Unexpected server response (${nt}) while retrieving PDF "${rt}".`,nt)}function tt(nt){return nt===200||nt===206}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=_;var a=o(1);function _(j){let $=!0,_e=et("filename\\*","i").exec(j);if(_e){_e=_e[1];let dt=st(_e);return dt=unescape(dt),dt=ot(dt),dt=ut(dt),nt(dt)}if(_e=rt(j),_e){const dt=ut(_e);return nt(dt)}if(_e=et("filename","i").exec(j),_e){_e=_e[1];let dt=st(_e);return dt=ut(dt),nt(dt)}function et(dt,yt){return new RegExp("(?:^|;)\\s*"+dt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',yt)}function tt(dt,yt){if(dt){if(!/^[\x00-\xFF]+$/.test(yt))return yt;try{const it=new TextDecoder(dt,{fatal:!0}),ct=(0,a.stringToBytes)(yt);yt=it.decode(ct),$=!1}catch{}}return yt}function nt(dt){return $&&/[\x80-\xff]/.test(dt)&&(dt=tt("utf-8",dt),$&&(dt=tt("iso-8859-1",dt))),dt}function rt(dt){const yt=[];let it;const ct=et("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(it=ct.exec(dt))!==null;){let[,kt,pt,at]=it;if(kt=parseInt(kt,10),kt in yt){if(kt===0)break;continue}yt[kt]=[pt,at]}const ht=[];for(let kt=0;kt<yt.length&&kt in yt;++kt){let[pt,at]=yt[kt];at=st(at),pt&&(at=unescape(at),kt===0&&(at=ot(at))),ht.push(at)}return ht.join("")}function st(dt){if(dt.startsWith('"')){const yt=dt.slice(1).split('\\"');for(let it=0;it<yt.length;++it){const ct=yt[it].indexOf('"');ct!==-1&&(yt[it]=yt[it].slice(0,ct),yt.length=it+1),yt[it]=yt[it].replaceAll(/\\(.)/g,"$1")}dt=yt.join('"')}return dt}function ot(dt){const yt=dt.indexOf("'");if(yt===-1)return dt;const it=dt.slice(0,yt),ht=dt.slice(yt+1).replace(/^[^']*'/,"");return tt(it,ht)}function ut(dt){return!dt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(dt)?dt:dt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(yt,it,ct,ht){if(ct==="q"||ct==="Q")return ht=ht.replaceAll("_"," "),ht=ht.replaceAll(/=([0-9a-fA-F]{2})/g,function(kt,pt){return String.fromCharCode(parseInt(pt,16))}),tt(it,ht);try{ht=atob(ht)}catch{}return tt(it,ht)})}return""}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=o(1),_=o(20);const j=200,$=206;function _e(st){const ot=st.response;return typeof ot!="string"?ot:(0,a.stringToBytes)(ot).buffer}class et{constructor(ot,ut={}){this.url=ot,this.isHttp=/^https?:/i.test(ot),this.httpHeaders=this.isHttp&&ut.httpHeaders||Object.create(null),this.withCredentials=ut.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ot,ut,dt){const yt={begin:ot,end:ut};for(const it in dt)yt[it]=dt[it];return this.request(yt)}requestFull(ot){return this.request(ot)}request(ot){const ut=new XMLHttpRequest,dt=this.currXhrId++,yt=this.pendingRequests[dt]={xhr:ut};ut.open("GET",this.url),ut.withCredentials=this.withCredentials;for(const it in this.httpHeaders){const ct=this.httpHeaders[it];ct!==void 0&&ut.setRequestHeader(it,ct)}return this.isHttp&&"begin"in ot&&"end"in ot?(ut.setRequestHeader("Range",`bytes=${ot.begin}-${ot.end-1}`),yt.expectedStatus=$):yt.expectedStatus=j,ut.responseType="arraybuffer",ot.onError&&(ut.onerror=function(it){ot.onError(ut.status)}),ut.onreadystatechange=this.onStateChange.bind(this,dt),ut.onprogress=this.onProgress.bind(this,dt),yt.onHeadersReceived=ot.onHeadersReceived,yt.onDone=ot.onDone,yt.onError=ot.onError,yt.onProgress=ot.onProgress,ut.send(null),dt}onProgress(ot,ut){var yt;const dt=this.pendingRequests[ot];dt&&((yt=dt.onProgress)==null||yt.call(dt,ut))}onStateChange(ot,ut){var kt,pt,at;const dt=this.pendingRequests[ot];if(!dt)return;const yt=dt.xhr;if(yt.readyState>=2&&dt.onHeadersReceived&&(dt.onHeadersReceived(),delete dt.onHeadersReceived),yt.readyState!==4||!(ot in this.pendingRequests))return;if(delete this.pendingRequests[ot],yt.status===0&&this.isHttp){(kt=dt.onError)==null||kt.call(dt,yt.status);return}const it=yt.status||j;if(!(it===j&&dt.expectedStatus===$)&&it!==dt.expectedStatus){(pt=dt.onError)==null||pt.call(dt,yt.status);return}const ht=_e(yt);if(it===$){const At=yt.getResponseHeader("Content-Range"),wt=/bytes (\d+)-(\d+)\/(\d+)/.exec(At);dt.onDone({begin:parseInt(wt[1],10),chunk:ht})}else ht?dt.onDone({begin:0,chunk:ht}):(at=dt.onError)==null||at.call(dt,yt.status)}getRequestXhr(ot){return this.pendingRequests[ot].xhr}isPendingRequest(ot){return ot in this.pendingRequests}abortRequest(ot){const ut=this.pendingRequests[ot].xhr;delete this.pendingRequests[ot],ut.abort()}}class tt{constructor(ot){this._source=ot,this._manager=new et(ot.url,{httpHeaders:ot.httpHeaders,withCredentials:ot.withCredentials}),this._rangeChunkSize=ot.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ot){const ut=this._rangeRequestReaders.indexOf(ot);ut>=0&&this._rangeRequestReaders.splice(ut,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new nt(this._manager,this._source),this._fullRequestReader}getRangeReader(ot,ut){const dt=new rt(this._manager,ot,ut);return dt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(dt),dt}cancelAllRequests(ot){var ut;(ut=this._fullRequestReader)==null||ut.cancel(ot);for(const dt of this._rangeRequestReaders.slice(0))dt.cancel(ot)}}s.PDFNetworkStream=tt;class nt{constructor(ot,ut){this._manager=ot;const dt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ut.url,this._fullRequestId=ot.requestFull(dt),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=ut.disableRange||!1,this._contentLength=ut.length,this._rangeChunkSize=ut.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ot=this._fullRequestId,ut=this._manager.getRequestXhr(ot),dt=ct=>ut.getResponseHeader(ct),{allowRangeRequests:yt,suggestedLength:it}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});yt&&(this._isRangeSupported=!0),this._contentLength=it||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(dt),this._isRangeSupported&&this._manager.abortRequest(ot),this._headersReceivedCapability.resolve()}_onDone(ot){if(ot&&(this._requests.length>0?this._requests.shift().resolve({value:ot.chunk,done:!1}):this._cachedChunks.push(ot.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ot){this._storedError=(0,_.createResponseStatusError)(ot,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ut of this._requests)ut.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ot){var ut;(ut=this.onProgress)==null||ut.call(this,{loaded:ot.loaded,total:ot.lengthComputable?ot.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ot=new a.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0,this._headersReceivedCapability.reject(ot);for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class rt{constructor(ot,ut,dt){this._manager=ot;const yt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ot.url,this._requestId=ot.requestRange(ut,dt,yt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ot;(ot=this.onClosed)==null||ot.call(this,this)}_onDone(ot){const ut=ot.chunk;this._requests.length>0?this._requests.shift().resolve({value:ut,done:!1}):this._queuedChunk=ut,this._done=!0;for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ot){this._storedError=(0,_.createResponseStatusError)(ot,this._url);for(const ut of this._requests)ut.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ot){var ut;this.isStreamingSupported||(ut=this.onProgress)==null||ut.call(this,{loaded:ot.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ut=this._queuedChunk;return this._queuedChunk=null,{value:ut,done:!1}}if(this._done)return{value:void 0,done:!0};const ot=new a.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0;for(const ut of this._requests)ut.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=o(1),_=o(20);const j=/^file:\/\/\/[a-zA-Z]:\//;function $(dt){const yt=require$$5,it=yt.parse(dt);return it.protocol==="file:"||it.host?it:/^[a-z]:[/\\]/i.test(dt)?yt.parse(`file:///${dt}`):(it.host||(it.protocol="file:"),it)}class _e{constructor(yt){this.source=yt,this.url=$(yt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&yt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var yt;return((yt=this._fullRequestReader)==null?void 0:yt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ot(this):new rt(this),this._fullRequestReader}getRangeReader(yt,it){if(it<=this._progressiveDataLength)return null;const ct=this.isFsUrl?new ut(this,yt,it):new st(this,yt,it);return this._rangeRequestReaders.push(ct),ct}cancelAllRequests(yt){var it;(it=this._fullRequestReader)==null||it.cancel(yt);for(const ct of this._rangeRequestReaders.slice(0))ct.cancel(yt)}}s.PDFNodeStream=_e;class et{constructor(yt){this._url=yt.url,this._done=!1,this._storedError=null,this.onProgress=null;const it=yt.source;this._contentLength=it.length,this._loaded=0,this._filename=null,this._disableRange=it.disableRange||!1,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!it.disableStream,this._isRangeSupported=!it.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const yt=this._readableStream.read();return yt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=yt.length,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(yt).buffer,done:!1})}cancel(yt){if(!this._readableStream){this._error(yt);return}this._readableStream.destroy(yt)}_error(yt){this._storedError=yt,this._readCapability.resolve()}_setReadableStream(yt){this._readableStream=yt,yt.on("readable",()=>{this._readCapability.resolve()}),yt.on("end",()=>{yt.destroy(),this._done=!0,this._readCapability.resolve()}),yt.on("error",it=>{this._error(it)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class tt{constructor(yt){this._url=yt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const it=yt.source;this._isStreamingSupported=!it.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const yt=this._readableStream.read();return yt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=yt.length,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded}),{value:new Uint8Array(yt).buffer,done:!1})}cancel(yt){if(!this._readableStream){this._error(yt);return}this._readableStream.destroy(yt)}_error(yt){this._storedError=yt,this._readCapability.resolve()}_setReadableStream(yt){this._readableStream=yt,yt.on("readable",()=>{this._readCapability.resolve()}),yt.on("end",()=>{yt.destroy(),this._done=!0,this._readCapability.resolve()}),yt.on("error",it=>{this._error(it)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function nt(dt,yt){return{protocol:dt.protocol,auth:dt.auth,host:dt.hostname,port:dt.port,path:dt.path,method:"GET",headers:yt}}class rt extends et{constructor(yt){super(yt);const it=ct=>{if(ct.statusCode===404){const at=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at,this._headersCapability.reject(at);return}this._headersCapability.resolve(),this._setReadableStream(ct);const ht=at=>this._readableStream.headers[at.toLowerCase()],{allowRangeRequests:kt,suggestedLength:pt}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:ht,isHttp:yt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=kt,this._contentLength=pt||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(ht)};if(this._request=null,this._url.protocol==="http:"){const ct=require$$5;this._request=ct.request(nt(this._url,yt.httpHeaders),it)}else{const ct=require$$5;this._request=ct.request(nt(this._url,yt.httpHeaders),it)}this._request.on("error",ct=>{this._storedError=ct,this._headersCapability.reject(ct)}),this._request.end()}}class st extends tt{constructor(yt,it,ct){super(yt),this._httpHeaders={};for(const kt in yt.httpHeaders){const pt=yt.httpHeaders[kt];pt!==void 0&&(this._httpHeaders[kt]=pt)}this._httpHeaders.Range=`bytes=${it}-${ct-1}`;const ht=kt=>{if(kt.statusCode===404){const pt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pt;return}this._setReadableStream(kt)};if(this._request=null,this._url.protocol==="http:"){const kt=require$$5;this._request=kt.request(nt(this._url,this._httpHeaders),ht)}else{const kt=require$$5;this._request=kt.request(nt(this._url,this._httpHeaders),ht)}this._request.on("error",kt=>{this._storedError=kt}),this._request.end()}}class ot extends et{constructor(yt){super(yt);let it=decodeURIComponent(this._url.path);j.test(this._url.href)&&(it=it.replace(/^\//,""));const ct=require$$5;ct.lstat(it,(ht,kt)=>{if(ht){ht.code==="ENOENT"&&(ht=new a.MissingPDFException(`Missing PDF "${it}".`)),this._storedError=ht,this._headersCapability.reject(ht);return}this._contentLength=kt.size,this._setReadableStream(ct.createReadStream(it)),this._headersCapability.resolve()})}}class ut extends tt{constructor(yt,it,ct){super(yt);let ht=decodeURIComponent(this._url.path);j.test(this._url.href)&&(ht=ht.replace(/^\//,""));const kt=require$$5;this._setReadableStream(kt.createReadStream(ht,{start:it,end:ct-1}))}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=o(6),_=o(1);const j={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},$="http://www.w3.org/XML/1998/namespace",_e="http://www.w3.org/1999/xlink",et=["butt","round","square"],tt=["miter","round","bevel"],nt=function(kt,pt="",at=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!at)return URL.createObjectURL(new Blob([kt],{type:pt}));const At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let wt=`data:${pt};base64,`;for(let bt=0,Et=kt.length;bt<Et;bt+=3){const _t=kt[bt]&255,Mt=kt[bt+1]&255,Ot=kt[bt+2]&255,jt=_t>>2,Bt=(_t&3)<<4|Mt>>4,Xt=bt+1<Et?(Mt&15)<<2|Ot>>6:64,Zt=bt+2<Et?Ot&63:64;wt+=At[jt]+At[Bt]+At[Xt]+At[Zt]}return wt},rt=function(){const kt=new Uint8Array([137,80,78,71,13,10,26,10]),pt=12,at=new Int32Array(256);for(let Ot=0;Ot<256;Ot++){let jt=Ot;for(let Bt=0;Bt<8;Bt++)jt=jt&1?3988292384^jt>>1&2147483647:jt>>1&2147483647;at[Ot]=jt}function At(Ot,jt,Bt){let Xt=-1;for(let Zt=jt;Zt<Bt;Zt++){const Tt=(Xt^Ot[Zt])&255,Wt=at[Tt];Xt=Xt>>>8^Wt}return Xt^-1}function wt(Ot,jt,Bt,Xt){let Zt=Xt;const Tt=jt.length;Bt[Zt]=Tt>>24&255,Bt[Zt+1]=Tt>>16&255,Bt[Zt+2]=Tt>>8&255,Bt[Zt+3]=Tt&255,Zt+=4,Bt[Zt]=Ot.charCodeAt(0)&255,Bt[Zt+1]=Ot.charCodeAt(1)&255,Bt[Zt+2]=Ot.charCodeAt(2)&255,Bt[Zt+3]=Ot.charCodeAt(3)&255,Zt+=4,Bt.set(jt,Zt),Zt+=jt.length;const Wt=At(Bt,Xt+4,Zt);Bt[Zt]=Wt>>24&255,Bt[Zt+1]=Wt>>16&255,Bt[Zt+2]=Wt>>8&255,Bt[Zt+3]=Wt&255}function bt(Ot,jt,Bt){let Xt=1,Zt=0;for(let Tt=jt;Tt<Bt;++Tt)Xt=(Xt+(Ot[Tt]&255))%65521,Zt=(Zt+Xt)%65521;return Zt<<16|Xt}function Et(Ot){if(!_.isNodeJS)return _t(Ot);try{const jt=parseInt(process.versions.node)>=8?Ot:Buffer.from(Ot),Bt=require$$5.deflateSync(jt,{level:9});return Bt instanceof Uint8Array?Bt:new Uint8Array(Bt)}catch(jt){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+jt)}return _t(Ot)}function _t(Ot){let jt=Ot.length;const Bt=65535,Xt=Math.ceil(jt/Bt),Zt=new Uint8Array(2+jt+Xt*5+4);let Tt=0;Zt[Tt++]=120,Zt[Tt++]=156;let Wt=0;for(;jt>Bt;)Zt[Tt++]=0,Zt[Tt++]=255,Zt[Tt++]=255,Zt[Tt++]=0,Zt[Tt++]=0,Zt.set(Ot.subarray(Wt,Wt+Bt),Tt),Tt+=Bt,Wt+=Bt,jt-=Bt;Zt[Tt++]=1,Zt[Tt++]=jt&255,Zt[Tt++]=jt>>8&255,Zt[Tt++]=~jt&65535&255,Zt[Tt++]=(~jt&65535)>>8&255,Zt.set(Ot.subarray(Wt),Tt),Tt+=Ot.length-Wt;const Rt=bt(Ot,0,Ot.length);return Zt[Tt++]=Rt>>24&255,Zt[Tt++]=Rt>>16&255,Zt[Tt++]=Rt>>8&255,Zt[Tt++]=Rt&255,Zt}function Mt(Ot,jt,Bt,Xt){const Zt=Ot.width,Tt=Ot.height;let Wt,Rt,dn;const pn=Ot.data;switch(jt){case _.ImageKind.GRAYSCALE_1BPP:Rt=0,Wt=1,dn=Zt+7>>3;break;case _.ImageKind.RGB_24BPP:Rt=2,Wt=8,dn=Zt*3;break;case _.ImageKind.RGBA_32BPP:Rt=6,Wt=8,dn=Zt*4;break;default:throw new Error("invalid format")}const xt=new Uint8Array((1+dn)*Tt);let ft=0,vt=0;for(let zt=0;zt<Tt;++zt)xt[ft++]=0,xt.set(pn.subarray(vt,vt+dn),ft),vt+=dn,ft+=dn;if(jt===_.ImageKind.GRAYSCALE_1BPP&&Xt){ft=0;for(let zt=0;zt<Tt;zt++){ft++;for(let Kt=0;Kt<dn;Kt++)xt[ft++]^=255}}const mt=new Uint8Array([Zt>>24&255,Zt>>16&255,Zt>>8&255,Zt&255,Tt>>24&255,Tt>>16&255,Tt>>8&255,Tt&255,Wt,Rt,0,0,0]),St=Et(xt),Ct=kt.length+pt*3+mt.length+St.length,Ft=new Uint8Array(Ct);let Lt=0;return Ft.set(kt,Lt),Lt+=kt.length,wt("IHDR",mt,Ft,Lt),Lt+=pt+mt.length,wt("IDATA",St,Ft,Lt),Lt+=pt+St.length,wt("IEND",new Uint8Array(0),Ft,Lt),nt(Ft,"image/png",Bt)}return function(jt,Bt,Xt){const Zt=jt.kind===void 0?_.ImageKind.GRAYSCALE_1BPP:jt.kind;return Mt(jt,Zt,Bt,Xt)}}();class st{constructor(){this.fontSizeScale=1,this.fontWeight=j.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=j.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(pt,at){this.x=pt,this.y=at}}function ot(kt){let pt=[];const at=[];for(const At of kt){if(At.fn==="save"){pt.push({fnId:92,fn:"group",items:[]}),at.push(pt),pt=pt.at(-1).items;continue}At.fn==="restore"?pt=at.pop():pt.push(At)}return pt}function ut(kt){if(Number.isInteger(kt))return kt.toString();const pt=kt.toFixed(10);let at=pt.length-1;if(pt[at]!=="0")return pt;do at--;while(pt[at]==="0");return pt.substring(0,pt[at]==="."?at:at+1)}function dt(kt){if(kt[4]===0&&kt[5]===0){if(kt[1]===0&&kt[2]===0)return kt[0]===1&&kt[3]===1?"":`scale(${ut(kt[0])} ${ut(kt[3])})`;if(kt[0]===kt[3]&&kt[1]===-kt[2]){const pt=Math.acos(kt[0])*180/Math.PI;return`rotate(${ut(pt)})`}}else if(kt[0]===1&&kt[1]===0&&kt[2]===0&&kt[3]===1)return`translate(${ut(kt[4])} ${ut(kt[5])})`;return`matrix(${ut(kt[0])} ${ut(kt[1])} ${ut(kt[2])} ${ut(kt[3])} ${ut(kt[4])} ${ut(kt[5])})`}let yt=0,it=0,ct=0;class ht{constructor(pt,at,At=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new st,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=pt,this.objs=at,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!At,this._operatorIdMapping=[];for(const wt in _.OPS)this._operatorIdMapping[_.OPS[wt]]=wt}getObject(pt,at=null){return typeof pt=="string"?pt.startsWith("g_")?this.commonObjs.get(pt):this.objs.get(pt):at}save(){this.transformStack.push(this.transformMatrix);const pt=this.current;this.extraStack.push(pt),this.current=pt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(pt){this.save(),this.executeOpTree(pt),this.restore()}loadDependencies(pt){const at=pt.fnArray,At=pt.argsArray;for(let wt=0,bt=at.length;wt<bt;wt++)if(at[wt]===_.OPS.dependency)for(const Et of At[wt]){const _t=Et.startsWith("g_")?this.commonObjs:this.objs,Mt=new Promise(Ot=>{_t.get(Et,Ot)});this.current.dependencies.push(Mt)}return Promise.all(this.current.dependencies)}transform(pt,at,At,wt,bt,Et){const _t=[pt,at,At,wt,bt,Et];this.transformMatrix=_.Util.transform(this.transformMatrix,_t),this.tgrp=null}getSVG(pt,at){this.viewport=at;const At=this._initialize(at);return this.loadDependencies(pt).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(pt)),At))}convertOpList(pt){const at=this._operatorIdMapping,At=pt.argsArray,wt=pt.fnArray,bt=[];for(let Et=0,_t=wt.length;Et<_t;Et++){const Mt=wt[Et];bt.push({fnId:Mt,fn:at[Mt],args:At[Et]})}return ot(bt)}executeOpTree(pt){for(const at of pt){const At=at.fn,wt=at.fnId,bt=at.args;switch(wt|0){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(bt);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(bt[0],bt[1]);break;case _.OPS.setFont:this.setFont(bt);break;case _.OPS.showText:this.showText(bt[0]);break;case _.OPS.showSpacedText:this.showText(bt[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(bt[0],bt[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(bt[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(bt[0]);break;case _.OPS.setHScale:this.setHScale(bt[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);break;case _.OPS.setTextRise:this.setTextRise(bt[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(bt[0]);break;case _.OPS.setLineWidth:this.setLineWidth(bt[0]);break;case _.OPS.setLineJoin:this.setLineJoin(bt[0]);break;case _.OPS.setLineCap:this.setLineCap(bt[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(bt[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(bt[0],bt[1],bt[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(bt[0],bt[1],bt[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(bt);break;case _.OPS.setFillColorN:this.setFillColorN(bt);break;case _.OPS.shadingFill:this.shadingFill(bt[0]);break;case _.OPS.setDash:this.setDash(bt[0],bt[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(bt[0]);break;case _.OPS.setFlatness:this.setFlatness(bt[0]);break;case _.OPS.setGState:this.setGState(bt[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(bt[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(bt[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(bt[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(bt[0],bt[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]);break;case _.OPS.constructPath:this.constructPath(bt[0],bt[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(at.items);break;default:(0,_.warn)(`Unimplemented operator ${At}`);break}}}setWordSpacing(pt){this.current.wordSpacing=pt}setCharSpacing(pt){this.current.charSpacing=pt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(pt,at,At,wt,bt,Et){const _t=this.current;_t.textMatrix=_t.lineMatrix=[pt,at,At,wt,bt,Et],_t.textMatrixScale=Math.hypot(pt,at),_t.x=_t.lineX=0,_t.y=_t.lineY=0,_t.xcoords=[],_t.ycoords=[],_t.tspan=this.svgFactory.createElement("svg:tspan"),_t.tspan.setAttributeNS(null,"font-family",_t.fontFamily),_t.tspan.setAttributeNS(null,"font-size",`${ut(_t.fontSize)}px`),_t.tspan.setAttributeNS(null,"y",ut(-_t.y)),_t.txtElement=this.svgFactory.createElement("svg:text"),_t.txtElement.append(_t.tspan)}beginText(){const pt=this.current;pt.x=pt.lineX=0,pt.y=pt.lineY=0,pt.textMatrix=_.IDENTITY_MATRIX,pt.lineMatrix=_.IDENTITY_MATRIX,pt.textMatrixScale=1,pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.txtElement=this.svgFactory.createElement("svg:text"),pt.txtgrp=this.svgFactory.createElement("svg:g"),pt.xcoords=[],pt.ycoords=[]}moveText(pt,at){const At=this.current;At.x=At.lineX+=pt,At.y=At.lineY+=at,At.xcoords=[],At.ycoords=[],At.tspan=this.svgFactory.createElement("svg:tspan"),At.tspan.setAttributeNS(null,"font-family",At.fontFamily),At.tspan.setAttributeNS(null,"font-size",`${ut(At.fontSize)}px`),At.tspan.setAttributeNS(null,"y",ut(-At.y))}showText(pt){const at=this.current,At=at.font,wt=at.fontSize;if(wt===0)return;const bt=at.fontSizeScale,Et=at.charSpacing,_t=at.wordSpacing,Mt=at.fontDirection,Ot=at.textHScale*Mt,jt=At.vertical,Bt=jt?1:-1,Xt=At.defaultVMetrics,Zt=wt*at.fontMatrix[0];let Tt=0;for(const dn of pt){if(dn===null){Tt+=Mt*_t;continue}else if(typeof dn=="number"){Tt+=Bt*dn*wt/1e3;continue}const pn=(dn.isSpace?_t:0)+Et,xt=dn.fontChar;let ft,vt,mt=dn.width;if(jt){let Ct;const Ft=dn.vmetric||Xt;Ct=dn.vmetric?Ft[1]:mt*.5,Ct=-Ct*Zt;const Lt=Ft[2]*Zt;mt=Ft?-Ft[0]:mt,ft=Ct/bt,vt=(Tt+Lt)/bt}else ft=Tt/bt,vt=0;(dn.isInFont||At.missingFile)&&(at.xcoords.push(at.x+ft),jt&&at.ycoords.push(-at.y+vt),at.tspan.textContent+=xt);const St=jt?mt*Zt-pn*Mt:mt*Zt+pn*Mt;Tt+=St}at.tspan.setAttributeNS(null,"x",at.xcoords.map(ut).join(" ")),jt?at.tspan.setAttributeNS(null,"y",at.ycoords.map(ut).join(" ")):at.tspan.setAttributeNS(null,"y",ut(-at.y)),jt?at.y-=Tt:at.x+=Tt*Ot,at.tspan.setAttributeNS(null,"font-family",at.fontFamily),at.tspan.setAttributeNS(null,"font-size",`${ut(at.fontSize)}px`),at.fontStyle!==j.fontStyle&&at.tspan.setAttributeNS(null,"font-style",at.fontStyle),at.fontWeight!==j.fontWeight&&at.tspan.setAttributeNS(null,"font-weight",at.fontWeight);const Wt=at.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;if(Wt===_.TextRenderingMode.FILL||Wt===_.TextRenderingMode.FILL_STROKE?(at.fillColor!==j.fillColor&&at.tspan.setAttributeNS(null,"fill",at.fillColor),at.fillAlpha<1&&at.tspan.setAttributeNS(null,"fill-opacity",at.fillAlpha)):at.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?at.tspan.setAttributeNS(null,"fill","transparent"):at.tspan.setAttributeNS(null,"fill","none"),Wt===_.TextRenderingMode.STROKE||Wt===_.TextRenderingMode.FILL_STROKE){const dn=1/(at.textMatrixScale||1);this._setStrokeAttributes(at.tspan,dn)}let Rt=at.textMatrix;at.textRise!==0&&(Rt=Rt.slice(),Rt[5]+=at.textRise),at.txtElement.setAttributeNS(null,"transform",`${dt(Rt)} scale(${ut(Ot)}, -1)`),at.txtElement.setAttributeNS($,"xml:space","preserve"),at.txtElement.append(at.tspan),at.txtgrp.append(at.txtElement),this._ensureTransformGroup().append(at.txtElement)}setLeadingMoveText(pt,at){this.setLeading(-at),this.moveText(pt,at)}addFontStyle(pt){if(!pt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const at=nt(pt.data,pt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${pt.loadedName}"; src: url(${at}); }
`}setFont(pt){const at=this.current,At=this.commonObjs.get(pt[0]);let wt=pt[1];at.font=At,this.embedFonts&&!At.missingFile&&!this.embeddedFonts[At.loadedName]&&(this.addFontStyle(At),this.embeddedFonts[At.loadedName]=At),at.fontMatrix=At.fontMatrix||_.FONT_IDENTITY_MATRIX;let bt="normal";At.black?bt="900":At.bold&&(bt="bold");const Et=At.italic?"italic":"normal";wt<0?(wt=-wt,at.fontDirection=-1):at.fontDirection=1,at.fontSize=wt,at.fontFamily=At.loadedName,at.fontWeight=bt,at.fontStyle=Et,at.tspan=this.svgFactory.createElement("svg:tspan"),at.tspan.setAttributeNS(null,"y",ut(-at.y)),at.xcoords=[],at.ycoords=[]}endText(){var at;const pt=this.current;pt.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&((at=pt.txtElement)!=null&&at.hasChildNodes())&&(pt.element=pt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(pt){pt>0&&(this.current.lineWidth=pt)}setLineCap(pt){this.current.lineCap=et[pt]}setLineJoin(pt){this.current.lineJoin=tt[pt]}setMiterLimit(pt){this.current.miterLimit=pt}setStrokeAlpha(pt){this.current.strokeAlpha=pt}setStrokeRGBColor(pt,at,At){this.current.strokeColor=_.Util.makeHexColor(pt,at,At)}setFillAlpha(pt){this.current.fillAlpha=pt}setFillRGBColor(pt,at,At){this.current.fillColor=_.Util.makeHexColor(pt,at,At),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(pt){this.current.strokeColor=this._makeColorN_Pattern(pt)}setFillColorN(pt){this.current.fillColor=this._makeColorN_Pattern(pt)}shadingFill(pt){const{width:at,height:At}=this.viewport,wt=_.Util.inverseTransform(this.transformMatrix),[bt,Et,_t,Mt]=_.Util.getAxialAlignedBoundingBox([0,0,at,At],wt),Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x",bt),Ot.setAttributeNS(null,"y",Et),Ot.setAttributeNS(null,"width",_t-bt),Ot.setAttributeNS(null,"height",Mt-Et),Ot.setAttributeNS(null,"fill",this._makeShadingPattern(pt)),this.current.fillAlpha<1&&Ot.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ot)}_makeColorN_Pattern(pt){return pt[0]==="TilingPattern"?this._makeTilingPattern(pt):this._makeShadingPattern(pt)}_makeTilingPattern(pt){const at=pt[1],At=pt[2],wt=pt[3]||_.IDENTITY_MATRIX,[bt,Et,_t,Mt]=pt[4],Ot=pt[5],jt=pt[6],Bt=pt[7],Xt=`shading${ct++}`,[Zt,Tt,Wt,Rt]=_.Util.normalizeRect([..._.Util.applyTransform([bt,Et],wt),..._.Util.applyTransform([_t,Mt],wt)]),[dn,pn]=_.Util.singularValueDecompose2dScale(wt),xt=Ot*dn,ft=jt*pn,vt=this.svgFactory.createElement("svg:pattern");vt.setAttributeNS(null,"id",Xt),vt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),vt.setAttributeNS(null,"width",xt),vt.setAttributeNS(null,"height",ft),vt.setAttributeNS(null,"x",`${Zt}`),vt.setAttributeNS(null,"y",`${Tt}`);const mt=this.svg,St=this.transformMatrix,Ct=this.current.fillColor,Ft=this.current.strokeColor,Lt=this.svgFactory.create(Wt-Zt,Rt-Tt);if(this.svg=Lt,this.transformMatrix=wt,Bt===2){const zt=_.Util.makeHexColor(...at);this.current.fillColor=zt,this.current.strokeColor=zt}return this.executeOpTree(this.convertOpList(At)),this.svg=mt,this.transformMatrix=St,this.current.fillColor=Ct,this.current.strokeColor=Ft,vt.append(Lt.childNodes[0]),this.defs.append(vt),`url(#${Xt})`}_makeShadingPattern(pt){switch(typeof pt=="string"&&(pt=this.objs.get(pt)),pt[0]){case"RadialAxial":const at=`shading${ct++}`,At=pt[3];let wt;switch(pt[1]){case"axial":const bt=pt[4],Et=pt[5];wt=this.svgFactory.createElement("svg:linearGradient"),wt.setAttributeNS(null,"id",at),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"x1",bt[0]),wt.setAttributeNS(null,"y1",bt[1]),wt.setAttributeNS(null,"x2",Et[0]),wt.setAttributeNS(null,"y2",Et[1]);break;case"radial":const _t=pt[4],Mt=pt[5],Ot=pt[6],jt=pt[7];wt=this.svgFactory.createElement("svg:radialGradient"),wt.setAttributeNS(null,"id",at),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"cx",Mt[0]),wt.setAttributeNS(null,"cy",Mt[1]),wt.setAttributeNS(null,"r",jt),wt.setAttributeNS(null,"fx",_t[0]),wt.setAttributeNS(null,"fy",_t[1]),wt.setAttributeNS(null,"fr",Ot);break;default:throw new Error(`Unknown RadialAxial type: ${pt[1]}`)}for(const bt of At){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",bt[0]),Et.setAttributeNS(null,"stop-color",bt[1]),wt.append(Et)}return this.defs.append(wt),`url(#${at})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${pt[0]}`)}}setDash(pt,at){this.current.dashArray=pt,this.current.dashPhase=at}constructPath(pt,at){const At=this.current;let wt=At.x,bt=At.y,Et=[],_t=0;for(const Mt of pt)switch(Mt|0){case _.OPS.rectangle:wt=at[_t++],bt=at[_t++];const Ot=at[_t++],jt=at[_t++],Bt=wt+Ot,Xt=bt+jt;Et.push("M",ut(wt),ut(bt),"L",ut(Bt),ut(bt),"L",ut(Bt),ut(Xt),"L",ut(wt),ut(Xt),"Z");break;case _.OPS.moveTo:wt=at[_t++],bt=at[_t++],Et.push("M",ut(wt),ut(bt));break;case _.OPS.lineTo:wt=at[_t++],bt=at[_t++],Et.push("L",ut(wt),ut(bt));break;case _.OPS.curveTo:wt=at[_t+4],bt=at[_t+5],Et.push("C",ut(at[_t]),ut(at[_t+1]),ut(at[_t+2]),ut(at[_t+3]),ut(wt),ut(bt)),_t+=6;break;case _.OPS.curveTo2:Et.push("C",ut(wt),ut(bt),ut(at[_t]),ut(at[_t+1]),ut(at[_t+2]),ut(at[_t+3])),wt=at[_t+2],bt=at[_t+3],_t+=4;break;case _.OPS.curveTo3:wt=at[_t+2],bt=at[_t+3],Et.push("C",ut(at[_t]),ut(at[_t+1]),ut(wt),ut(bt),ut(wt),ut(bt)),_t+=4;break;case _.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),At.path&&pt.length>0&&pt[0]!==_.OPS.rectangle&&pt[0]!==_.OPS.moveTo?Et=At.path.getAttributeNS(null,"d")+Et:(At.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(At.path)),At.path.setAttributeNS(null,"d",Et),At.path.setAttributeNS(null,"fill","none"),At.element=At.path,At.setCurrentPoint(wt,bt)}endPath(){const pt=this.current;if(pt.path=null,!this.pendingClip)return;if(!pt.element){this.pendingClip=null;return}const at=`clippath${yt++}`,At=this.svgFactory.createElement("svg:clipPath");At.setAttributeNS(null,"id",at),At.setAttributeNS(null,"transform",dt(this.transformMatrix));const wt=pt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?wt.setAttributeNS(null,"clip-rule","evenodd"):wt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,At.append(wt),this.defs.append(At),pt.activeClipUrl){pt.clipGroup=null;for(const bt of this.extraStack)bt.clipGroup=null;At.setAttributeNS(null,"clip-path",pt.activeClipUrl)}pt.activeClipUrl=`url(#${at})`,this.tgrp=null}clip(pt){this.pendingClip=pt}closePath(){const pt=this.current;if(pt.path){const at=`${pt.path.getAttributeNS(null,"d")}Z`;pt.path.setAttributeNS(null,"d",at)}}setLeading(pt){this.current.leading=-pt}setTextRise(pt){this.current.textRise=pt}setTextRenderingMode(pt){this.current.textRenderingMode=pt}setHScale(pt){this.current.textHScale=pt/100}setRenderingIntent(pt){}setFlatness(pt){}setGState(pt){for(const[at,At]of pt)switch(at){case"LW":this.setLineWidth(At);break;case"LC":this.setLineCap(At);break;case"LJ":this.setLineJoin(At);break;case"ML":this.setMiterLimit(At);break;case"D":this.setDash(At[0],At[1]);break;case"RI":this.setRenderingIntent(At);break;case"FL":this.setFlatness(At);break;case"Font":this.setFont(At);break;case"CA":this.setStrokeAlpha(At);break;case"ca":this.setFillAlpha(At);break;default:(0,_.warn)(`Unimplemented graphic state operator ${at}`);break}}fill(){const pt=this.current;pt.element&&(pt.element.setAttributeNS(null,"fill",pt.fillColor),pt.element.setAttributeNS(null,"fill-opacity",pt.fillAlpha),this.endPath())}stroke(){const pt=this.current;pt.element&&(this._setStrokeAttributes(pt.element),pt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(pt,at=1){const At=this.current;let wt=At.dashArray;at!==1&&wt.length>0&&(wt=wt.map(function(bt){return at*bt})),pt.setAttributeNS(null,"stroke",At.strokeColor),pt.setAttributeNS(null,"stroke-opacity",At.strokeAlpha),pt.setAttributeNS(null,"stroke-miterlimit",ut(At.miterLimit)),pt.setAttributeNS(null,"stroke-linecap",At.lineCap),pt.setAttributeNS(null,"stroke-linejoin",At.lineJoin),pt.setAttributeNS(null,"stroke-width",ut(at*At.lineWidth)+"px"),pt.setAttributeNS(null,"stroke-dasharray",wt.map(ut).join(" ")),pt.setAttributeNS(null,"stroke-dashoffset",ut(at*At.dashPhase)+"px")}eoFill(){var pt;(pt=this.current.element)==null||pt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var pt;(pt=this.current.element)==null||pt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const pt=this.svgFactory.createElement("svg:rect");pt.setAttributeNS(null,"x","0"),pt.setAttributeNS(null,"y","0"),pt.setAttributeNS(null,"width","1px"),pt.setAttributeNS(null,"height","1px"),pt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(pt)}paintImageXObject(pt){const at=this.getObject(pt);if(!at){(0,_.warn)(`Dependent image with object ID ${pt} is not ready yet`);return}this.paintInlineImageXObject(at)}paintInlineImageXObject(pt,at){const At=pt.width,wt=pt.height,bt=rt(pt,this.forceDataSchema,!!at),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",ut(At)),Et.setAttributeNS(null,"height",ut(wt)),this.current.element=Et,this.clip("nonzero");const _t=this.svgFactory.createElement("svg:image");_t.setAttributeNS(_e,"xlink:href",bt),_t.setAttributeNS(null,"x","0"),_t.setAttributeNS(null,"y",ut(-wt)),_t.setAttributeNS(null,"width",ut(At)+"px"),_t.setAttributeNS(null,"height",ut(wt)+"px"),_t.setAttributeNS(null,"transform",`scale(${ut(1/At)} ${ut(-1/wt)})`),at?at.append(_t):this._ensureTransformGroup().append(_t)}paintImageMaskXObject(pt){const at=this.getObject(pt.data,pt);if(at.bitmap){(0,_.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const At=this.current,wt=at.width,bt=at.height,Et=At.fillColor;At.maskId=`mask${it++}`;const _t=this.svgFactory.createElement("svg:mask");_t.setAttributeNS(null,"id",At.maskId);const Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y","0"),Mt.setAttributeNS(null,"width",ut(wt)),Mt.setAttributeNS(null,"height",ut(bt)),Mt.setAttributeNS(null,"fill",Et),Mt.setAttributeNS(null,"mask",`url(#${At.maskId})`),this.defs.append(_t),this._ensureTransformGroup().append(Mt),this.paintInlineImageXObject(at,_t)}paintFormXObjectBegin(pt,at){if(Array.isArray(pt)&&pt.length===6&&this.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]),at){const At=at[2]-at[0],wt=at[3]-at[1],bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x",at[0]),bt.setAttributeNS(null,"y",at[1]),bt.setAttributeNS(null,"width",ut(At)),bt.setAttributeNS(null,"height",ut(wt)),this.current.element=bt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(pt){const at=this.svgFactory.create(pt.width,pt.height),At=this.svgFactory.createElement("svg:defs");at.append(At),this.defs=At;const wt=this.svgFactory.createElement("svg:g");return wt.setAttributeNS(null,"transform",dt(pt.transform)),at.append(wt),this.svg=wt,at}_ensureClipGroup(){if(!this.current.clipGroup){const pt=this.svgFactory.createElement("svg:g");pt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(pt),this.current.clipGroup=pt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",dt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=ht},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class o{static textContent(_){const j=[],$={items:j,styles:Object.create(null)};function _e(et){var rt;if(!et)return;let tt=null;const nt=et.name;if(nt==="#text")tt=et.value;else if(o.shouldBuildText(nt))(rt=et==null?void 0:et.attributes)!=null&&rt.textContent?tt=et.attributes.textContent:et.value&&(tt=et.value);else return;if(tt!==null&&j.push({str:tt}),!!et.children)for(const st of et.children)_e(st)}return _e(_),$}static shouldBuildText(_){return!(_==="textarea"||_==="input"||_==="option"||_==="select")}}s.XfaText=o},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=dt,s.updateTextLayer=yt;var a=o(1),_=o(6);const j=1e5,$=30,_e=.8,et=new Map;function tt(it,ct){let ht;if(ct&&a.FeatureTest.isOffscreenCanvasSupported)ht=new OffscreenCanvas(it,it).getContext("2d",{alpha:!1});else{const kt=document.createElement("canvas");kt.width=kt.height=it,ht=kt.getContext("2d",{alpha:!1})}return ht}function nt(it,ct){const ht=et.get(it);if(ht)return ht;const kt=tt($,ct);kt.font=`${$}px ${it}`;const pt=kt.measureText("");let at=pt.fontBoundingBoxAscent,At=Math.abs(pt.fontBoundingBoxDescent);if(at){const bt=at/(at+At);return et.set(it,bt),kt.canvas.width=kt.canvas.height=0,bt}kt.strokeStyle="red",kt.clearRect(0,0,$,$),kt.strokeText("g",0,0);let wt=kt.getImageData(0,0,$,$).data;At=0;for(let bt=wt.length-1-3;bt>=0;bt-=4)if(wt[bt]>0){At=Math.ceil(bt/4/$);break}kt.clearRect(0,0,$,$),kt.strokeText("A",0,$),wt=kt.getImageData(0,0,$,$).data,at=0;for(let bt=0,Et=wt.length;bt<Et;bt+=4)if(wt[bt]>0){at=$-Math.floor(bt/4/$);break}if(kt.canvas.width=kt.canvas.height=0,at){const bt=at/(at+At);return et.set(it,bt),bt}return et.set(it,_e),_e}function rt(it,ct,ht){const kt=document.createElement("span"),pt={angle:0,canvasWidth:0,hasText:ct.str!=="",hasEOL:ct.hasEOL,fontSize:0};it._textDivs.push(kt);const at=a.Util.transform(it._transform,ct.transform);let At=Math.atan2(at[1],at[0]);const wt=ht[ct.fontName];wt.vertical&&(At+=Math.PI/2);const bt=Math.hypot(at[2],at[3]),Et=bt*nt(wt.fontFamily,it._isOffscreenCanvasSupported);let _t,Mt;At===0?(_t=at[4],Mt=at[5]-Et):(_t=at[4]+Et*Math.sin(At),Mt=at[5]-Et*Math.cos(At));const Ot="calc(var(--scale-factor)*",jt=kt.style;it._container===it._rootContainer?(jt.left=`${(100*_t/it._pageWidth).toFixed(2)}%`,jt.top=`${(100*Mt/it._pageHeight).toFixed(2)}%`):(jt.left=`${Ot}${_t.toFixed(2)}px)`,jt.top=`${Ot}${Mt.toFixed(2)}px)`),jt.fontSize=`${Ot}${bt.toFixed(2)}px)`,jt.fontFamily=wt.fontFamily,pt.fontSize=bt,kt.setAttribute("role","presentation"),kt.textContent=ct.str,kt.dir=ct.dir,it._fontInspectorEnabled&&(kt.dataset.fontName=ct.fontName),At!==0&&(pt.angle=At*(180/Math.PI));let Bt=!1;if(ct.str.length>1)Bt=!0;else if(ct.str!==" "&&ct.transform[0]!==ct.transform[3]){const Xt=Math.abs(ct.transform[0]),Zt=Math.abs(ct.transform[3]);Xt!==Zt&&Math.max(Xt,Zt)/Math.min(Xt,Zt)>1.5&&(Bt=!0)}Bt&&(pt.canvasWidth=wt.vertical?ct.height:ct.width),it._textDivProperties.set(kt,pt),it._isReadableStream&&it._layoutText(kt)}function st(it){const{div:ct,scale:ht,properties:kt,ctx:pt,prevFontSize:at,prevFontFamily:At}=it,{style:wt}=ct;let bt="";if(kt.canvasWidth!==0&&kt.hasText){const{fontFamily:Et}=wt,{canvasWidth:_t,fontSize:Mt}=kt;(at!==Mt||At!==Et)&&(pt.font=`${Mt*ht}px ${Et}`,it.prevFontSize=Mt,it.prevFontFamily=Et);const{width:Ot}=pt.measureText(ct.textContent);Ot>0&&(bt=`scaleX(${_t*ht/Ot})`)}kt.angle!==0&&(bt=`rotate(${kt.angle}deg) ${bt}`),bt.length>0&&(wt.transform=bt)}function ot(it){if(it._canceled)return;const ct=it._textDivs,ht=it._capability;if(ct.length>j){ht.resolve();return}if(!it._isReadableStream)for(const pt of ct)it._layoutText(pt);ht.resolve()}class ut{constructor({textContentSource:ct,container:ht,viewport:kt,textDivs:pt,textDivProperties:at,textContentItemsStr:At,isOffscreenCanvasSupported:wt}){var Ot;this._textContentSource=ct,this._isReadableStream=ct instanceof ReadableStream,this._container=this._rootContainer=ht,this._textDivs=pt||[],this._textContentItemsStr=At||[],this._isOffscreenCanvasSupported=wt,this._fontInspectorEnabled=!!((Ot=globalThis.FontInspector)!=null&&Ot.enabled),this._reader=null,this._textDivProperties=at||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:kt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:tt(0,wt)};const{pageWidth:bt,pageHeight:Et,pageX:_t,pageY:Mt}=kt.rawDims;this._transform=[1,0,0,-1,-_t,Mt+Et],this._pageWidth=bt,this._pageHeight=Et,(0,_.setLayerDimensions)(ht,kt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(ct,ht){for(const kt of ct){if(kt.str===void 0){if(kt.type==="beginMarkedContentProps"||kt.type==="beginMarkedContent"){const pt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),kt.id!==null&&this._container.setAttribute("id",`${kt.id}`),pt.append(this._container)}else kt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(kt.str),rt(this,kt,ht)}}_layoutText(ct){const ht=this._layoutTextParams.properties=this._textDivProperties.get(ct);if(this._layoutTextParams.div=ct,st(this._layoutTextParams),ht.hasText&&this._container.append(ct),ht.hasEOL){const kt=document.createElement("br");kt.setAttribute("role","presentation"),this._container.append(kt)}}_render(){const ct=new a.PromiseCapability;let ht=Object.create(null);if(this._isReadableStream){const kt=()=>{this._reader.read().then(({value:pt,done:at})=>{if(at){ct.resolve();return}Object.assign(ht,pt.styles),this._processItems(pt.items,ht),kt()},ct.reject)};this._reader=this._textContentSource.getReader(),kt()}else if(this._textContentSource){const{items:kt,styles:pt}=this._textContentSource;this._processItems(kt,pt),ct.resolve()}else throw new Error('No "textContentSource" parameter specified.');ct.promise.then(()=>{ht=null,ot(this)},this._capability.reject)}}s.TextLayerRenderTask=ut;function dt(it){!it.textContentSource&&(it.textContent||it.textContentStream)&&((0,_.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),it.textContentSource=it.textContent||it.textContentStream);const{container:ct,viewport:ht}=it,kt=getComputedStyle(ct),pt=kt.getPropertyValue("visibility"),at=parseFloat(kt.getPropertyValue("--scale-factor"));pt==="visible"&&(!at||Math.abs(at-ht.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const At=new ut(it);return At._render(),At}function yt({container:it,viewport:ct,textDivs:ht,textDivProperties:kt,isOffscreenCanvasSupported:pt,mustRotate:at=!0,mustRescale:At=!0}){if(at&&(0,_.setLayerDimensions)(it,{rotation:ct.rotation}),At){const wt=tt(0,pt),Et={prevFontSize:null,prevFontFamily:null,div:null,scale:ct.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt};for(const _t of ht)Et.properties=kt.get(_t),Et.div=_t,st(Et)}}},(i,s,o)=>{var nt,rt,st,ot,ut,dt,yt,it,ct,ht,kt,Yr,at,Er,wt,Kr,Et,Qr;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=o(1),_=o(4),j=o(28),$=o(33),_e=o(6),et=o(34);const Mt=class Mt{constructor({uiManager:jt,pageIndex:Bt,div:Xt,accessibilityManager:Zt,annotationLayer:Tt,viewport:Wt,l10n:Rt}){Nt(this,kt);Nt(this,at);Nt(this,wt);Nt(this,Et);Nt(this,nt,void 0);Nt(this,rt,!1);Nt(this,st,null);Nt(this,ot,this.pointerup.bind(this));Nt(this,ut,this.pointerdown.bind(this));Nt(this,dt,new Map);Nt(this,yt,!1);Nt(this,it,!1);Nt(this,ct,!1);Nt(this,ht,void 0);const dn=[j.FreeTextEditor,$.InkEditor,et.StampEditor];if(!Mt._initialized){Mt._initialized=!0;for(const pn of dn)pn.initialize(Rt)}jt.registerEditorTypes(dn),tn(this,ht,jt),this.pageIndex=Bt,this.div=Xt,tn(this,nt,Zt),tn(this,st,Tt),this.viewport=Wt,lt(this,ht).addLayer(this)}get isEmpty(){return lt(this,dt).size===0}updateToolbar(jt){lt(this,ht).updateToolbar(jt)}updateMode(jt=lt(this,ht).getMode()){Ht(this,Et,Qr).call(this),jt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),jt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",jt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",jt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",jt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(jt){if(!jt&&lt(this,ht).getMode()!==a.AnnotationEditorType.INK)return;if(!jt){for(const Xt of lt(this,dt).values())if(Xt.isEmpty()){Xt.setInBackground();return}}Ht(this,at,Er).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(jt){lt(this,ht).setEditingState(jt)}addCommands(jt){lt(this,ht).addCommands(jt)}enable(){this.div.style.pointerEvents="auto";const jt=new Set;for(const Xt of lt(this,dt).values())Xt.enableEditing(),Xt.annotationElementId&&jt.add(Xt.annotationElementId);if(!lt(this,st))return;const Bt=lt(this,st).getEditableAnnotations();for(const Xt of Bt){if(Xt.hide(),lt(this,ht).isDeletedAnnotationElement(Xt.data.id)||jt.has(Xt.data.id))continue;const Zt=this.deserialize(Xt);Zt&&(this.addOrRebuild(Zt),Zt.enableEditing())}}disable(){var Bt;tn(this,ct,!0),this.div.style.pointerEvents="none";const jt=new Set;for(const Xt of lt(this,dt).values()){if(Xt.disableEditing(),!Xt.annotationElementId||Xt.serialize()!==null){jt.add(Xt.annotationElementId);continue}(Bt=this.getEditableAnnotation(Xt.annotationElementId))==null||Bt.show(),Xt.remove()}if(lt(this,st)){const Xt=lt(this,st).getEditableAnnotations();for(const Zt of Xt){const{id:Tt}=Zt.data;jt.has(Tt)||lt(this,ht).isDeletedAnnotationElement(Tt)||Zt.show()}}Ht(this,Et,Qr).call(this),this.isEmpty&&(this.div.hidden=!0),tn(this,ct,!1)}getEditableAnnotation(jt){var Bt;return((Bt=lt(this,st))==null?void 0:Bt.getEditableAnnotation(jt))||null}setActiveEditor(jt){lt(this,ht).getActive()!==jt&&lt(this,ht).setActiveEditor(jt)}enableClick(){this.div.addEventListener("pointerdown",lt(this,ut)),this.div.addEventListener("pointerup",lt(this,ot))}disableClick(){this.div.removeEventListener("pointerdown",lt(this,ut)),this.div.removeEventListener("pointerup",lt(this,ot))}attach(jt){lt(this,dt).set(jt.id,jt);const{annotationElementId:Bt}=jt;Bt&&lt(this,ht).isDeletedAnnotationElement(Bt)&&lt(this,ht).removeDeletedAnnotationElement(jt)}detach(jt){var Bt;lt(this,dt).delete(jt.id),(Bt=lt(this,nt))==null||Bt.removePointerInTextLayer(jt.contentDiv),!lt(this,ct)&&jt.annotationElementId&&lt(this,ht).addDeletedAnnotationElement(jt)}remove(jt){this.detach(jt),lt(this,ht).removeEditor(jt),jt.div.contains(document.activeElement)&&setTimeout(()=>{lt(this,ht).focusMainContainer()},0),jt.div.remove(),jt.isAttachedToDOM=!1,lt(this,it)||this.addInkEditorIfNeeded(!1)}changeParent(jt){var Bt;jt.parent!==this&&(jt.annotationElementId&&(lt(this,ht).addDeletedAnnotationElement(jt.annotationElementId),_.AnnotationEditor.deleteAnnotationElement(jt),jt.annotationElementId=null),this.attach(jt),(Bt=jt.parent)==null||Bt.detach(jt),jt.setParent(this),jt.div&&jt.isAttachedToDOM&&(jt.div.remove(),this.div.append(jt.div)))}add(jt){if(this.changeParent(jt),lt(this,ht).addEditor(jt),this.attach(jt),!jt.isAttachedToDOM){const Bt=jt.render();this.div.append(Bt),jt.isAttachedToDOM=!0}jt.fixAndSetPosition(),jt.onceAdded(),lt(this,ht).addToAnnotationStorage(jt)}moveEditorInDOM(jt){var Xt;if(!jt.isAttachedToDOM)return;const{activeElement:Bt}=document;jt.div.contains(Bt)&&(jt._focusEventsAllowed=!1,setTimeout(()=>{jt.div.contains(document.activeElement)?jt._focusEventsAllowed=!0:(jt.div.addEventListener("focusin",()=>{jt._focusEventsAllowed=!0},{once:!0}),Bt.focus())},0)),jt._structTreeParentId=(Xt=lt(this,nt))==null?void 0:Xt.moveElementInDOM(this.div,jt.div,jt.contentDiv,!0)}addOrRebuild(jt){jt.needsToBeRebuilt()?jt.rebuild():this.add(jt)}addUndoableEditor(jt){const Bt=()=>jt._uiManager.rebuild(jt),Xt=()=>{jt.remove()};this.addCommands({cmd:Bt,undo:Xt,mustExec:!1})}getNextId(){return lt(this,ht).getId()}pasteEditor(jt,Bt){lt(this,ht).updateToolbar(jt),lt(this,ht).updateMode(jt);const{offsetX:Xt,offsetY:Zt}=Ht(this,wt,Kr).call(this),Tt=this.getNextId(),Wt=Ht(this,kt,Yr).call(this,{parent:this,id:Tt,x:Xt,y:Zt,uiManager:lt(this,ht),isCentered:!0,...Bt});Wt&&this.add(Wt)}deserialize(jt){switch(jt.annotationType??jt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return j.FreeTextEditor.deserialize(jt,this,lt(this,ht));case a.AnnotationEditorType.INK:return $.InkEditor.deserialize(jt,this,lt(this,ht));case a.AnnotationEditorType.STAMP:return et.StampEditor.deserialize(jt,this,lt(this,ht))}return null}addNewEditor(){Ht(this,at,Er).call(this,Ht(this,wt,Kr).call(this),!0)}setSelected(jt){lt(this,ht).setSelected(jt)}toggleSelected(jt){lt(this,ht).toggleSelected(jt)}isSelected(jt){return lt(this,ht).isSelected(jt)}unselect(jt){lt(this,ht).unselect(jt)}pointerup(jt){const{isMac:Bt}=a.FeatureTest.platform;if(!(jt.button!==0||jt.ctrlKey&&Bt)&&jt.target===this.div&&lt(this,yt)){if(tn(this,yt,!1),!lt(this,rt)){tn(this,rt,!0);return}if(lt(this,ht).getMode()===a.AnnotationEditorType.STAMP){lt(this,ht).unselectAll();return}Ht(this,at,Er).call(this,jt,!1)}}pointerdown(jt){if(lt(this,yt)){tn(this,yt,!1);return}const{isMac:Bt}=a.FeatureTest.platform;if(jt.button!==0||jt.ctrlKey&&Bt||jt.target!==this.div)return;tn(this,yt,!0);const Xt=lt(this,ht).getActive();tn(this,rt,!Xt||Xt.isEmpty())}findNewParent(jt,Bt,Xt){const Zt=lt(this,ht).findParent(Bt,Xt);return Zt===null||Zt===this?!1:(Zt.changeParent(jt),!0)}destroy(){var jt,Bt;((jt=lt(this,ht).getActive())==null?void 0:jt.parent)===this&&(lt(this,ht).commitOrRemove(),lt(this,ht).setActiveEditor(null));for(const Xt of lt(this,dt).values())(Bt=lt(this,nt))==null||Bt.removePointerInTextLayer(Xt.contentDiv),Xt.setParent(null),Xt.isAttachedToDOM=!1,Xt.div.remove();this.div=null,lt(this,dt).clear(),lt(this,ht).removeLayer(this)}render({viewport:jt}){this.viewport=jt,(0,_e.setLayerDimensions)(this.div,jt);for(const Bt of lt(this,ht).getEditors(this.pageIndex))this.add(Bt);this.updateMode()}update({viewport:jt}){lt(this,ht).commitOrRemove(),this.viewport=jt,(0,_e.setLayerDimensions)(this.div,{rotation:jt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:jt,pageHeight:Bt}=this.viewport.rawDims;return[jt,Bt]}};nt=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakMap,ut=new WeakMap,dt=new WeakMap,yt=new WeakMap,it=new WeakMap,ct=new WeakMap,ht=new WeakMap,kt=new WeakSet,Yr=function(jt){switch(lt(this,ht).getMode()){case a.AnnotationEditorType.FREETEXT:return new j.FreeTextEditor(jt);case a.AnnotationEditorType.INK:return new $.InkEditor(jt);case a.AnnotationEditorType.STAMP:return new et.StampEditor(jt)}return null},at=new WeakSet,Er=function(jt,Bt){const Xt=this.getNextId(),Zt=Ht(this,kt,Yr).call(this,{parent:this,id:Xt,x:jt.offsetX,y:jt.offsetY,uiManager:lt(this,ht),isCentered:Bt});return Zt&&this.add(Zt),Zt},wt=new WeakSet,Kr=function(){const{x:jt,y:Bt,width:Xt,height:Zt}=this.div.getBoundingClientRect(),Tt=Math.max(0,jt),Wt=Math.max(0,Bt),Rt=Math.min(window.innerWidth,jt+Xt),dn=Math.min(window.innerHeight,Bt+Zt),pn=(Tt+Rt)/2-jt,xt=(Wt+dn)/2-Bt,[ft,vt]=this.viewport.rotation%180===0?[pn,xt]:[xt,pn];return{offsetX:ft,offsetY:vt}},Et=new WeakSet,Qr=function(){tn(this,it,!0);for(const jt of lt(this,dt).values())jt.isEmpty()&&jt.remove();tn(this,it,!1)},Yn(Mt,"_initialized",!1);let tt=Mt;s.AnnotationEditorLayer=tt},(i,s,o)=>{var et,tt,nt,rt,st,ot,ut,dt,yt,it,Es,ht,Ss,pt,As,At,fr,bt,Jr,_t,_s,Ot,Zr;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=o(1),_=o(5),j=o(4),$=o(29);const Bt=class Bt extends j.AnnotationEditor{constructor(Tt){super({...Tt,name:"freeTextEditor"});Nt(this,it);Nt(this,ht);Nt(this,pt);Nt(this,At);Nt(this,bt);Nt(this,_t);Nt(this,Ot);Nt(this,et,this.editorDivBlur.bind(this));Nt(this,tt,this.editorDivFocus.bind(this));Nt(this,nt,this.editorDivInput.bind(this));Nt(this,rt,this.editorDivKeydown.bind(this));Nt(this,st,void 0);Nt(this,ot,"");Nt(this,ut,`${this.id}-editor`);Nt(this,dt,void 0);Nt(this,yt,null);tn(this,st,Tt.color||Bt._defaultColor||j.AnnotationEditor._defaultLineColor),tn(this,dt,Tt.fontSize||Bt._defaultFontSize)}static get _keyboardManager(){const Tt=Bt.prototype,Wt=pn=>pn.isEmpty(),Rt=_.AnnotationEditorUIManager.TRANSLATE_SMALL,dn=_.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new _.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Tt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Tt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Tt._translateEmpty,{args:[-Rt,0],checker:Wt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Tt._translateEmpty,{args:[-dn,0],checker:Wt}],[["ArrowRight","mac+ArrowRight"],Tt._translateEmpty,{args:[Rt,0],checker:Wt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Tt._translateEmpty,{args:[dn,0],checker:Wt}],[["ArrowUp","mac+ArrowUp"],Tt._translateEmpty,{args:[0,-Rt],checker:Wt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Tt._translateEmpty,{args:[0,-dn],checker:Wt}],[["ArrowDown","mac+ArrowDown"],Tt._translateEmpty,{args:[0,Rt],checker:Wt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Tt._translateEmpty,{args:[0,dn],checker:Wt}]]))}static initialize(Tt){j.AnnotationEditor.initialize(Tt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Wt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Wt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Tt,Wt){switch(Tt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Bt._defaultFontSize=Wt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Bt._defaultColor=Wt;break}}updateParams(Tt,Wt){switch(Tt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Ht(this,it,Es).call(this,Wt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Ht(this,ht,Ss).call(this,Wt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,Bt._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,Bt._defaultColor||j.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,lt(this,dt)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,lt(this,st)]]}_translateEmpty(Tt,Wt){this._uiManager.translateSelectedEditors(Tt,Wt,!0)}getInitialTranslation(){const Tt=this.parentScale;return[-Bt._internalPadding*Tt,-(Bt._internalPadding+lt(this,dt))*Tt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",lt(this,rt)),this.editorDiv.addEventListener("focus",lt(this,tt)),this.editorDiv.addEventListener("blur",lt(this,et)),this.editorDiv.addEventListener("input",lt(this,nt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",lt(this,ut)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",lt(this,rt)),this.editorDiv.removeEventListener("focus",lt(this,tt)),this.editorDiv.removeEventListener("blur",lt(this,et)),this.editorDiv.removeEventListener("input",lt(this,nt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Tt){this._focusEventsAllowed&&(super.focusin(Tt),Tt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Tt;if(this.width){Ht(this,Ot,Zr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Tt=this._initialOptions)!=null&&Tt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Tt=lt(this,ot),Wt=tn(this,ot,Ht(this,pt,As).call(this).trimEnd());if(Tt===Wt)return;const Rt=dn=>{if(tn(this,ot,dn),!dn){this.remove();return}Ht(this,bt,Jr).call(this),this._uiManager.rebuild(this),Ht(this,At,fr).call(this)};this.addCommands({cmd:()=>{Rt(Wt)},undo:()=>{Rt(Tt)},mustExec:!1}),Ht(this,At,fr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Tt){this.enterInEditMode()}keydown(Tt){Tt.target===this.div&&Tt.key==="Enter"&&(this.enterInEditMode(),Tt.preventDefault())}editorDivKeydown(Tt){Bt._keyboardManager.exec(this,Tt)}editorDivFocus(Tt){this.isEditing=!0}editorDivBlur(Tt){this.isEditing=!1}editorDivInput(Tt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Tt,Wt;this.width&&(Tt=this.x,Wt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",lt(this,ut)),this.enableEditing(),j.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(dn=>{var pn;return(pn=this.editorDiv)==null?void 0:pn.setAttribute("aria-label",dn)}),j.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(dn=>{var pn;return(pn=this.editorDiv)==null?void 0:pn.setAttribute("default-content",dn)}),this.editorDiv.contentEditable=!0;const{style:Rt}=this.editorDiv;if(Rt.fontSize=`calc(${lt(this,dt)}px * var(--scale-factor))`,Rt.color=lt(this,st),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[dn,pn]=this.parentDimensions;if(this.annotationElementId){const{position:xt}=lt(this,yt);let[ft,vt]=this.getInitialTranslation();[ft,vt]=this.pageTranslationToScreen(ft,vt);const[mt,St]=this.pageDimensions,[Ct,Ft]=this.pageTranslation;let Lt,zt;switch(this.rotation){case 0:Lt=Tt+(xt[0]-Ct)/mt,zt=Wt+this.height-(xt[1]-Ft)/St;break;case 90:Lt=Tt+(xt[0]-Ct)/mt,zt=Wt-(xt[1]-Ft)/St,[ft,vt]=[vt,-ft];break;case 180:Lt=Tt-this.width+(xt[0]-Ct)/mt,zt=Wt-(xt[1]-Ft)/St,[ft,vt]=[-ft,-vt];break;case 270:Lt=Tt+(xt[0]-Ct-this.height*St)/mt,zt=Wt+(xt[1]-Ft-this.width*mt)/St,[ft,vt]=[-vt,ft];break}this.setAt(Lt*dn,zt*pn,ft,vt)}else this.setAt(Tt*dn,Wt*pn,this.width*dn,this.height*pn);Ht(this,bt,Jr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Tt,Wt,Rt){let dn=null;if(Tt instanceof $.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:xt,fontColor:ft},rect:vt,rotation:mt,id:St},textContent:Ct,textPosition:Ft,parent:{page:{pageNumber:Lt}}}=Tt;if(!Ct||Ct.length===0)return null;dn=Tt={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(ft),fontSize:xt,value:Ct.join(`
`),position:Ft,pageIndex:Lt-1,rect:vt,rotation:mt,id:St,deleted:!1}}const pn=super.deserialize(Tt,Wt,Rt);return tn(pn,dt,Tt.fontSize),tn(pn,st,a.Util.makeHexColor(...Tt.color)),tn(pn,ot,Tt.value),pn.annotationElementId=Tt.id||null,tn(pn,yt,dn),pn}serialize(Tt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Wt=Bt._internalPadding*this.parentScale,Rt=this.getRect(Wt,Wt),dn=j.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:lt(this,st)),pn={annotationType:a.AnnotationEditorType.FREETEXT,color:dn,fontSize:lt(this,dt),value:lt(this,ot),pageIndex:this.pageIndex,rect:Rt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Tt?pn:this.annotationElementId&&!Ht(this,_t,_s).call(this,pn)?null:(pn.id=this.annotationElementId,pn)}};et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakMap,ut=new WeakMap,dt=new WeakMap,yt=new WeakMap,it=new WeakSet,Es=function(Tt){const Wt=dn=>{this.editorDiv.style.fontSize=`calc(${dn}px * var(--scale-factor))`,this.translate(0,-(dn-lt(this,dt))*this.parentScale),tn(this,dt,dn),Ht(this,At,fr).call(this)},Rt=lt(this,dt);this.addCommands({cmd:()=>{Wt(Tt)},undo:()=>{Wt(Rt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ht=new WeakSet,Ss=function(Tt){const Wt=lt(this,st);this.addCommands({cmd:()=>{tn(this,st,this.editorDiv.style.color=Tt)},undo:()=>{tn(this,st,this.editorDiv.style.color=Wt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pt=new WeakSet,As=function(){const Tt=this.editorDiv.getElementsByTagName("div");if(Tt.length===0)return this.editorDiv.innerText;const Wt=[];for(const Rt of Tt)Wt.push(Rt.innerText.replace(/\r\n?|\n/,""));return Wt.join(`
`)},At=new WeakSet,fr=function(){const[Tt,Wt]=this.parentDimensions;let Rt;if(this.isAttachedToDOM)Rt=this.div.getBoundingClientRect();else{const{currentLayer:dn,div:pn}=this,xt=pn.style.display;pn.style.display="hidden",dn.div.append(this.div),Rt=pn.getBoundingClientRect(),pn.remove(),pn.style.display=xt}this.rotation%180===this.parentRotation%180?(this.width=Rt.width/Tt,this.height=Rt.height/Wt):(this.width=Rt.height/Tt,this.height=Rt.width/Wt),this.fixAndSetPosition()},bt=new WeakSet,Jr=function(){if(this.editorDiv.replaceChildren(),!!lt(this,ot))for(const Tt of lt(this,ot).split(`
`)){const Wt=document.createElement("div");Wt.append(Tt?document.createTextNode(Tt):document.createElement("br")),this.editorDiv.append(Wt)}},_t=new WeakSet,_s=function(Tt){const{value:Wt,fontSize:Rt,color:dn,rect:pn,pageIndex:xt}=lt(this,yt);return Tt.value!==Wt||Tt.fontSize!==Rt||Tt.rect.some((ft,vt)=>Math.abs(ft-pn[vt])>=1)||Tt.color.some((ft,vt)=>ft!==dn[vt])||Tt.pageIndex!==xt},Ot=new WeakSet,Zr=function(Tt=!1){if(!this.annotationElementId)return;if(Ht(this,At,fr).call(this),!Tt&&(this.width===0||this.height===0)){setTimeout(()=>Ht(this,Ot,Zr).call(this,!0),0);return}const Wt=Bt._internalPadding*this.parentScale;lt(this,yt).rect=this.getRect(Wt,Wt)},Yn(Bt,"_freeTextDefaultContent",""),Yn(Bt,"_internalPadding",0),Yn(Bt,"_defaultColor",null),Yn(Bt,"_defaultFontSize",10),Yn(Bt,"_type","freetext");let _e=Bt;s.FreeTextEditor=_e},(i,s,o)=>{var vt,St,rr,Ft,Cs,zt,Kt,en,rn,an,yn,un,Cn,Dn,bn,Pn,hn,Qt,Jt,ln,kn,Ut,on,Rs,_n,Sr,On,_i,Bn,es,qt,$t,mn,fn,qn,Xn,Yt,ts,Mn,En,Ln,In,Ts,xn,ns;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var a=o(1),_=o(6),j=o(3),$=o(30),_e=o(31),et=o(32);const tt=1e3,nt=9,rt=new WeakSet;function st(Fn){return{width:Fn[2]-Fn[0],height:Fn[3]-Fn[1]}}class ot{static create(It){switch(It.data.annotationType){case a.AnnotationType.LINK:return new dt(It);case a.AnnotationType.TEXT:return new yt(It);case a.AnnotationType.WIDGET:switch(It.data.fieldType){case"Tx":return new ct(It);case"Btn":return It.data.radioButton?new pt(It):It.data.checkBox?new kt(It):new at(It);case"Ch":return new At(It);case"Sig":return new ht(It)}return new it(It);case a.AnnotationType.POPUP:return new wt(It);case a.AnnotationType.FREETEXT:return new Et(It);case a.AnnotationType.LINE:return new _t(It);case a.AnnotationType.SQUARE:return new Mt(It);case a.AnnotationType.CIRCLE:return new Ot(It);case a.AnnotationType.POLYLINE:return new jt(It);case a.AnnotationType.CARET:return new Xt(It);case a.AnnotationType.INK:return new Zt(It);case a.AnnotationType.POLYGON:return new Bt(It);case a.AnnotationType.HIGHLIGHT:return new Tt(It);case a.AnnotationType.UNDERLINE:return new Wt(It);case a.AnnotationType.SQUIGGLY:return new Rt(It);case a.AnnotationType.STRIKEOUT:return new dn(It);case a.AnnotationType.STAMP:return new pn(It);case a.AnnotationType.FILEATTACHMENT:return new xt(It);default:return new ut(It)}}}const mt=class mt{constructor(It,{isRenderable:gt=!1,ignoreBorder:Pt=!1,createQuadrilaterals:Dt=!1}={}){Nt(this,vt,!1);this.isRenderable=gt,this.data=It.data,this.layer=It.layer,this.linkService=It.linkService,this.downloadManager=It.downloadManager,this.imageResourcesPath=It.imageResourcesPath,this.renderForms=It.renderForms,this.svgFactory=It.svgFactory,this.annotationStorage=It.annotationStorage,this.enableScripting=It.enableScripting,this.hasJSActions=It.hasJSActions,this._fieldObjects=It.fieldObjects,this.parent=It.parent,gt&&(this.container=this._createContainer(Pt)),Dt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:It,contentsObj:gt,richText:Pt}){return!!(It!=null&&It.str||gt!=null&&gt.str||Pt!=null&&Pt.str)}get hasPopupData(){return mt._hasPopupData(this.data)}_createContainer(It){const{data:gt,parent:{page:Pt,viewport:Dt}}=this,Vt=document.createElement("section");Vt.setAttribute("data-annotation-id",gt.id),this instanceof it||(Vt.tabIndex=tt),Vt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Vt.setAttribute("aria-haspopup","dialog"),gt.noRotate&&Vt.classList.add("norotate");const{pageWidth:Gt,pageHeight:nn,pageX:gn,pageY:An}=Dt.rawDims;if(!gt.rect||this instanceof wt){const{rotation:zn}=gt;return!gt.hasOwnCanvas&&zn!==0&&this.setRotation(zn,Vt),Vt}const{width:Sn,height:$n}=st(gt.rect),Rn=a.Util.normalizeRect([gt.rect[0],Pt.view[3]-gt.rect[1]+Pt.view[1],gt.rect[2],Pt.view[3]-gt.rect[3]+Pt.view[1]]);if(!It&&gt.borderStyle.width>0){Vt.style.borderWidth=`${gt.borderStyle.width}px`;const zn=gt.borderStyle.horizontalCornerRadius,Vn=gt.borderStyle.verticalCornerRadius;if(zn>0||Vn>0){const Gn=`calc(${zn}px * var(--scale-factor)) / calc(${Vn}px * var(--scale-factor))`;Vt.style.borderRadius=Gn}else if(this instanceof pt){const Gn=`calc(${Sn}px * var(--scale-factor)) / calc(${$n}px * var(--scale-factor))`;Vt.style.borderRadius=Gn}switch(gt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:Vt.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:Vt.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:Vt.style.borderBottomStyle="solid";break}const Hn=gt.borderColor||null;Hn?(tn(this,vt,!0),Vt.style.borderColor=a.Util.makeHexColor(Hn[0]|0,Hn[1]|0,Hn[2]|0)):Vt.style.borderWidth=0}Vt.style.left=`${100*(Rn[0]-gn)/Gt}%`,Vt.style.top=`${100*(Rn[1]-An)/nn}%`;const{rotation:Tn}=gt;return gt.hasOwnCanvas||Tn===0?(Vt.style.width=`${100*Sn/Gt}%`,Vt.style.height=`${100*$n/nn}%`):this.setRotation(Tn,Vt),Vt}setRotation(It,gt=this.container){if(!this.data.rect)return;const{pageWidth:Pt,pageHeight:Dt}=this.parent.viewport.rawDims,{width:Vt,height:Gt}=st(this.data.rect);let nn,gn;It%180===0?(nn=100*Vt/Pt,gn=100*Gt/Dt):(nn=100*Gt/Pt,gn=100*Vt/Dt),gt.style.width=`${nn}%`,gt.style.height=`${gn}%`,gt.setAttribute("data-main-rotation",(360-It)%360)}get _commonActions(){const It=(gt,Pt,Dt)=>{const Vt=Dt.detail[gt],Gt=Vt[0],nn=Vt.slice(1);Dt.target.style[Pt]=$.ColorConverters[`${Gt}_HTML`](nn),this.annotationStorage.setValue(this.data.id,{[Pt]:$.ColorConverters[`${Gt}_rgb`](nn)})};return(0,a.shadow)(this,"_commonActions",{display:gt=>{const{display:Pt}=gt.detail,Dt=Pt%2===1;this.container.style.visibility=Dt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Dt,noPrint:Pt===1||Pt===2})},print:gt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!gt.detail.print})},hidden:gt=>{const{hidden:Pt}=gt.detail;this.container.style.visibility=Pt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Pt,noView:Pt})},focus:gt=>{setTimeout(()=>gt.target.focus({preventScroll:!1}),0)},userName:gt=>{gt.target.title=gt.detail.userName},readonly:gt=>{gt.target.disabled=gt.detail.readonly},required:gt=>{this._setRequired(gt.target,gt.detail.required)},bgColor:gt=>{It("bgColor","backgroundColor",gt)},fillColor:gt=>{It("fillColor","backgroundColor",gt)},fgColor:gt=>{It("fgColor","color",gt)},textColor:gt=>{It("textColor","color",gt)},borderColor:gt=>{It("borderColor","borderColor",gt)},strokeColor:gt=>{It("strokeColor","borderColor",gt)},rotation:gt=>{const Pt=gt.detail.rotation;this.setRotation(Pt),this.annotationStorage.setValue(this.data.id,{rotation:Pt})}})}_dispatchEventFromSandbox(It,gt){const Pt=this._commonActions;for(const Dt of Object.keys(gt.detail)){const Vt=It[Dt]||Pt[Dt];Vt==null||Vt(gt)}}_setDefaultPropertiesFromJS(It){if(!this.enableScripting)return;const gt=this.annotationStorage.getRawValue(this.data.id);if(!gt)return;const Pt=this._commonActions;for(const[Dt,Vt]of Object.entries(gt)){const Gt=Pt[Dt];if(Gt){const nn={detail:{[Dt]:Vt},target:It};Gt(nn),delete gt[Dt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:It}=this.data;if(!It)return;const[gt,Pt,Dt,Vt]=this.data.rect;if(It.length===1){const[,{x:Vn,y:Hn},{x:Gn,y:Qn}]=It[0];if(Dt===Vn&&Vt===Hn&&gt===Gn&&Pt===Qn)return}const{style:Gt}=this.container;let nn;if(lt(this,vt)){const{borderColor:Vn,borderWidth:Hn}=Gt;Gt.borderWidth=0,nn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Vn}" stroke-width="${Hn}">`],this.container.classList.add("hasBorder")}const gn=Dt-gt,An=Vt-Pt,{svgFactory:Sn}=this,$n=Sn.createElement("svg");$n.classList.add("quadrilateralsContainer"),$n.setAttribute("width",0),$n.setAttribute("height",0);const Rn=Sn.createElement("defs");$n.append(Rn);const Tn=Sn.createElement("clipPath"),zn=`clippath_${this.data.id}`;Tn.setAttribute("id",zn),Tn.setAttribute("clipPathUnits","objectBoundingBox"),Rn.append(Tn);for(const[,{x:Vn,y:Hn},{x:Gn,y:Qn}]of It){const Kn=Sn.createElement("rect"),Jn=(Gn-gt)/gn,tr=(Vt-Hn)/An,nr=(Vn-Gn)/gn,ds=(Hn-Qn)/An;Kn.setAttribute("x",Jn),Kn.setAttribute("y",tr),Kn.setAttribute("width",nr),Kn.setAttribute("height",ds),Tn.append(Kn),nn==null||nn.push(`<rect vector-effect="non-scaling-stroke" x="${Jn}" y="${tr}" width="${nr}" height="${ds}"/>`)}lt(this,vt)&&(nn.push("</g></svg>')"),Gt.backgroundImage=nn.join("")),this.container.append($n),this.container.style.clipPath=`url(#${zn})`}_createPopup(){const{container:It,data:gt}=this;It.setAttribute("aria-haspopup","dialog");const Pt=new wt({data:{color:gt.color,titleObj:gt.titleObj,modificationDate:gt.modificationDate,contentsObj:gt.contentsObj,richText:gt.richText,parentRect:gt.rect,borderStyle:0,id:`popup_${gt.id}`,rotation:gt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Pt.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(It,gt=null){const Pt=[];if(this._fieldObjects){const Dt=this._fieldObjects[It];if(Dt)for(const{page:Vt,id:Gt,exportValues:nn}of Dt){if(Vt===-1||Gt===gt)continue;const gn=typeof nn=="string"?nn:null,An=document.querySelector(`[data-element-id="${Gt}"]`);if(An&&!rt.has(An)){(0,a.warn)(`_getElementsByName - element not allowed: ${Gt}`);continue}Pt.push({id:Gt,exportValue:gn,domElement:An})}return Pt}for(const Dt of document.getElementsByName(It)){const{exportValue:Vt}=Dt,Gt=Dt.getAttribute("data-element-id");Gt!==gt&&rt.has(Dt)&&Pt.push({id:Gt,exportValue:Vt,domElement:Dt})}return Pt}show(){var It;this.container&&(this.container.hidden=!1),(It=this.popup)==null||It.maybeShow()}hide(){var It;this.container&&(this.container.hidden=!0),(It=this.popup)==null||It.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const It=this.getElementsToTriggerPopup();if(Array.isArray(It))for(const gt of It)gt.classList.add("highlightArea");else It.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:It,data:{id:gt}}=this;this.container.addEventListener("dblclick",()=>{var Pt;(Pt=this.linkService.eventBus)==null||Pt.dispatch("switchannotationeditormode",{source:this,mode:It,editId:gt})})}};vt=new WeakMap;let ut=mt;class dt extends ut{constructor(gt,Pt=null){super(gt,{isRenderable:!0,ignoreBorder:!!(Pt!=null&&Pt.ignoreBorder),createQuadrilaterals:!0});Nt(this,St);Nt(this,Ft);this.isTooltipOnly=gt.data.isTooltipOnly}render(){const{data:gt,linkService:Pt}=this,Dt=document.createElement("a");Dt.setAttribute("data-element-id",gt.id);let Vt=!1;return gt.url?(Pt.addLinkAttributes(Dt,gt.url,gt.newWindow),Vt=!0):gt.action?(this._bindNamedAction(Dt,gt.action),Vt=!0):gt.attachment?(this._bindAttachment(Dt,gt.attachment),Vt=!0):gt.setOCGState?(Ht(this,Ft,Cs).call(this,Dt,gt.setOCGState),Vt=!0):gt.dest?(this._bindLink(Dt,gt.dest),Vt=!0):(gt.actions&&(gt.actions.Action||gt.actions["Mouse Up"]||gt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Dt,gt),Vt=!0),gt.resetForm?(this._bindResetFormAction(Dt,gt.resetForm),Vt=!0):this.isTooltipOnly&&!Vt&&(this._bindLink(Dt,""),Vt=!0)),this.container.classList.add("linkAnnotation"),Vt&&this.container.append(Dt),this.container}_bindLink(gt,Pt){gt.href=this.linkService.getDestinationHash(Pt),gt.onclick=()=>(Pt&&this.linkService.goToDestination(Pt),!1),(Pt||Pt==="")&&Ht(this,St,rr).call(this)}_bindNamedAction(gt,Pt){gt.href=this.linkService.getAnchorUrl(""),gt.onclick=()=>(this.linkService.executeNamedAction(Pt),!1),Ht(this,St,rr).call(this)}_bindAttachment(gt,Pt){gt.href=this.linkService.getAnchorUrl(""),gt.onclick=()=>{var Dt;return(Dt=this.downloadManager)==null||Dt.openOrDownloadData(this.container,Pt.content,Pt.filename),!1},Ht(this,St,rr).call(this)}_bindJSAction(gt,Pt){gt.href=this.linkService.getAnchorUrl("");const Dt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Vt of Object.keys(Pt.actions)){const Gt=Dt.get(Vt);Gt&&(gt[Gt]=()=>{var nn;return(nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Pt.id,name:Vt}}),!1})}gt.onclick||(gt.onclick=()=>!1),Ht(this,St,rr).call(this)}_bindResetFormAction(gt,Pt){const Dt=gt.onclick;if(Dt||(gt.href=this.linkService.getAnchorUrl("")),Ht(this,St,rr).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Dt||(gt.onclick=()=>!1);return}gt.onclick=()=>{var $n;Dt==null||Dt();const{fields:Vt,refs:Gt,include:nn}=Pt,gn=[];if(Vt.length!==0||Gt.length!==0){const Rn=new Set(Gt);for(const Tn of Vt){const zn=this._fieldObjects[Tn]||[];for(const{id:Vn}of zn)Rn.add(Vn)}for(const Tn of Object.values(this._fieldObjects))for(const zn of Tn)Rn.has(zn.id)===nn&&gn.push(zn)}else for(const Rn of Object.values(this._fieldObjects))gn.push(...Rn);const An=this.annotationStorage,Sn=[];for(const Rn of gn){const{id:Tn}=Rn;switch(Sn.push(Tn),Rn.type){case"text":{const Vn=Rn.defaultValue||"";An.setValue(Tn,{value:Vn});break}case"checkbox":case"radiobutton":{const Vn=Rn.defaultValue===Rn.exportValues;An.setValue(Tn,{value:Vn});break}case"combobox":case"listbox":{const Vn=Rn.defaultValue||"";An.setValue(Tn,{value:Vn});break}default:continue}const zn=document.querySelector(`[data-element-id="${Tn}"]`);if(zn){if(!rt.has(zn)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Tn}`);continue}}else continue;zn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Sn,name:"ResetForm"}})),!1}}}St=new WeakSet,rr=function(){this.container.setAttribute("data-internal-link","")},Ft=new WeakSet,Cs=function(gt,Pt){gt.href=this.linkService.getAnchorUrl(""),gt.onclick=()=>(this.linkService.executeSetOCGState(Pt),!1),Ht(this,St,rr).call(this)};class yt extends ut{constructor(It){super(It,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const It=document.createElement("img");return It.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",It.alt="[{{type}} Annotation]",It.dataset.l10nId="text_annotation_type",It.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(It),this.container}}class it extends ut{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(It){var gt;this.data.hasOwnCanvas&&(((gt=It.previousSibling)==null?void 0:gt.nodeName)==="CANVAS"&&(It.previousSibling.hidden=!0),It.hidden=!1)}_getKeyModifier(It){const{isWin:gt,isMac:Pt}=a.FeatureTest.platform;return gt&&It.ctrlKey||Pt&&It.metaKey}_setEventListener(It,gt,Pt,Dt,Vt){Pt.includes("mouse")?It.addEventListener(Pt,Gt=>{var nn;(nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:Vt(Gt),shift:Gt.shiftKey,modifier:this._getKeyModifier(Gt)}})}):It.addEventListener(Pt,Gt=>{var nn;if(Pt==="blur"){if(!gt.focused||!Gt.relatedTarget)return;gt.focused=!1}else if(Pt==="focus"){if(gt.focused)return;gt.focused=!0}Vt&&((nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dt,value:Vt(Gt)}}))})}_setEventListeners(It,gt,Pt,Dt){var Vt,Gt,nn;for(const[gn,An]of Pt)(An==="Action"||(Vt=this.data.actions)!=null&&Vt[An])&&((An==="Focus"||An==="Blur")&&(gt||(gt={focused:!1})),this._setEventListener(It,gt,gn,An,Dt),An==="Focus"&&!((Gt=this.data.actions)!=null&&Gt.Blur)?this._setEventListener(It,gt,"blur","Blur",null):An==="Blur"&&!((nn=this.data.actions)!=null&&nn.Focus)&&this._setEventListener(It,gt,"focus","Focus",null))}_setBackgroundColor(It){const gt=this.data.backgroundColor||null;It.style.backgroundColor=gt===null?"transparent":a.Util.makeHexColor(gt[0],gt[1],gt[2])}_setTextStyle(It){const gt=["left","center","right"],{fontColor:Pt}=this.data.defaultAppearanceData,Dt=this.data.defaultAppearanceData.fontSize||nt,Vt=It.style;let Gt;const nn=2,gn=An=>Math.round(10*An)/10;if(this.data.multiLine){const An=Math.abs(this.data.rect[3]-this.data.rect[1]-nn),Sn=Math.round(An/(a.LINE_FACTOR*Dt))||1,$n=An/Sn;Gt=Math.min(Dt,gn($n/a.LINE_FACTOR))}else{const An=Math.abs(this.data.rect[3]-this.data.rect[1]-nn);Gt=Math.min(Dt,gn(An/a.LINE_FACTOR))}Vt.fontSize=`calc(${Gt}px * var(--scale-factor))`,Vt.color=a.Util.makeHexColor(Pt[0],Pt[1],Pt[2]),this.data.textAlignment!==null&&(Vt.textAlign=gt[this.data.textAlignment])}_setRequired(It,gt){gt?It.setAttribute("required",!0):It.removeAttribute("required"),It.setAttribute("aria-required",gt)}}class ct extends it{constructor(It){const gt=It.renderForms||!It.data.hasAppearance&&!!It.data.fieldValue;super(It,{isRenderable:gt})}setPropertyOnSiblings(It,gt,Pt,Dt){const Vt=this.annotationStorage;for(const Gt of this._getElementsByName(It.name,It.id))Gt.domElement&&(Gt.domElement[gt]=Pt),Vt.setValue(Gt.id,{[Dt]:Pt})}render(){var Dt,Vt;const It=this.annotationStorage,gt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Pt=null;if(this.renderForms){const Gt=It.getValue(gt,{value:this.data.fieldValue});let nn=Gt.value||"";const gn=It.getValue(gt,{charLimit:this.data.maxLen}).charLimit;gn&&nn.length>gn&&(nn=nn.slice(0,gn));let An=Gt.formattedValue||((Dt=this.data.textContent)==null?void 0:Dt.join(`
`))||null;An&&this.data.comb&&(An=An.replaceAll(/\s+/g,""));const Sn={userValue:nn,formattedValue:An,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Pt=document.createElement("textarea"),Pt.textContent=An??nn,this.data.doNotScroll&&(Pt.style.overflowY="hidden")):(Pt=document.createElement("input"),Pt.type="text",Pt.setAttribute("value",An??nn),this.data.doNotScroll&&(Pt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Pt.hidden=!0),rt.add(Pt),Pt.setAttribute("data-element-id",gt),Pt.disabled=this.data.readOnly,Pt.name=this.data.fieldName,Pt.tabIndex=tt,this._setRequired(Pt,this.data.required),gn&&(Pt.maxLength=gn),Pt.addEventListener("input",Rn=>{It.setValue(gt,{value:Rn.target.value}),this.setPropertyOnSiblings(Pt,"value",Rn.target.value,"value"),Sn.formattedValue=null}),Pt.addEventListener("resetform",Rn=>{const Tn=this.data.defaultFieldValue??"";Pt.value=Sn.userValue=Tn,Sn.formattedValue=null});let $n=Rn=>{const{formattedValue:Tn}=Sn;Tn!=null&&(Rn.target.value=Tn),Rn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Pt.addEventListener("focus",Tn=>{if(Sn.focused)return;const{target:zn}=Tn;Sn.userValue&&(zn.value=Sn.userValue),Sn.lastCommittedValue=zn.value,Sn.commitKey=1,Sn.focused=!0}),Pt.addEventListener("updatefromsandbox",Tn=>{this.showElementAndHideCanvas(Tn.target);const zn={value(Vn){Sn.userValue=Vn.detail.value??"",It.setValue(gt,{value:Sn.userValue.toString()}),Vn.target.value=Sn.userValue},formattedValue(Vn){const{formattedValue:Hn}=Vn.detail;Sn.formattedValue=Hn,Hn!=null&&Vn.target!==document.activeElement&&(Vn.target.value=Hn),It.setValue(gt,{formattedValue:Hn})},selRange(Vn){Vn.target.setSelectionRange(...Vn.detail.selRange)},charLimit:Vn=>{var Kn;const{charLimit:Hn}=Vn.detail,{target:Gn}=Vn;if(Hn===0){Gn.removeAttribute("maxLength");return}Gn.setAttribute("maxLength",Hn);let Qn=Sn.userValue;!Qn||Qn.length<=Hn||(Qn=Qn.slice(0,Hn),Gn.value=Sn.userValue=Qn,It.setValue(gt,{value:Qn}),(Kn=this.linkService.eventBus)==null||Kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:Qn,willCommit:!0,commitKey:1,selStart:Gn.selectionStart,selEnd:Gn.selectionEnd}}))}};this._dispatchEventFromSandbox(zn,Tn)}),Pt.addEventListener("keydown",Tn=>{var Hn;Sn.commitKey=1;let zn=-1;if(Tn.key==="Escape"?zn=0:Tn.key==="Enter"&&!this.data.multiLine?zn=2:Tn.key==="Tab"&&(Sn.commitKey=3),zn===-1)return;const{value:Vn}=Tn.target;Sn.lastCommittedValue!==Vn&&(Sn.lastCommittedValue=Vn,Sn.userValue=Vn,(Hn=this.linkService.eventBus)==null||Hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:Vn,willCommit:!0,commitKey:zn,selStart:Tn.target.selectionStart,selEnd:Tn.target.selectionEnd}}))});const Rn=$n;$n=null,Pt.addEventListener("blur",Tn=>{var Vn;if(!Sn.focused||!Tn.relatedTarget)return;Sn.focused=!1;const{value:zn}=Tn.target;Sn.userValue=zn,Sn.lastCommittedValue!==zn&&((Vn=this.linkService.eventBus)==null||Vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:zn,willCommit:!0,commitKey:Sn.commitKey,selStart:Tn.target.selectionStart,selEnd:Tn.target.selectionEnd}})),Rn(Tn)}),(Vt=this.data.actions)!=null&&Vt.Keystroke&&Pt.addEventListener("beforeinput",Tn=>{var tr;Sn.lastCommittedValue=null;const{data:zn,target:Vn}=Tn,{value:Hn,selectionStart:Gn,selectionEnd:Qn}=Vn;let Kn=Gn,Jn=Qn;switch(Tn.inputType){case"deleteWordBackward":{const nr=Hn.substring(0,Gn).match(/\w*[^\w]*$/);nr&&(Kn-=nr[0].length);break}case"deleteWordForward":{const nr=Hn.substring(Gn).match(/^[^\w]*\w*/);nr&&(Jn+=nr[0].length);break}case"deleteContentBackward":Gn===Qn&&(Kn-=1);break;case"deleteContentForward":Gn===Qn&&(Jn+=1);break}Tn.preventDefault(),(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:Hn,change:zn||"",willCommit:!1,selStart:Kn,selEnd:Jn}})}),this._setEventListeners(Pt,Sn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Tn=>Tn.target.value)}if($n&&Pt.addEventListener("blur",$n),this.data.comb){const Tn=(this.data.rect[2]-this.data.rect[0])/gn;Pt.classList.add("comb"),Pt.style.letterSpacing=`calc(${Tn}px * var(--scale-factor) - 1ch)`}}else Pt=document.createElement("div"),Pt.textContent=this.data.fieldValue,Pt.style.verticalAlign="middle",Pt.style.display="table-cell";return this._setTextStyle(Pt),this._setBackgroundColor(Pt),this._setDefaultPropertiesFromJS(Pt),this.container.append(Pt),this.container}}class ht extends it{constructor(It){super(It,{isRenderable:!!It.data.hasOwnCanvas})}}class kt extends it{constructor(It){super(It,{isRenderable:It.renderForms})}render(){const It=this.annotationStorage,gt=this.data,Pt=gt.id;let Dt=It.getValue(Pt,{value:gt.exportValue===gt.fieldValue}).value;typeof Dt=="string"&&(Dt=Dt!=="Off",It.setValue(Pt,{value:Dt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Vt=document.createElement("input");return rt.add(Vt),Vt.setAttribute("data-element-id",Pt),Vt.disabled=gt.readOnly,this._setRequired(Vt,this.data.required),Vt.type="checkbox",Vt.name=gt.fieldName,Dt&&Vt.setAttribute("checked",!0),Vt.setAttribute("exportValue",gt.exportValue),Vt.tabIndex=tt,Vt.addEventListener("change",Gt=>{const{name:nn,checked:gn}=Gt.target;for(const An of this._getElementsByName(nn,Pt)){const Sn=gn&&An.exportValue===gt.exportValue;An.domElement&&(An.domElement.checked=Sn),It.setValue(An.id,{value:Sn})}It.setValue(Pt,{value:gn})}),Vt.addEventListener("resetform",Gt=>{const nn=gt.defaultFieldValue||"Off";Gt.target.checked=nn===gt.exportValue}),this.enableScripting&&this.hasJSActions&&(Vt.addEventListener("updatefromsandbox",Gt=>{const nn={value(gn){gn.target.checked=gn.detail.value!=="Off",It.setValue(Pt,{value:gn.target.checked})}};this._dispatchEventFromSandbox(nn,Gt)}),this._setEventListeners(Vt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Gt=>Gt.target.checked)),this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class pt extends it{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const It=this.annotationStorage,gt=this.data,Pt=gt.id;let Dt=It.getValue(Pt,{value:gt.fieldValue===gt.buttonValue}).value;typeof Dt=="string"&&(Dt=Dt!==gt.buttonValue,It.setValue(Pt,{value:Dt}));const Vt=document.createElement("input");if(rt.add(Vt),Vt.setAttribute("data-element-id",Pt),Vt.disabled=gt.readOnly,this._setRequired(Vt,this.data.required),Vt.type="radio",Vt.name=gt.fieldName,Dt&&Vt.setAttribute("checked",!0),Vt.tabIndex=tt,Vt.addEventListener("change",Gt=>{const{name:nn,checked:gn}=Gt.target;for(const An of this._getElementsByName(nn,Pt))It.setValue(An.id,{value:!1});It.setValue(Pt,{value:gn})}),Vt.addEventListener("resetform",Gt=>{const nn=gt.defaultFieldValue;Gt.target.checked=nn!=null&&nn===gt.buttonValue}),this.enableScripting&&this.hasJSActions){const Gt=gt.buttonValue;Vt.addEventListener("updatefromsandbox",nn=>{const gn={value:An=>{const Sn=Gt===An.detail.value;for(const $n of this._getElementsByName(An.target.name)){const Rn=Sn&&$n.id===Pt;$n.domElement&&($n.domElement.checked=Rn),It.setValue($n.id,{value:Rn})}}};this._dispatchEventFromSandbox(gn,nn)}),this._setEventListeners(Vt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nn=>nn.target.checked)}return this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class at extends dt{constructor(It){super(It,{ignoreBorder:It.data.hasAppearance})}render(){const It=super.render();It.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(It.title=this.data.alternativeText);const gt=It.lastChild;return this.enableScripting&&this.hasJSActions&&gt&&(this._setDefaultPropertiesFromJS(gt),gt.addEventListener("updatefromsandbox",Pt=>{this._dispatchEventFromSandbox({},Pt)})),It}}class At extends it{constructor(It){super(It,{isRenderable:It.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const It=this.annotationStorage,gt=this.data.id,Pt=It.getValue(gt,{value:this.data.fieldValue}),Dt=document.createElement("select");rt.add(Dt),Dt.setAttribute("data-element-id",gt),Dt.disabled=this.data.readOnly,this._setRequired(Dt,this.data.required),Dt.name=this.data.fieldName,Dt.tabIndex=tt;let Vt=this.data.combo&&this.data.options.length>0;this.data.combo||(Dt.size=this.data.options.length,this.data.multiSelect&&(Dt.multiple=!0)),Dt.addEventListener("resetform",Sn=>{const $n=this.data.defaultFieldValue;for(const Rn of Dt.options)Rn.selected=Rn.value===$n});for(const Sn of this.data.options){const $n=document.createElement("option");$n.textContent=Sn.displayValue,$n.value=Sn.exportValue,Pt.value.includes(Sn.exportValue)&&($n.setAttribute("selected",!0),Vt=!1),Dt.append($n)}let Gt=null;if(Vt){const Sn=document.createElement("option");Sn.value=" ",Sn.setAttribute("hidden",!0),Sn.setAttribute("selected",!0),Dt.prepend(Sn),Gt=()=>{Sn.remove(),Dt.removeEventListener("input",Gt),Gt=null},Dt.addEventListener("input",Gt)}const nn=Sn=>{const $n=Sn?"value":"textContent",{options:Rn,multiple:Tn}=Dt;return Tn?Array.prototype.filter.call(Rn,zn=>zn.selected).map(zn=>zn[$n]):Rn.selectedIndex===-1?null:Rn[Rn.selectedIndex][$n]};let gn=nn(!1);const An=Sn=>{const $n=Sn.target.options;return Array.prototype.map.call($n,Rn=>({displayValue:Rn.textContent,exportValue:Rn.value}))};return this.enableScripting&&this.hasJSActions?(Dt.addEventListener("updatefromsandbox",Sn=>{const $n={value(Rn){Gt==null||Gt();const Tn=Rn.detail.value,zn=new Set(Array.isArray(Tn)?Tn:[Tn]);for(const Vn of Dt.options)Vn.selected=zn.has(Vn.value);It.setValue(gt,{value:nn(!0)}),gn=nn(!1)},multipleSelection(Rn){Dt.multiple=!0},remove(Rn){const Tn=Dt.options,zn=Rn.detail.remove;Tn[zn].selected=!1,Dt.remove(zn),Tn.length>0&&Array.prototype.findIndex.call(Tn,Hn=>Hn.selected)===-1&&(Tn[0].selected=!0),It.setValue(gt,{value:nn(!0),items:An(Rn)}),gn=nn(!1)},clear(Rn){for(;Dt.length!==0;)Dt.remove(0);It.setValue(gt,{value:null,items:[]}),gn=nn(!1)},insert(Rn){const{index:Tn,displayValue:zn,exportValue:Vn}=Rn.detail.insert,Hn=Dt.children[Tn],Gn=document.createElement("option");Gn.textContent=zn,Gn.value=Vn,Hn?Hn.before(Gn):Dt.append(Gn),It.setValue(gt,{value:nn(!0),items:An(Rn)}),gn=nn(!1)},items(Rn){const{items:Tn}=Rn.detail;for(;Dt.length!==0;)Dt.remove(0);for(const zn of Tn){const{displayValue:Vn,exportValue:Hn}=zn,Gn=document.createElement("option");Gn.textContent=Vn,Gn.value=Hn,Dt.append(Gn)}Dt.options.length>0&&(Dt.options[0].selected=!0),It.setValue(gt,{value:nn(!0),items:An(Rn)}),gn=nn(!1)},indices(Rn){const Tn=new Set(Rn.detail.indices);for(const zn of Rn.target.options)zn.selected=Tn.has(zn.index);It.setValue(gt,{value:nn(!0)}),gn=nn(!1)},editable(Rn){Rn.target.disabled=!Rn.detail.editable}};this._dispatchEventFromSandbox($n,Sn)}),Dt.addEventListener("input",Sn=>{var Rn;const $n=nn(!0);It.setValue(gt,{value:$n}),Sn.preventDefault(),(Rn=this.linkService.eventBus)==null||Rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:gn,changeEx:$n,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Dt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Sn=>Sn.target.value)):Dt.addEventListener("input",function(Sn){It.setValue(gt,{value:nn(!0)})}),this.data.combo&&this._setTextStyle(Dt),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class wt extends ut{constructor(It){const{data:gt,elements:Pt}=It;super(It,{isRenderable:ut._hasPopupData(gt)}),this.elements=Pt}render(){this.container.classList.add("popupAnnotation");const It=new bt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),gt=[];for(const Pt of this.elements)Pt.popup=It,gt.push(Pt.data.id),Pt.addHighlightArea();return this.container.setAttribute("aria-controls",gt.map(Pt=>`${a.AnnotationPrefix}${Pt}`).join(",")),this.container}}class bt{constructor({container:It,color:gt,elements:Pt,titleObj:Dt,modificationDate:Vt,contentsObj:Gt,richText:nn,parent:gn,rect:An,parentRect:Sn,open:$n}){Nt(this,on);Nt(this,_n);Nt(this,On);Nt(this,Bn);Nt(this,zt,null);Nt(this,Kt,Ht(this,on,Rs).bind(this));Nt(this,en,Ht(this,Bn,es).bind(this));Nt(this,rn,Ht(this,On,_i).bind(this));Nt(this,an,Ht(this,_n,Sr).bind(this));Nt(this,yn,null);Nt(this,un,null);Nt(this,Cn,null);Nt(this,Dn,null);Nt(this,bn,null);Nt(this,Pn,null);Nt(this,hn,!1);Nt(this,Qt,null);Nt(this,Jt,null);Nt(this,ln,null);Nt(this,kn,null);Nt(this,Ut,!1);var Tn;tn(this,un,It),tn(this,kn,Dt),tn(this,Cn,Gt),tn(this,ln,nn),tn(this,bn,gn),tn(this,yn,gt),tn(this,Jt,An),tn(this,Pn,Sn),tn(this,Dn,Pt);const Rn=_.PDFDateString.toDateObject(Vt);Rn&&tn(this,zt,gn.l10n.get("annotation_date_string",{date:Rn.toLocaleDateString(),time:Rn.toLocaleTimeString()})),this.trigger=Pt.flatMap(zn=>zn.getElementsToTriggerPopup());for(const zn of this.trigger)zn.addEventListener("click",lt(this,an)),zn.addEventListener("mouseenter",lt(this,rn)),zn.addEventListener("mouseleave",lt(this,en)),zn.classList.add("popupTriggerArea");for(const zn of Pt)(Tn=zn.container)==null||Tn.addEventListener("keydown",lt(this,Kt));lt(this,un).hidden=!0,$n&&Ht(this,_n,Sr).call(this)}render(){if(lt(this,Qt))return;const{page:{view:It},viewport:{rawDims:{pageWidth:gt,pageHeight:Pt,pageX:Dt,pageY:Vt}}}=lt(this,bn),Gt=tn(this,Qt,document.createElement("div"));if(Gt.className="popup",lt(this,yn)){const Kn=Gt.style.outlineColor=a.Util.makeHexColor(...lt(this,yn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Gt.style.backgroundColor=`color-mix(in srgb, ${Kn} 30%, white)`:Gt.style.backgroundColor=a.Util.makeHexColor(...lt(this,yn).map(tr=>Math.floor(.7*(255-tr)+tr)))}const nn=document.createElement("span");nn.className="header";const gn=document.createElement("h1");if(nn.append(gn),{dir:gn.dir,str:gn.textContent}=lt(this,kn),Gt.append(nn),lt(this,zt)){const Kn=document.createElement("span");Kn.classList.add("popupDate"),lt(this,zt).then(Jn=>{Kn.textContent=Jn}),nn.append(Kn)}const An=lt(this,Cn),Sn=lt(this,ln);if(Sn!=null&&Sn.str&&(!(An!=null&&An.str)||An.str===Sn.str))et.XfaLayer.render({xfaHtml:Sn.html,intent:"richText",div:Gt}),Gt.lastChild.classList.add("richText","popupContent");else{const Kn=this._formatContents(An);Gt.append(Kn)}let $n=!!lt(this,Pn),Rn=$n?lt(this,Pn):lt(this,Jt);for(const Kn of lt(this,Dn))if(!Rn||a.Util.intersect(Kn.data.rect,Rn)!==null){Rn=Kn.data.rect,$n=!0;break}const Tn=a.Util.normalizeRect([Rn[0],It[3]-Rn[1]+It[1],Rn[2],It[3]-Rn[3]+It[1]]),zn=5,Vn=$n?Rn[2]-Rn[0]+zn:0,Hn=Tn[0]+Vn,Gn=Tn[1],{style:Qn}=lt(this,un);Qn.left=`${100*(Hn-Dt)/gt}%`,Qn.top=`${100*(Gn-Vt)/Pt}%`,lt(this,un).append(Gt)}_formatContents({str:It,dir:gt}){const Pt=document.createElement("p");Pt.classList.add("popupContent"),Pt.dir=gt;const Dt=It.split(/(?:\r\n?|\n)/);for(let Vt=0,Gt=Dt.length;Vt<Gt;++Vt){const nn=Dt[Vt];Pt.append(document.createTextNode(nn)),Vt<Gt-1&&Pt.append(document.createElement("br"))}return Pt}forceHide(){tn(this,Ut,this.isVisible),lt(this,Ut)&&(lt(this,un).hidden=!0)}maybeShow(){lt(this,Ut)&&(tn(this,Ut,!1),lt(this,un).hidden=!1)}get isVisible(){return lt(this,un).hidden===!1}}zt=new WeakMap,Kt=new WeakMap,en=new WeakMap,rn=new WeakMap,an=new WeakMap,yn=new WeakMap,un=new WeakMap,Cn=new WeakMap,Dn=new WeakMap,bn=new WeakMap,Pn=new WeakMap,hn=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,ln=new WeakMap,kn=new WeakMap,Ut=new WeakMap,on=new WeakSet,Rs=function(It){It.altKey||It.shiftKey||It.ctrlKey||It.metaKey||(It.key==="Enter"||It.key==="Escape"&&lt(this,hn))&&Ht(this,_n,Sr).call(this)},_n=new WeakSet,Sr=function(){tn(this,hn,!lt(this,hn)),lt(this,hn)?(Ht(this,On,_i).call(this),lt(this,un).addEventListener("click",lt(this,an)),lt(this,un).addEventListener("keydown",lt(this,Kt))):(Ht(this,Bn,es).call(this),lt(this,un).removeEventListener("click",lt(this,an)),lt(this,un).removeEventListener("keydown",lt(this,Kt)))},On=new WeakSet,_i=function(){lt(this,Qt)||this.render(),this.isVisible?lt(this,hn)&&lt(this,un).classList.add("focused"):(lt(this,un).hidden=!1,lt(this,un).style.zIndex=parseInt(lt(this,un).style.zIndex)+1e3)},Bn=new WeakSet,es=function(){lt(this,un).classList.remove("focused"),!(lt(this,hn)||!this.isVisible)&&(lt(this,un).hidden=!0,lt(this,un).style.zIndex=parseInt(lt(this,un).style.zIndex)-1e3)};class Et extends ut{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0}),this.textContent=It.data.textContent,this.textPosition=It.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const It=document.createElement("div");It.classList.add("annotationTextContent"),It.setAttribute("role","comment");for(const gt of this.textContent){const Pt=document.createElement("span");Pt.textContent=gt,It.append(Pt)}this.container.append(It)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=Et;class _t extends ut{constructor(gt){super(gt,{isRenderable:!0,ignoreBorder:!0});Nt(this,qt,null)}render(){this.container.classList.add("lineAnnotation");const gt=this.data,{width:Pt,height:Dt}=st(gt.rect),Vt=this.svgFactory.create(Pt,Dt,!0),Gt=tn(this,qt,this.svgFactory.createElement("svg:line"));return Gt.setAttribute("x1",gt.rect[2]-gt.lineCoordinates[0]),Gt.setAttribute("y1",gt.rect[3]-gt.lineCoordinates[1]),Gt.setAttribute("x2",gt.rect[2]-gt.lineCoordinates[2]),Gt.setAttribute("y2",gt.rect[3]-gt.lineCoordinates[3]),Gt.setAttribute("stroke-width",gt.borderStyle.width||1),Gt.setAttribute("stroke","transparent"),Gt.setAttribute("fill","transparent"),Vt.append(Gt),this.container.append(Vt),!gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}qt=new WeakMap;class Mt extends ut{constructor(gt){super(gt,{isRenderable:!0,ignoreBorder:!0});Nt(this,$t,null)}render(){this.container.classList.add("squareAnnotation");const gt=this.data,{width:Pt,height:Dt}=st(gt.rect),Vt=this.svgFactory.create(Pt,Dt,!0),Gt=gt.borderStyle.width,nn=tn(this,$t,this.svgFactory.createElement("svg:rect"));return nn.setAttribute("x",Gt/2),nn.setAttribute("y",Gt/2),nn.setAttribute("width",Pt-Gt),nn.setAttribute("height",Dt-Gt),nn.setAttribute("stroke-width",Gt||1),nn.setAttribute("stroke","transparent"),nn.setAttribute("fill","transparent"),Vt.append(nn),this.container.append(Vt),!gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,$t)}addHighlightArea(){this.container.classList.add("highlightArea")}}$t=new WeakMap;class Ot extends ut{constructor(gt){super(gt,{isRenderable:!0,ignoreBorder:!0});Nt(this,mn,null)}render(){this.container.classList.add("circleAnnotation");const gt=this.data,{width:Pt,height:Dt}=st(gt.rect),Vt=this.svgFactory.create(Pt,Dt,!0),Gt=gt.borderStyle.width,nn=tn(this,mn,this.svgFactory.createElement("svg:ellipse"));return nn.setAttribute("cx",Pt/2),nn.setAttribute("cy",Dt/2),nn.setAttribute("rx",Pt/2-Gt/2),nn.setAttribute("ry",Dt/2-Gt/2),nn.setAttribute("stroke-width",Gt||1),nn.setAttribute("stroke","transparent"),nn.setAttribute("fill","transparent"),Vt.append(nn),this.container.append(Vt),!gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap;class jt extends ut{constructor(gt){super(gt,{isRenderable:!0,ignoreBorder:!0});Nt(this,fn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const gt=this.data,{width:Pt,height:Dt}=st(gt.rect),Vt=this.svgFactory.create(Pt,Dt,!0);let Gt=[];for(const gn of gt.vertices){const An=gn.x-gt.rect[0],Sn=gt.rect[3]-gn.y;Gt.push(An+","+Sn)}Gt=Gt.join(" ");const nn=tn(this,fn,this.svgFactory.createElement(this.svgElementName));return nn.setAttribute("points",Gt),nn.setAttribute("stroke-width",gt.borderStyle.width||1),nn.setAttribute("stroke","transparent"),nn.setAttribute("fill","transparent"),Vt.append(nn),this.container.append(Vt),!gt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}fn=new WeakMap;class Bt extends jt{constructor(It){super(It),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xt extends ut{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Zt extends ut{constructor(gt){super(gt,{isRenderable:!0,ignoreBorder:!0});Nt(this,qn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const gt=this.data,{width:Pt,height:Dt}=st(gt.rect),Vt=this.svgFactory.create(Pt,Dt,!0);for(const Gt of gt.inkLists){let nn=[];for(const An of Gt){const Sn=An.x-gt.rect[0],$n=gt.rect[3]-An.y;nn.push(`${Sn},${$n}`)}nn=nn.join(" ");const gn=this.svgFactory.createElement(this.svgElementName);lt(this,qn).push(gn),gn.setAttribute("points",nn),gn.setAttribute("stroke-width",gt.borderStyle.width||1),gn.setAttribute("stroke","transparent"),gn.setAttribute("fill","transparent"),!gt.popupRef&&this.hasPopupData&&this._createPopup(),Vt.append(gn)}return this.container.append(Vt),this.container}getElementsToTriggerPopup(){return lt(this,qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}qn=new WeakMap,s.InkAnnotationElement=Zt;class Tt extends ut{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Wt extends ut{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Rt extends ut{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class dn extends ut{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class pn extends ut{constructor(It){super(It,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=pn;class xt extends ut{constructor(gt){var Vt;super(gt,{isRenderable:!0});Nt(this,Yt);Nt(this,Xn,null);const{filename:Pt,content:Dt}=this.data.file;this.filename=(0,_.getFilenameFromUrl)(Pt,!0),this.content=Dt,(Vt=this.linkService.eventBus)==null||Vt.dispatch("fileattachmentannotation",{source:this,filename:Pt,content:Dt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:gt,data:Pt}=this;let Dt;Pt.hasAppearance||Pt.fillAlpha===0?Dt=document.createElement("div"):(Dt=document.createElement("img"),Dt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Pt.name)?"paperclip":"pushpin"}.svg`,Pt.fillAlpha&&Pt.fillAlpha<1&&(Dt.style=`filter: opacity(${Math.round(Pt.fillAlpha*100)}%);`)),Dt.addEventListener("dblclick",Ht(this,Yt,ts).bind(this)),tn(this,Xn,Dt);const{isMac:Vt}=a.FeatureTest.platform;return gt.addEventListener("keydown",Gt=>{Gt.key==="Enter"&&(Vt?Gt.metaKey:Gt.ctrlKey)&&Ht(this,Yt,ts).call(this)}),!Pt.popupRef&&this.hasPopupData?this._createPopup():Dt.classList.add("popupTriggerArea"),gt.append(Dt),gt}getElementsToTriggerPopup(){return lt(this,Xn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xn=new WeakMap,Yt=new WeakSet,ts=function(){var gt;(gt=this.downloadManager)==null||gt.openOrDownloadData(this.container,this.content,this.filename)};class ft{constructor({div:It,accessibilityManager:gt,annotationCanvasMap:Pt,l10n:Dt,page:Vt,viewport:Gt}){Nt(this,In);Nt(this,xn);Nt(this,Mn,null);Nt(this,En,null);Nt(this,Ln,new Map);this.div=It,tn(this,Mn,gt),tn(this,En,Pt),this.l10n=Dt,this.page=Vt,this.viewport=Gt,this.zIndex=0,this.l10n||(this.l10n=_e.NullL10n)}async render(It){const{annotations:gt}=It,Pt=this.div;(0,_.setLayerDimensions)(Pt,this.viewport);const Dt=new Map,Vt={data:null,layer:Pt,linkService:It.linkService,downloadManager:It.downloadManager,imageResourcesPath:It.imageResourcesPath||"",renderForms:It.renderForms!==!1,svgFactory:new _.DOMSVGFactory,annotationStorage:It.annotationStorage||new j.AnnotationStorage,enableScripting:It.enableScripting===!0,hasJSActions:It.hasJSActions,fieldObjects:It.fieldObjects,parent:this,elements:null};for(const Gt of gt){if(Gt.noHTML)continue;const nn=Gt.annotationType===a.AnnotationType.POPUP;if(nn){const Sn=Dt.get(Gt.id);if(!Sn)continue;Vt.elements=Sn}else{const{width:Sn,height:$n}=st(Gt.rect);if(Sn<=0||$n<=0)continue}Vt.data=Gt;const gn=ot.create(Vt);if(!gn.isRenderable)continue;if(!nn&&Gt.popupRef){const Sn=Dt.get(Gt.popupRef);Sn?Sn.push(gn):Dt.set(Gt.popupRef,[gn])}gn.annotationEditorType>0&&lt(this,Ln).set(gn.data.id,gn);const An=gn.render();Gt.hidden&&(An.style.visibility="hidden"),Ht(this,In,Ts).call(this,An,Gt.id)}Ht(this,xn,ns).call(this),await this.l10n.translate(Pt)}update({viewport:It}){const gt=this.div;this.viewport=It,(0,_.setLayerDimensions)(gt,{rotation:It.rotation}),Ht(this,xn,ns).call(this),gt.hidden=!1}getEditableAnnotations(){return Array.from(lt(this,Ln).values())}getEditableAnnotation(It){return lt(this,Ln).get(It)}}Mn=new WeakMap,En=new WeakMap,Ln=new WeakMap,In=new WeakSet,Ts=function(It,gt){var Dt;const Pt=It.firstChild||It;Pt.id=`${a.AnnotationPrefix}${gt}`,this.div.append(It),(Dt=lt(this,Mn))==null||Dt.moveElementInDOM(this.div,It,Pt,!1)},xn=new WeakSet,ns=function(){if(!lt(this,En))return;const It=this.div;for(const[gt,Pt]of lt(this,En)){const Dt=It.querySelector(`[data-annotation-id="${gt}"]`);if(!Dt)continue;const{firstChild:Vt}=Dt;Vt?Vt.nodeName==="CANVAS"?Vt.replaceWith(Pt):Vt.before(Pt):Dt.append(Pt)}lt(this,En).clear()},s.AnnotationLayer=ft},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function o(j){return Math.floor(Math.max(0,Math.min(1,j))*255).toString(16).padStart(2,"0")}function a(j){return Math.max(0,Math.min(255,255*j))}class _{static CMYK_G([$,_e,et,tt]){return["G",1-Math.min(1,.3*$+.59*et+.11*_e+tt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=a($),[$,$,$]}static G_HTML([$]){const _e=o($);return`#${_e}${_e}${_e}`}static RGB_G([$,_e,et]){return["G",.3*$+.59*_e+.11*et]}static RGB_rgb($){return $.map(a)}static RGB_HTML($){return`#${$.map(o).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,_e,et,tt]){return["RGB",1-Math.min(1,$+tt),1-Math.min(1,et+tt),1-Math.min(1,_e+tt)]}static CMYK_rgb([$,_e,et,tt]){return[a(1-Math.min(1,$+tt)),a(1-Math.min(1,et+tt)),a(1-Math.min(1,_e+tt))]}static CMYK_HTML($){const _e=this.CMYK_RGB($).slice(1);return this.RGB_HTML(_e)}static RGB_CMYK([$,_e,et]){const tt=1-$,nt=1-_e,rt=1-et,st=Math.min(tt,nt,rt);return["CMYK",tt,nt,rt,st]}}s.ColorConverters=_},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function a($,_e){switch($){case"find_match_count":$=`find_match_count[${_e.total===1?"one":"other"}]`;break;case"find_match_count_limit":$=`find_match_count_limit[${_e.limit===1?"one":"other"}]`;break}return o[$]||""}function _($,_e){return _e?$.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(et,tt)=>tt in _e?_e[tt]:"{{"+tt+"}}"):$}const j={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get($,_e=null,et=a($,_e)){return _(et,_e)},async translate($){}};s.NullL10n=j},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=o(25);class _{static setupStorage($,_e,et,tt,nt){const rt=tt.getValue(_e,{value:null});switch(et.name){case"textarea":if(rt.value!==null&&($.textContent=rt.value),nt==="print")break;$.addEventListener("input",st=>{tt.setValue(_e,{value:st.target.value})});break;case"input":if(et.attributes.type==="radio"||et.attributes.type==="checkbox"){if(rt.value===et.attributes.xfaOn?$.setAttribute("checked",!0):rt.value===et.attributes.xfaOff&&$.removeAttribute("checked"),nt==="print")break;$.addEventListener("change",st=>{tt.setValue(_e,{value:st.target.checked?st.target.getAttribute("xfaOn"):st.target.getAttribute("xfaOff")})})}else{if(rt.value!==null&&$.setAttribute("value",rt.value),nt==="print")break;$.addEventListener("input",st=>{tt.setValue(_e,{value:st.target.value})})}break;case"select":if(rt.value!==null){$.setAttribute("value",rt.value);for(const st of et.children)st.attributes.value===rt.value?st.attributes.selected=!0:st.attributes.hasOwnProperty("selected")&&delete st.attributes.selected}$.addEventListener("input",st=>{const ot=st.target.options,ut=ot.selectedIndex===-1?"":ot[ot.selectedIndex].value;tt.setValue(_e,{value:ut})});break}}static setAttributes({html:$,element:_e,storage:et=null,intent:tt,linkService:nt}){const{attributes:rt}=_e,st=$ instanceof HTMLAnchorElement;rt.type==="radio"&&(rt.name=`${rt.name}-${tt}`);for(const[ot,ut]of Object.entries(rt))if(ut!=null)switch(ot){case"class":ut.length&&$.setAttribute(ot,ut.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",ut);break;case"style":Object.assign($.style,ut);break;case"textContent":$.textContent=ut;break;default:(!st||ot!=="href"&&ot!=="newWindow")&&$.setAttribute(ot,ut)}st&&nt.addLinkAttributes($,rt.href,rt.newWindow),et&&rt.dataId&&this.setupStorage($,rt.dataId,_e,et)}static render($){var dt;const _e=$.annotationStorage,et=$.linkService,tt=$.xfaHtml,nt=$.intent||"display",rt=document.createElement(tt.name);tt.attributes&&this.setAttributes({html:rt,element:tt,intent:nt,linkService:et});const st=[[tt,-1,rt]],ot=$.div;if(ot.append(rt),$.viewport){const yt=`matrix(${$.viewport.transform.join(",")})`;ot.style.transform=yt}nt!=="richText"&&ot.setAttribute("class","xfaLayer xfaFont");const ut=[];for(;st.length>0;){const[yt,it,ct]=st.at(-1);if(it+1===yt.children.length){st.pop();continue}const ht=yt.children[++st.at(-1)[1]];if(ht===null)continue;const{name:kt}=ht;if(kt==="#text"){const at=document.createTextNode(ht.value);ut.push(at),ct.append(at);continue}const pt=(dt=ht==null?void 0:ht.attributes)!=null&&dt.xmlns?document.createElementNS(ht.attributes.xmlns,kt):document.createElement(kt);if(ct.append(pt),ht.attributes&&this.setAttributes({html:pt,element:ht,storage:_e,intent:nt,linkService:et}),ht.children&&ht.children.length>0)st.push([ht,-1,pt]);else if(ht.value){const at=document.createTextNode(ht.value);a.XfaText.shouldBuildText(kt)&&ut.push(at),pt.append(at)}}for(const yt of ot.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))yt.setAttribute("readOnly",!0);return{textDivs:ut}}static update($){const _e=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=_e,$.div.hidden=!1}}s.XfaLayer=_},(i,s,o)=>{var tt,nt,rt,st,ot,ut,dt,yt,it,ct,ht,kt,pt,at,At,Ps,bt,js,_t,Fs,Ot,Ms,Bt,rs,Zt,Ls,Wt,is,dn,Is,xt,Ds,vt,Ns,St,Os,Ft,zs,zt,er,en,ss,an,Ar,un,_r,Dn,ar,Pn,os,Qt,Cr,ln,Bs,Ut,as,vn,$s,jn,Vs,Nn,ls,sn,Rr,$t,lr;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var a=o(1),_=o(4),j=o(29),$=o(6),_e=o(5);const fn=class fn extends _.AnnotationEditor{constructor(Yt){super({...Yt,name:"inkEditor"});Nt(this,At);Nt(this,bt);Nt(this,_t);Nt(this,Ot);Nt(this,Bt);Nt(this,Zt);Nt(this,Wt);Nt(this,dn);Nt(this,xt);Nt(this,vt);Nt(this,St);Nt(this,Ft);Nt(this,zt);Nt(this,en);Nt(this,an);Nt(this,un);Nt(this,Dn);Nt(this,Pn);Nt(this,Qt);Nt(this,jn);Nt(this,Nn);Nt(this,sn);Nt(this,$t);Nt(this,tt,0);Nt(this,nt,0);Nt(this,rt,this.canvasPointermove.bind(this));Nt(this,st,this.canvasPointerleave.bind(this));Nt(this,ot,this.canvasPointerup.bind(this));Nt(this,ut,this.canvasPointerdown.bind(this));Nt(this,dt,new Path2D);Nt(this,yt,!1);Nt(this,it,!1);Nt(this,ct,!1);Nt(this,ht,null);Nt(this,kt,0);Nt(this,pt,0);Nt(this,at,null);this.color=Yt.color||null,this.thickness=Yt.thickness||null,this.opacity=Yt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Yt){_.AnnotationEditor.initialize(Yt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Yt,wn){switch(Yt){case a.AnnotationEditorParamsType.INK_THICKNESS:fn._defaultThickness=wn;break;case a.AnnotationEditorParamsType.INK_COLOR:fn._defaultColor=wn;break;case a.AnnotationEditorParamsType.INK_OPACITY:fn._defaultOpacity=wn/100;break}}updateParams(Yt,wn){switch(Yt){case a.AnnotationEditorParamsType.INK_THICKNESS:Ht(this,At,Ps).call(this,wn);break;case a.AnnotationEditorParamsType.INK_COLOR:Ht(this,bt,js).call(this,wn);break;case a.AnnotationEditorParamsType.INK_OPACITY:Ht(this,_t,Fs).call(this,wn);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,fn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,fn._defaultColor||_.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(fn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||fn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||fn._defaultColor||_.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??fn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ht(this,an,Ar).call(this),Ht(this,un,_r).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ht(this,Dn,ar).call(this)),Ht(this,$t,lr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,lt(this,ht).disconnect(),tn(this,ht,null),super.remove())}setParent(Yt){!this.parent&&Yt?this._uiManager.removeShouldRescale(this):this.parent&&Yt===null&&this._uiManager.addShouldRescale(this),super.setParent(Yt)}onScaleChanging(){const[Yt,wn]=this.parentDimensions,Mn=this.width*Yt,En=this.height*wn;this.setDimensions(Mn,En)}enableEditMode(){lt(this,yt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",lt(this,ut)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",lt(this,ut)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){lt(this,yt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),tn(this,yt,!0),this.div.classList.add("disabled"),Ht(this,$t,lr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Yt){this._focusEventsAllowed&&(super.focusin(Yt),this.enableEditMode())}canvasPointerdown(Yt){Yt.button!==0||!this.isInEditMode()||lt(this,yt)||(this.setInForeground(),Yt.preventDefault(),Yt.type!=="mouse"&&this.div.focus(),Ht(this,Zt,Ls).call(this,Yt.offsetX,Yt.offsetY))}canvasPointermove(Yt){Yt.preventDefault(),Ht(this,Wt,is).call(this,Yt.offsetX,Yt.offsetY)}canvasPointerup(Yt){Yt.preventDefault(),Ht(this,en,ss).call(this,Yt)}canvasPointerleave(Yt){Ht(this,en,ss).call(this,Yt)}get isResizable(){return!this.isEmpty()&&lt(this,yt)}render(){if(this.div)return this.div;let Yt,wn;this.width&&(Yt=this.x,wn=this.y),super.render(),_.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Wn=>{var xn;return(xn=this.div)==null?void 0:xn.setAttribute("aria-label",Wn)});const[Mn,En,Ln,In]=Ht(this,Ot,Ms).call(this);if(this.setAt(Mn,En,0,0),this.setDims(Ln,In),Ht(this,an,Ar).call(this),this.width){const[Wn,xn]=this.parentDimensions;this.setAspectRatio(this.width*Wn,this.height*xn),this.setAt(Yt*Wn,wn*xn,this.width*Wn,this.height*xn),tn(this,ct,!0),Ht(this,Dn,ar).call(this),this.setDims(this.width*Wn,this.height*xn),Ht(this,zt,er).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ht(this,un,_r).call(this),this.div}setDimensions(Yt,wn){const Mn=Math.round(Yt),En=Math.round(wn);if(lt(this,kt)===Mn&&lt(this,pt)===En)return;tn(this,kt,Mn),tn(this,pt,En),this.canvas.style.visibility="hidden";const[Ln,In]=this.parentDimensions;this.width=Yt/Ln,this.height=wn/In,this.fixAndSetPosition(),lt(this,yt)&&Ht(this,Pn,os).call(this,Yt,wn),Ht(this,Dn,ar).call(this),Ht(this,zt,er).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Yt,wn,Mn){var Vt,Gt,nn;if(Yt instanceof j.InkAnnotationElement)return null;const En=super.deserialize(Yt,wn,Mn);En.thickness=Yt.thickness,En.color=a.Util.makeHexColor(...Yt.color),En.opacity=Yt.opacity;const[Ln,In]=En.pageDimensions,Wn=En.width*Ln,xn=En.height*In,Un=En.parentScale,Fn=Yt.thickness/2;tn(En,yt,!0),tn(En,kt,Math.round(Wn)),tn(En,pt,Math.round(xn));const{paths:It,rect:gt,rotation:Pt}=Yt;for(let{bezier:gn}of It){gn=Ht(Vt=fn,vn,$s).call(Vt,gn,gt,Pt);const An=[];En.paths.push(An);let Sn=Un*(gn[0]-Fn),$n=Un*(gn[1]-Fn);for(let Tn=2,zn=gn.length;Tn<zn;Tn+=6){const Vn=Un*(gn[Tn]-Fn),Hn=Un*(gn[Tn+1]-Fn),Gn=Un*(gn[Tn+2]-Fn),Qn=Un*(gn[Tn+3]-Fn),Kn=Un*(gn[Tn+4]-Fn),Jn=Un*(gn[Tn+5]-Fn);An.push([[Sn,$n],[Vn,Hn],[Gn,Qn],[Kn,Jn]]),Sn=Kn,$n=Jn}const Rn=Ht(this,ln,Bs).call(this,An);En.bezierPath2D.push(Rn)}const Dt=Ht(Gt=En,Nn,ls).call(Gt);return tn(En,nt,Math.max(_.AnnotationEditor.MIN_SIZE,Dt[2]-Dt[0])),tn(En,tt,Math.max(_.AnnotationEditor.MIN_SIZE,Dt[3]-Dt[1])),Ht(nn=En,Pn,os).call(nn,Wn,xn),En}serialize(){if(this.isEmpty())return null;const Yt=this.getRect(0,0),wn=_.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:wn,thickness:this.thickness,opacity:this.opacity,paths:Ht(this,jn,Vs).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Yt),pageIndex:this.pageIndex,rect:Yt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakMap,ut=new WeakMap,dt=new WeakMap,yt=new WeakMap,it=new WeakMap,ct=new WeakMap,ht=new WeakMap,kt=new WeakMap,pt=new WeakMap,at=new WeakMap,At=new WeakSet,Ps=function(Yt){const wn=this.thickness;this.addCommands({cmd:()=>{this.thickness=Yt,Ht(this,$t,lr).call(this)},undo:()=>{this.thickness=wn,Ht(this,$t,lr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},bt=new WeakSet,js=function(Yt){const wn=this.color;this.addCommands({cmd:()=>{this.color=Yt,Ht(this,zt,er).call(this)},undo:()=>{this.color=wn,Ht(this,zt,er).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_t=new WeakSet,Fs=function(Yt){Yt/=100;const wn=this.opacity;this.addCommands({cmd:()=>{this.opacity=Yt,Ht(this,zt,er).call(this)},undo:()=>{this.opacity=wn,Ht(this,zt,er).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ot=new WeakSet,Ms=function(){const{parentRotation:Yt,parentDimensions:[wn,Mn]}=this;switch(Yt){case 90:return[0,Mn,Mn,wn];case 180:return[wn,Mn,wn,Mn];case 270:return[wn,0,Mn,wn];default:return[0,0,wn,Mn]}},Bt=new WeakSet,rs=function(){const{ctx:Yt,color:wn,opacity:Mn,thickness:En,parentScale:Ln,scaleFactor:In}=this;Yt.lineWidth=En*Ln/In,Yt.lineCap="round",Yt.lineJoin="round",Yt.miterLimit=10,Yt.strokeStyle=`${wn}${(0,_e.opacityToHex)(Mn)}`},Zt=new WeakSet,Ls=function(Yt,wn){this.canvas.addEventListener("contextmenu",$.noContextMenu),this.canvas.addEventListener("pointerleave",lt(this,st)),this.canvas.addEventListener("pointermove",lt(this,rt)),this.canvas.addEventListener("pointerup",lt(this,ot)),this.canvas.removeEventListener("pointerdown",lt(this,ut)),this.isEditing=!0,lt(this,ct)||(tn(this,ct,!0),Ht(this,Dn,ar).call(this),this.thickness||(this.thickness=fn._defaultThickness),this.color||(this.color=fn._defaultColor||_.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=fn._defaultOpacity)),this.currentPath.push([Yt,wn]),tn(this,it,!1),Ht(this,Bt,rs).call(this),tn(this,at,()=>{Ht(this,vt,Ns).call(this),lt(this,at)&&window.requestAnimationFrame(lt(this,at))}),window.requestAnimationFrame(lt(this,at))},Wt=new WeakSet,is=function(Yt,wn){const[Mn,En]=this.currentPath.at(-1);if(this.currentPath.length>1&&Yt===Mn&&wn===En)return;const Ln=this.currentPath;let In=lt(this,dt);if(Ln.push([Yt,wn]),tn(this,it,!0),Ln.length<=2){In.moveTo(...Ln[0]),In.lineTo(Yt,wn);return}Ln.length===3&&(tn(this,dt,In=new Path2D),In.moveTo(...Ln[0])),Ht(this,St,Os).call(this,In,...Ln.at(-3),...Ln.at(-2),Yt,wn)},dn=new WeakSet,Is=function(){if(this.currentPath.length===0)return;const Yt=this.currentPath.at(-1);lt(this,dt).lineTo(...Yt)},xt=new WeakSet,Ds=function(Yt,wn){tn(this,at,null),Yt=Math.min(Math.max(Yt,0),this.canvas.width),wn=Math.min(Math.max(wn,0),this.canvas.height),Ht(this,Wt,is).call(this,Yt,wn),Ht(this,dn,Is).call(this);let Mn;if(this.currentPath.length!==1)Mn=Ht(this,Ft,zs).call(this);else{const xn=[Yt,wn];Mn=[[xn,xn.slice(),xn.slice(),xn]]}const En=lt(this,dt),Ln=this.currentPath;this.currentPath=[],tn(this,dt,new Path2D);const In=()=>{this.allRawPaths.push(Ln),this.paths.push(Mn),this.bezierPath2D.push(En),this.rebuild()},Wn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ht(this,an,Ar).call(this),Ht(this,un,_r).call(this)),Ht(this,$t,lr).call(this))};this.addCommands({cmd:In,undo:Wn,mustExec:!0})},vt=new WeakSet,Ns=function(){if(!lt(this,it))return;tn(this,it,!1);const Yt=Math.ceil(this.thickness*this.parentScale),wn=this.currentPath.slice(-3),Mn=wn.map(In=>In[0]),En=wn.map(In=>In[1]);Math.min(...Mn)-Yt,Math.max(...Mn)+Yt,Math.min(...En)-Yt,Math.max(...En)+Yt;const{ctx:Ln}=this;Ln.save(),Ln.clearRect(0,0,this.canvas.width,this.canvas.height);for(const In of this.bezierPath2D)Ln.stroke(In);Ln.stroke(lt(this,dt)),Ln.restore()},St=new WeakSet,Os=function(Yt,wn,Mn,En,Ln,In,Wn){const xn=(wn+En)/2,Un=(Mn+Ln)/2,Fn=(En+In)/2,It=(Ln+Wn)/2;Yt.bezierCurveTo(xn+2*(En-xn)/3,Un+2*(Ln-Un)/3,Fn+2*(En-Fn)/3,It+2*(Ln-It)/3,Fn,It)},Ft=new WeakSet,zs=function(){const Yt=this.currentPath;if(Yt.length<=2)return[[Yt[0],Yt[0],Yt.at(-1),Yt.at(-1)]];const wn=[];let Mn,[En,Ln]=Yt[0];for(Mn=1;Mn<Yt.length-2;Mn++){const[gt,Pt]=Yt[Mn],[Dt,Vt]=Yt[Mn+1],Gt=(gt+Dt)/2,nn=(Pt+Vt)/2,gn=[En+2*(gt-En)/3,Ln+2*(Pt-Ln)/3],An=[Gt+2*(gt-Gt)/3,nn+2*(Pt-nn)/3];wn.push([[En,Ln],gn,An,[Gt,nn]]),[En,Ln]=[Gt,nn]}const[In,Wn]=Yt[Mn],[xn,Un]=Yt[Mn+1],Fn=[En+2*(In-En)/3,Ln+2*(Wn-Ln)/3],It=[xn+2*(In-xn)/3,Un+2*(Wn-Un)/3];return wn.push([[En,Ln],Fn,It,[xn,Un]]),wn},zt=new WeakSet,er=function(){if(this.isEmpty()){Ht(this,Qt,Cr).call(this);return}Ht(this,Bt,rs).call(this);const{canvas:Yt,ctx:wn}=this;wn.setTransform(1,0,0,1,0,0),wn.clearRect(0,0,Yt.width,Yt.height),Ht(this,Qt,Cr).call(this);for(const Mn of this.bezierPath2D)wn.stroke(Mn)},en=new WeakSet,ss=function(Yt){this.canvas.removeEventListener("pointerleave",lt(this,st)),this.canvas.removeEventListener("pointermove",lt(this,rt)),this.canvas.removeEventListener("pointerup",lt(this,ot)),this.canvas.addEventListener("pointerdown",lt(this,ut)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",$.noContextMenu)},10),Ht(this,xt,Ds).call(this,Yt.offsetX,Yt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},an=new WeakSet,Ar=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",_.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Yt=>{var wn;return(wn=this.canvas)==null?void 0:wn.setAttribute("aria-label",Yt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},un=new WeakSet,_r=function(){tn(this,ht,new ResizeObserver(Yt=>{const wn=Yt[0].contentRect;wn.width&&wn.height&&this.setDimensions(wn.width,wn.height)})),lt(this,ht).observe(this.div)},Dn=new WeakSet,ar=function(){if(!lt(this,ct))return;const[Yt,wn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Yt),this.canvas.height=Math.ceil(this.height*wn),Ht(this,Qt,Cr).call(this)},Pn=new WeakSet,os=function(Yt,wn){const Mn=Ht(this,sn,Rr).call(this),En=(Yt-Mn)/lt(this,nt),Ln=(wn-Mn)/lt(this,tt);this.scaleFactor=Math.min(En,Ln)},Qt=new WeakSet,Cr=function(){const Yt=Ht(this,sn,Rr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Yt,this.translationY*this.scaleFactor+Yt)},ln=new WeakSet,Bs=function(Yt){const wn=new Path2D;for(let Mn=0,En=Yt.length;Mn<En;Mn++){const[Ln,In,Wn,xn]=Yt[Mn];Mn===0&&wn.moveTo(...Ln),wn.bezierCurveTo(In[0],In[1],Wn[0],Wn[1],xn[0],xn[1])}return wn},Ut=new WeakSet,as=function(Yt,wn,Mn){const[En,Ln,In,Wn]=wn;switch(Mn){case 0:for(let xn=0,Un=Yt.length;xn<Un;xn+=2)Yt[xn]+=En,Yt[xn+1]=Wn-Yt[xn+1];break;case 90:for(let xn=0,Un=Yt.length;xn<Un;xn+=2){const Fn=Yt[xn];Yt[xn]=Yt[xn+1]+En,Yt[xn+1]=Fn+Ln}break;case 180:for(let xn=0,Un=Yt.length;xn<Un;xn+=2)Yt[xn]=In-Yt[xn],Yt[xn+1]+=Ln;break;case 270:for(let xn=0,Un=Yt.length;xn<Un;xn+=2){const Fn=Yt[xn];Yt[xn]=In-Yt[xn+1],Yt[xn+1]=Wn-Fn}break;default:throw new Error("Invalid rotation")}return Yt},vn=new WeakSet,$s=function(Yt,wn,Mn){const[En,Ln,In,Wn]=wn;switch(Mn){case 0:for(let xn=0,Un=Yt.length;xn<Un;xn+=2)Yt[xn]-=En,Yt[xn+1]=Wn-Yt[xn+1];break;case 90:for(let xn=0,Un=Yt.length;xn<Un;xn+=2){const Fn=Yt[xn];Yt[xn]=Yt[xn+1]-Ln,Yt[xn+1]=Fn-En}break;case 180:for(let xn=0,Un=Yt.length;xn<Un;xn+=2)Yt[xn]=In-Yt[xn],Yt[xn+1]-=Ln;break;case 270:for(let xn=0,Un=Yt.length;xn<Un;xn+=2){const Fn=Yt[xn];Yt[xn]=Wn-Yt[xn+1],Yt[xn+1]=In-Fn}break;default:throw new Error("Invalid rotation")}return Yt},jn=new WeakSet,Vs=function(Yt,wn,Mn,En){var Un,Fn;const Ln=[],In=this.thickness/2,Wn=Yt*wn+In,xn=Yt*Mn+In;for(const It of this.paths){const gt=[],Pt=[];for(let Dt=0,Vt=It.length;Dt<Vt;Dt++){const[Gt,nn,gn,An]=It[Dt],Sn=Yt*Gt[0]+Wn,$n=Yt*Gt[1]+xn,Rn=Yt*nn[0]+Wn,Tn=Yt*nn[1]+xn,zn=Yt*gn[0]+Wn,Vn=Yt*gn[1]+xn,Hn=Yt*An[0]+Wn,Gn=Yt*An[1]+xn;Dt===0&&(gt.push(Sn,$n),Pt.push(Sn,$n)),gt.push(Rn,Tn,zn,Vn,Hn,Gn),Pt.push(Rn,Tn),Dt===Vt-1&&Pt.push(Hn,Gn)}Ln.push({bezier:Ht(Un=fn,Ut,as).call(Un,gt,En,this.rotation),points:Ht(Fn=fn,Ut,as).call(Fn,Pt,En,this.rotation)})}return Ln},Nn=new WeakSet,ls=function(){let Yt=1/0,wn=-1/0,Mn=1/0,En=-1/0;for(const Ln of this.paths)for(const[In,Wn,xn,Un]of Ln){const Fn=a.Util.bezierBoundingBox(...In,...Wn,...xn,...Un);Yt=Math.min(Yt,Fn[0]),Mn=Math.min(Mn,Fn[1]),wn=Math.max(wn,Fn[2]),En=Math.max(En,Fn[3])}return[Yt,Mn,wn,En]},sn=new WeakSet,Rr=function(){return lt(this,yt)?Math.ceil(this.thickness*this.parentScale):0},$t=new WeakSet,lr=function(Yt=!1){if(this.isEmpty())return;if(!lt(this,yt)){Ht(this,zt,er).call(this);return}const wn=Ht(this,Nn,ls).call(this),Mn=Ht(this,sn,Rr).call(this);tn(this,nt,Math.max(_.AnnotationEditor.MIN_SIZE,wn[2]-wn[0])),tn(this,tt,Math.max(_.AnnotationEditor.MIN_SIZE,wn[3]-wn[1]));const En=Math.ceil(Mn+lt(this,nt)*this.scaleFactor),Ln=Math.ceil(Mn+lt(this,tt)*this.scaleFactor),[In,Wn]=this.parentDimensions;this.width=En/In,this.height=Ln/Wn,this.setAspectRatio(En,Ln);const xn=this.translationX,Un=this.translationY;this.translationX=-wn[0],this.translationY=-wn[1],Ht(this,Dn,ar).call(this),Ht(this,zt,er).call(this),tn(this,kt,En),tn(this,pt,Ln),this.setDims(En,Ln);const Fn=Yt?Mn/this.scaleFactor/2:0;this.translate(xn-this.translationX-Fn,Un-this.translationY-Fn)},Nt(fn,ln),Nt(fn,Ut),Nt(fn,vn),Yn(fn,"_defaultColor",null),Yn(fn,"_defaultOpacity",1),Yn(fn,"_defaultThickness",1),Yn(fn,"_type","ink");let et=fn;s.InkEditor=et},(i,s,o)=>{var et,tt,nt,rt,st,ot,ut,dt,yt,it,ct,mr,kt,gr,at,Tr,wt,us,Et,Us,Mt,Hs,jt,cs,Xt,Pr,Tt,Ws;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var a=o(1),_=o(4),j=o(6),$=o(29);const Rt=class Rt extends _.AnnotationEditor{constructor(xt){super({...xt,name:"stampEditor"});Nt(this,ct);Nt(this,kt);Nt(this,at);Nt(this,wt);Nt(this,Et);Nt(this,Mt);Nt(this,jt);Nt(this,Xt);Nt(this,Tt);Nt(this,et,null);Nt(this,tt,null);Nt(this,nt,null);Nt(this,rt,null);Nt(this,st,null);Nt(this,ot,null);Nt(this,ut,null);Nt(this,dt,null);Nt(this,yt,!1);Nt(this,it,!1);tn(this,rt,xt.bitmapUrl),tn(this,st,xt.bitmapFile)}static initialize(xt){_.AnnotationEditor.initialize(xt)}static get supportedTypes(){const xt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",xt.map(ft=>`image/${ft}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(xt){return this.supportedTypes.includes(xt)}static paste(xt,ft){ft.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:xt.getAsFile()})}remove(){var xt,ft;lt(this,tt)&&(tn(this,et,null),this._uiManager.imageManager.deleteId(lt(this,tt)),(xt=lt(this,ot))==null||xt.remove(),tn(this,ot,null),(ft=lt(this,ut))==null||ft.disconnect(),tn(this,ut,null)),super.remove()}rebuild(){if(!this.parent){lt(this,tt)&&Ht(this,at,Tr).call(this);return}super.rebuild(),this.div!==null&&(lt(this,tt)&&Ht(this,at,Tr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(lt(this,nt)||lt(this,et)||lt(this,rt)||lt(this,st))}get isResizable(){return!0}render(){if(this.div)return this.div;let xt,ft;if(this.width&&(xt=this.x,ft=this.y),super.render(),this.div.hidden=!0,lt(this,et)?Ht(this,wt,us).call(this):Ht(this,at,Tr).call(this),this.width){const[vt,mt]=this.parentDimensions;this.setAt(xt*vt,ft*mt,this.width*vt,this.height*mt)}return this.div}static deserialize(xt,ft,vt){if(xt instanceof $.StampAnnotationElement)return null;const mt=super.deserialize(xt,ft,vt),{rect:St,bitmapUrl:Ct,bitmapId:Ft,isSvg:Lt,accessibilityData:zt}=xt;Ft&&vt.imageManager.isValidId(Ft)?tn(mt,tt,Ft):tn(mt,rt,Ct),tn(mt,yt,Lt);const[Kt,en]=mt.pageDimensions;return mt.width=(St[2]-St[0])/Kt,mt.height=(St[3]-St[1])/en,zt&&(mt.altTextData=zt),mt}serialize(xt=!1,ft=null){if(this.isEmpty())return null;const vt={annotationType:a.AnnotationEditorType.STAMP,bitmapId:lt(this,tt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:lt(this,yt),structTreeParentId:this._structTreeParentId};if(xt)return vt.bitmapUrl=Ht(this,Xt,Pr).call(this,!0),vt.accessibilityData=this.altTextData,vt;const{decorative:mt,altText:St}=this.altTextData;if(!mt&&St&&(vt.accessibilityData={type:"Figure",alt:St}),ft===null)return vt;ft.stamps||(ft.stamps=new Map);const Ct=lt(this,yt)?(vt.rect[2]-vt.rect[0])*(vt.rect[3]-vt.rect[1]):null;if(!ft.stamps.has(lt(this,tt)))ft.stamps.set(lt(this,tt),{area:Ct,serialized:vt}),vt.bitmap=Ht(this,Xt,Pr).call(this,!1);else if(lt(this,yt)){const Ft=ft.stamps.get(lt(this,tt));Ct>Ft.area&&(Ft.area=Ct,Ft.serialized.bitmap.close(),Ft.serialized.bitmap=Ht(this,Xt,Pr).call(this,!1))}return vt}};et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakMap,ut=new WeakMap,dt=new WeakMap,yt=new WeakMap,it=new WeakMap,ct=new WeakSet,mr=function(xt,ft=!1){if(!xt){this.remove();return}tn(this,et,xt.bitmap),ft||(tn(this,tt,xt.id),tn(this,yt,xt.isSvg)),Ht(this,wt,us).call(this)},kt=new WeakSet,gr=function(){tn(this,nt,null),this._uiManager.enableWaiting(!1),lt(this,ot)&&this.div.focus()},at=new WeakSet,Tr=function(){if(lt(this,tt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(lt(this,tt)).then(ft=>Ht(this,ct,mr).call(this,ft,!0)).finally(()=>Ht(this,kt,gr).call(this));return}if(lt(this,rt)){const ft=lt(this,rt);tn(this,rt,null),this._uiManager.enableWaiting(!0),tn(this,nt,this._uiManager.imageManager.getFromUrl(ft).then(vt=>Ht(this,ct,mr).call(this,vt)).finally(()=>Ht(this,kt,gr).call(this)));return}if(lt(this,st)){const ft=lt(this,st);tn(this,st,null),this._uiManager.enableWaiting(!0),tn(this,nt,this._uiManager.imageManager.getFromFile(ft).then(vt=>Ht(this,ct,mr).call(this,vt)).finally(()=>Ht(this,kt,gr).call(this)));return}const xt=document.createElement("input");xt.type="file",xt.accept=Rt.supportedTypesStr,tn(this,nt,new Promise(ft=>{xt.addEventListener("change",async()=>{if(!xt.files||xt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const vt=await this._uiManager.imageManager.getFromFile(xt.files[0]);Ht(this,ct,mr).call(this,vt)}ft()}),xt.addEventListener("cancel",()=>{this.remove(),ft()})}).finally(()=>Ht(this,kt,gr).call(this))),xt.click()},wt=new WeakSet,us=function(){const{div:xt}=this;let{width:ft,height:vt}=lt(this,et);const[mt,St]=this.pageDimensions,Ct=.75;if(this.width)ft=this.width*mt,vt=this.height*St;else if(ft>Ct*mt||vt>Ct*St){const Kt=Math.min(Ct*mt/ft,Ct*St/vt);ft*=Kt,vt*=Kt}const[Ft,Lt]=this.parentDimensions;this.setDims(ft*Ft/mt,vt*Lt/St),this._uiManager.enableWaiting(!1);const zt=tn(this,ot,document.createElement("canvas"));xt.append(zt),xt.hidden=!1,Ht(this,jt,cs).call(this,ft,vt),Ht(this,Tt,Ws).call(this),lt(this,it)||(this.parent.addUndoableEditor(this),tn(this,it,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Et=new WeakSet,Us=function(xt,ft){var Ct;const[vt,mt]=this.parentDimensions;this.width=xt/vt,this.height=ft/mt,this.setDims(xt,ft),(Ct=this._initialOptions)!=null&&Ct.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,lt(this,dt)!==null&&clearTimeout(lt(this,dt)),tn(this,dt,setTimeout(()=>{tn(this,dt,null),Ht(this,jt,cs).call(this,xt,ft)},200))},Mt=new WeakSet,Hs=function(xt,ft){const{width:vt,height:mt}=lt(this,et);let St=vt,Ct=mt,Ft=lt(this,et);for(;St>2*xt||Ct>2*ft;){const Lt=St,zt=Ct;St>2*xt&&(St=St>=16384?Math.floor(St/2)-1:Math.ceil(St/2)),Ct>2*ft&&(Ct=Ct>=16384?Math.floor(Ct/2)-1:Math.ceil(Ct/2));const Kt=new OffscreenCanvas(St,Ct);Kt.getContext("2d").drawImage(Ft,0,0,Lt,zt,0,0,St,Ct),Ft=Kt.transferToImageBitmap()}return Ft},jt=new WeakSet,cs=function(xt,ft){xt=Math.ceil(xt),ft=Math.ceil(ft);const vt=lt(this,ot);if(!vt||vt.width===xt&&vt.height===ft)return;vt.width=xt,vt.height=ft;const mt=lt(this,yt)?lt(this,et):Ht(this,Mt,Hs).call(this,xt,ft),St=vt.getContext("2d");St.filter=this._uiManager.hcmFilter,St.drawImage(mt,0,0,mt.width,mt.height,0,0,xt,ft)},Xt=new WeakSet,Pr=function(xt){if(xt){if(lt(this,yt)){const mt=this._uiManager.imageManager.getSvgUrl(lt(this,tt));if(mt)return mt}const ft=document.createElement("canvas");return{width:ft.width,height:ft.height}=lt(this,et),ft.getContext("2d").drawImage(lt(this,et),0,0),ft.toDataURL()}if(lt(this,yt)){const[ft,vt]=this.pageDimensions,mt=Math.round(this.width*ft*j.PixelsPerInch.PDF_TO_CSS_UNITS),St=Math.round(this.height*vt*j.PixelsPerInch.PDF_TO_CSS_UNITS),Ct=new OffscreenCanvas(mt,St);return Ct.getContext("2d").drawImage(lt(this,et),0,0,lt(this,et).width,lt(this,et).height,0,0,mt,St),Ct.transferToImageBitmap()}return structuredClone(lt(this,et))},Tt=new WeakSet,Ws=function(){tn(this,ut,new ResizeObserver(xt=>{const ft=xt[0].contentRect;ft.width&&ft.height&&Ht(this,Et,Us).call(this,ft.width,ft.height)})),lt(this,ut).observe(this.div)},Yn(Rt,"_type","stamp");let _e=Rt;s.StampEditor=_e}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var s=__webpack_module_cache__[i];if(s!==void 0)return s.exports;var o=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return j.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return _e.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return et.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return tt.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return _.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return _.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return o.version}});var s=__w_pdfjs_require__(1),o=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),_=__w_pdfjs_require__(26),j=__w_pdfjs_require__(27),$=__w_pdfjs_require__(5),_e=__w_pdfjs_require__(29),et=__w_pdfjs_require__(14),tt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const workerSrc="/assets/pdf.worker.min-feabdf30.js";pdfExports.GlobalWorkerOptions.workerSrc=workerSrc;const usePdfText=i=>{const[s,o]=reactExports.useState("");return reactExports.useEffect(()=>{(async()=>{if(!i||i.trim()===""||i==="undefined"){o("");return}if(!i.toLowerCase().endsWith(".pdf")){console.log("⚠️ Arquivo não é PDF, pulando extração de texto:",i),o("");return}try{console.log("🔄 Carregando PDF:",i);const j=await pdfExports.getDocument(i).promise;let $="";for(let _e=1;_e<=j.numPages;_e++){const nt=(await(await j.getPage(_e)).getTextContent()).items.map(rt=>rt.str);$+=nt.join(" ")+`

`}console.log("✅ Texto extraído do PDF:",$.length,"caracteres"),o($)}catch(j){console.error("Erro ao extrair texto do PDF:",j),o("")}})()},[i]),s},useTextToSpeech=(i={})=>{const[s,o]=reactExports.useState(!1),[a,_]=reactExports.useState(!1),[j,$]=reactExports.useState([]),{lang:_e="pt-BR",rate:et=.9,pitch:tt=1,volume:nt=1,maxLength:rt=1e3}=i;reactExports.useEffect(()=>{(()=>{const dt="speechSynthesis"in window;if(o(dt),dt){const yt=()=>{const it=window.speechSynthesis.getVoices();$(it),console.log("📢 Vozes carregadas:",it.length)};return yt(),window.speechSynthesis.addEventListener("voiceschanged",yt),()=>{window.speechSynthesis.removeEventListener("voiceschanged",yt)}}})()},[]);const st=reactExports.useCallback(async ut=>{if(!s||!ut.trim())return console.warn("Text-to-Speech não suportado ou texto vazio"),!1;try{window.speechSynthesis.cancel(),_(!1),await new Promise(ct=>setTimeout(ct,100));const dt=ut.length>rt?ut.substring(0,rt)+"...":ut,yt=new SpeechSynthesisUtterance(dt);yt.lang=_e,yt.rate=et,yt.pitch=tt,yt.volume=nt;const it=j.find(ct=>ct.lang.includes("pt")||ct.lang.includes("BR"));return it&&(yt.voice=it),yt.onstart=()=>{_(!0),console.log("🔊 Text-to-Speech iniciado")},yt.onend=()=>{_(!1),console.log("🔇 Text-to-Speech finalizado")},yt.onerror=ct=>{_(!1),console.error("❌ Erro no Text-to-Speech:",ct.error)},window.speechSynthesis.speak(yt),!0}catch(dt){return console.error("Erro ao executar Text-to-Speech:",dt),_(!1),!1}},[s,j,_e,et,tt,nt,rt]),ot=reactExports.useCallback(()=>{s&&(window.speechSynthesis.cancel(),_(!1),console.log("🔇 Text-to-Speech parado"))},[s]);return{isSupported:s,isSpeaking:a,voices:j,speak:st,stop:ot}},MarkdownViewer=({markdown:i,arquivo:s})=>{const[o,a]=reactExports.useState(""),[_,j]=reactExports.useState(!1),[$,_e]=reactExports.useState(null);return reactExports.useEffect(()=>{s?(j(!0),_e(null),fetch(s).then(et=>{if(!et.ok)throw new Error("Arquivo não encontrado");return et.text()}).then(et=>{a(et),j(!1)}).catch(et=>{_e(et.message),j(!1)})):i&&a(i)},[s,i]),_?jsxRuntimeExports.jsx(Card,{className:"mt-6",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Carregando..."})]})})}):jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"📄 Visualização do Conteúdo"})}),jsxRuntimeExports.jsx(CardContent,{children:$?jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 font-medium",children:"⚠️ Erro ao carregar"}),jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:$})]}):jsxRuntimeExports.jsx("div",{className:"prose prose-lg max-w-none prose-slate dark:prose-invert overflow-auto max-h-[600px] markdown-content",children:jsxRuntimeExports.jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],children:o})})})]})},API="https://alego-manus.onrender.com",PDFNotes=({conteudoId:i})=>{console.log("PDFNotes renderizado com conteudoId:",i,"em:",new Date().toISOString());const[s,o]=reactExports.useState([]),[a,_]=reactExports.useState(""),[j,$]=reactExports.useState(!1);reactExports.useRef(null),console.log("PDFNotes state - showBalloon:",j,"notes:",s.length);const _e=()=>{const et=window.open("","_blank");if(!et)return;const tt=`
      <html>
        <head>
          <title>Relatório de Anotações</title>
          <style>
            /* 🎨 CSS para deixar a impressão bonita */
            body { font-family: Arial, sans-serif; margin: 40px; }
            h1 { text-align: center; margin-bottom: 32px; }
            .note { border-bottom: 1px solid #ccc; padding: 16px 0; }
            .note:last-child { border-bottom: none; }
            .note-text { font-size: 1.1em; margin-bottom: 8px; }
            .note-date { font-size: 0.9em; color: #666; text-align: right; }
          </style>
        </head>
        <body>
          <h1>Relatório de Anotações</h1>
          <div>
            ${s.map(nt=>`
              <div class="note">
                <div class="note-text">${nt.texto.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</div>
                <div class="note-date">${new Date(nt.data).toLocaleString("pt-BR")}</div>
              </div>
            `).join("")}
          </div>
        </body>
      </html>
    `;et.document.write(tt),et.document.close(),et.focus(),setTimeout(()=>et.print(),500)};return reactExports.useEffect(()=>{i&&fetch(`${API}/api/anotacoes/${i}`).then(et=>et.json()).then(et=>{Array.isArray(et)&&o(et.map((tt,nt)=>({id:tt.id??Date.now()+nt,texto:tt.texto,data:new Date().toISOString()})))}).catch(console.error)},[i]),reactExports.useEffect(()=>{!i||s.length===0||fetch(`${API}/api/anotacoes/${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.map(et=>et.texto))}).catch(console.error)},[s,i]),jsxRuntimeExports.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:999999,fontFamily:"Arial, sans-serif"},children:[jsxRuntimeExports.jsx("button",{onClick:_e,style:{position:"absolute",bottom:"70px",right:"0px"},children:"📝"}),jsxRuntimeExports.jsx("button",{onClick:()=>{console.log("Botão principal clicado em:",new Date),$(!j)},style:{position:"absolute",bottom:"70px",right:"0px",backgroundColor:"#3b82f6",color:"white",padding:"12px",borderRadius:"50%",border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",cursor:"pointer",zIndex:999999},children:"💬"}),j&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"130px",right:"0px",backgroundColor:"white",border:"2px solid #ccc",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",borderRadius:"8px",padding:"16px",width:"320px",zIndex:999998},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[jsxRuntimeExports.jsx("h3",{style:{fontWeight:"bold",margin:0},children:"Anotações"}),jsxRuntimeExports.jsx("button",{onClick:()=>$(!1),style:{color:"#666",border:"none",backgroundColor:"transparent",fontSize:"20px",cursor:"pointer"},children:"✕"})]}),jsxRuntimeExports.jsx("textarea",{value:a,onChange:et=>_(et.target.value),rows:3,placeholder:"Sua anotação...",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"12px",fontFamily:"Arial, sans-serif",fontSize:"14px"}}),jsxRuntimeExports.jsx("button",{onClick:()=>{if(a.trim()){const et={id:Date.now(),texto:a,data:new Date().toISOString()};o([...s,et]),_(""),alert("Anotação salva!")}},disabled:!a.trim(),style:{width:"100%",backgroundColor:a.trim()?"#3b82f6":"#ccc",color:"white",padding:"8px",borderRadius:"4px",border:"none",cursor:a.trim()?"pointer":"not-allowed"},children:"Salvar"}),jsxRuntimeExports.jsx("button",{onClick:_e,style:{width:"100%",backgroundColor:"#f59e42",color:"white",padding:"8px",borderRadius:"4px",border:"none",cursor:"pointer",marginTop:"8px"},children:"📝 Imprimir anotações"}),s.length>0&&jsxRuntimeExports.jsxs("div",{style:{marginTop:"12px",maxHeight:"160px",overflowY:"auto"},children:[jsxRuntimeExports.jsxs("h4",{style:{fontSize:"14px",fontWeight:"medium",marginBottom:"8px"},children:["Anotações (",s.length,"):"]}),s.map(et=>jsxRuntimeExports.jsx("div",{style:{backgroundColor:"#fef3c7",padding:"8px",borderRadius:"4px",marginBottom:"8px",fontSize:"12px"},children:et.texto},et.id))]})]})]})},PDFNotes$1=reactExports.memo(PDFNotes),ContentViewer=({conteudo:i})=>{if(reactExports.useState(null),!i||!i.arquivo)return jsxRuntimeExports.jsxs("div",{className:"p-4 text-center text-gray-500",children:[jsxRuntimeExports.jsx("p",{children:"Erro: Arquivo não encontrado ou não carregado corretamente."}),jsxRuntimeExports.jsxs("p",{className:"text-sm mt-2",children:["Detalhes: ",JSON.stringify(i,null,2)]})]});const o=(tt=>tt?tt.startsWith("http://localhost:5000")?tt.replace("http://localhost:5000",""):tt:(console.error("URL do arquivo não definida:",i),""))(i.arquivo),a=usePdfText(o),{isSupported:_,isSpeaking:j,speak:$,stop:_e}=useTextToSpeech({lang:"pt-BR",rate:.9,maxLength:2e3});reactExports.useEffect(()=>{console.log("🎤 Text-to-Speech suportado:",_)},[_]);const et=async()=>{if(!a){alert("📄 Nenhum texto disponível para reproduzir");return}if(!_){alert("🚫 Text-to-Speech não é suportado neste dispositivo");return}await $(a)||alert("❌ Erro ao reproduzir áudio. Tente novamente.")};return i.tipo==="pdf"?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-gray-200 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px]",onClick:()=>window.open(o,"_blank","noopener,noreferrer"),children:["🖥️ ",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Abrir"})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px]",onClick:()=>{const tt=document.createElement("a");tt.href=o,tt.download="",document.body.appendChild(tt),tt.click(),document.body.removeChild(tt)},children:["🔽 ",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Baixar"})]}),jsxRuntimeExports.jsxs("button",{onClick:et,disabled:!_||j||!a,className:`flex items-center gap-2 px-5 py-3 text-white rounded-lg transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px] ${j?"bg-orange-500 hover:bg-orange-600":"bg-purple-500 hover:bg-purple-600"} ${!_||!a?"opacity-50 cursor-not-allowed":""}`,title:_?a?j?"Reproduzindo...":"Ouvir conteúdo":"Nenhum texto disponível":"Text-to-Speech não suportado",children:[j?"🔊":"🎵",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:j?"Falando...":"Ouvir"})]}),jsxRuntimeExports.jsxs("button",{onClick:_e,disabled:!j,className:`flex items-center gap-2 px-5 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all text-sm font-medium shadow-md hover:shadow-lg transform hover:scale-105 touch-manipulation min-h-[44px] ${j?"":"opacity-50 cursor-not-allowed"}`,title:j?"Parar reprodução":"Nenhuma reprodução ativa",children:["🔇 ",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Parar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"h-[calc(100vh-250px)] min-h-[600px] overflow-hidden",children:jsxRuntimeExports.jsx("iframe",{src:o,width:"100%",height:"100%",style:{border:"none",borderRadius:"12px"},title:"PDF Viewer",className:"w-full h-full"})})}),jsxRuntimeExports.jsx(PDFNotes$1,{conteudoId:i.id})]})]}):i.tipo==="markdown"?jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"prose prose-lg max-w-none dark:prose-invert",children:jsxRuntimeExports.jsx(MarkdownViewer,{arquivo:o})})})}):i.tipo==="video"?jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:jsxRuntimeExports.jsx("video",{src:o,controls:!0,className:"w-full rounded-lg shadow-md",style:{maxHeight:"70vh"}})}):i.tipo==="youtube"?jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"relative pb-[56.25%] h-0 overflow-hidden rounded-lg shadow-md",children:jsxRuntimeExports.jsx("iframe",{src:o,title:"Vídeo YouTube",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full rounded-lg"})})}):jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-red-600 text-lg font-medium",children:"⚠️ Tipo de conteúdo não suportado"}),jsxRuntimeExports.jsxs("p",{className:"text-red-500 mt-2",children:['O formato "',i.tipo,'" ainda não é suportado pela plataforma.']})]})},uploadFiles=async i=>{const s=new FormData;i.forEach(o=>s.append("files",o));try{const o=await fetch(getApiUrl("/api/upload"),{method:"POST",body:s});if(!o.ok){const _=await o.text();if(console.error("Erro no upload:",_),o.status===405)return console.log("Método POST não permitido, tentando upload alternativo..."),await uploadFilesAlternative(i);throw new Error(`Falha ao enviar arquivos: ${o.status} ${o.statusText}`)}return(await o.json()).urls}catch(o){return console.error("Erro no fetch:",o),console.log("Tentando método alternativo devido a erro de conexão..."),await uploadFilesAlternative(i)}},uploadFilesAlternative=async i=>{console.log("Usando método alternativo de upload (mock)...");const s=[];for(const o of i){const a=`https://via.placeholder.com/400x600/cccccc/666666?text=${encodeURIComponent(o.name)}`;s.push(a)}return s},CursosArea=({curso:i,onVoltar:s,onAtualizar:o})=>{var ht,kt,pt,at;const[a,_]=reactExports.useState(null),[j,$]=reactExports.useState(null),[_e,et]=reactExports.useState(!1),[tt,nt]=reactExports.useState(!1),[rt,st]=reactExports.useState(""),[ot,ut]=reactExports.useState("pdf"),[dt,yt]=reactExports.useState([]),it=async()=>{if(rt.trim())try{const At=await criarMateria(rt,i.id),wt=[...i.materias||[],{...At,conteudos:[]}];o({...i,materias:wt}),_(At),et(!1),st("")}catch(At){console.error(At),alert("Erro ao criar matéria.")}},ct=async()=>{var At;if(!a||dt.length===0){alert("Selecione ao menos um arquivo.");return}try{const wt=await uploadFiles(dt),bt=[];wt.forEach((Mt,Ot)=>{const jt=dt[Ot],Bt=jt.type.includes("pdf")?"pdf":jt.name.endsWith(".md")||jt.type.includes("markdown")?"markdown":jt.type.includes("video")?"video":"pdf",Xt={titulo:jt.name,tipo:Bt,arquivo:Mt,materia_id:a.id};bt.push(Xt)});const Et=await Promise.all(bt.map(Mt=>criarConteudo(Mt))),_t=(At=i.materias)==null?void 0:At.map(Mt=>Mt.id===a.id?{...Mt,conteudos:[...Mt.conteudos||[],...Et]}:Mt);o({...i,materias:_t||[]}),_((_t==null?void 0:_t.find(Mt=>Mt.id===a.id))||null),nt(!1),yt([])}catch(wt){console.error(wt),alert("Erro ao adicionar conteúdos.")}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 flex-shrink-0",children:[jsxRuntimeExports.jsxs("aside",{className:"bg-white rounded-lg p-4 shadow flex-1 lg:max-w-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"📘 Matérias"}),jsxRuntimeExports.jsx(Button,{onClick:()=>et(!0),className:"text-sm bg-green-100 hover:bg-green-200 text-green-700 px-3 py-1",children:"+ Nova"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-b from-blue-50 to-blue-100 rounded-lg p-3 shadow-inner space-y-2 max-h-48 overflow-y-auto",children:[(ht=i.materias)==null?void 0:ht.map(At=>{var wt;return jsxRuntimeExports.jsx("button",{className:`w-full text-left px-3 py-2 rounded-lg transition-all duration-200 text-sm ${(a==null?void 0:a.id)===At.id?"bg-blue-600 text-white shadow-md scale-105":"bg-white hover:bg-blue-50 text-gray-700 hover:shadow-sm"}`,onClick:()=>{_(At),$(null)},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📘"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:At.nome}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-70 ml-auto",children:((wt=At.conteudos)==null?void 0:wt.length)||0})]})},At.id)}),!((kt=i.materias)!=null&&kt.length)&&jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 py-6",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl mb-2",children:"📚"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Nenhuma matéria"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-75",children:"Clique em + Nova"})]})]})]}),jsxRuntimeExports.jsx("aside",{className:"bg-white rounded-lg p-4 shadow flex-1",children:a?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📂"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:a.nome})]}),jsxRuntimeExports.jsx(Button,{className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1",onClick:()=>nt(!0),children:"+ Conteúdo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 max-h-48 overflow-y-auto",children:[(a.conteudos??[]).map(At=>jsxRuntimeExports.jsxs("button",{className:`text-left border rounded-lg p-3 transition-all duration-200 ${(j==null?void 0:j.id)===At.id?"ring-2 ring-blue-500 bg-blue-50 border-blue-300 shadow-md scale-105":"bg-white hover:bg-gray-50 border-gray-200 hover:shadow-sm hover:scale-102"}`,onClick:()=>$(At),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 font-medium text-sm mb-1",children:[At.tipo==="pdf"&&"📄",At.tipo==="markdown"&&"📝",At.tipo==="video"&&"🎥",jsxRuntimeExports.jsx("span",{className:"truncate",children:At.titulo})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 capitalize",children:At.tipo})]},At.id)),!((pt=a.conteudos)!=null&&pt.length)&&jsxRuntimeExports.jsxs("div",{className:"col-span-full text-center text-gray-500 py-8",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-3",children:"📁"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Sem conteúdos"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-75",children:"Adicione arquivos à matéria"})]})]})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-40",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-3",children:"👈"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Selecione uma matéria"}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:"para ver os conteúdos"})]})})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg shadow-inner min-h-0",children:j?jsxRuntimeExports.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white flex-shrink-0",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold flex items-center gap-2 truncate",children:[j.tipo==="pdf"&&"📄",j.tipo==="markdown"&&"📝",j.tipo==="video"&&"🎥",jsxRuntimeExports.jsx("span",{children:j.titulo})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/20 px-3 py-1 rounded-full",children:[jsxRuntimeExports.jsx("span",{children:"📘"}),jsxRuntimeExports.jsx("span",{children:a==null?void 0:a.nome})]})]}),jsxRuntimeExports.jsx("div",{className:"h-full p-4 overflow-hidden",children:jsxRuntimeExports.jsx(ContentViewer,{conteudo:j})})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Selecione um conteúdo"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-1",children:a?`${((at=a.conteudos)==null?void 0:at.length)||0} conteúdo(s) em "${a.nome}"`:"Escolha uma matéria primeiro"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"PDFs, vídeos e materiais de estudo"})]})})}),_e&&jsxRuntimeExports.jsx(Modal,{title:"Nova Matéria",onClose:()=>et(!1),children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Nome da matéria",value:rt,onChange:At=>st(At.target.value),className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>et(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:it,className:"simple-btn",children:"Criar Matéria"})]})]})}),tt&&jsxRuntimeExports.jsx(Modal,{title:"Adicionar Conteúdo",onClose:()=>nt(!1),children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Select,{value:ot,onValueChange:At=>ut(At),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Tipo de conteúdo"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"pdf",children:"📄 PDF"}),jsxRuntimeExports.jsx(SelectItem,{value:"markdown",children:"📝 Markdown"}),jsxRuntimeExports.jsx(SelectItem,{value:"video",children:"🎥 Vídeo"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Selecionar arquivos"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf,.md,video/*",multiple:!0,onChange:At=>{const wt=Array.from(At.target.files||[]);yt(wt)},className:"w-full p-2 border border-gray-300 rounded-md"}),dt.length>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[dt.length," arquivo(s) selecionado(s)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>nt(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:ct,className:"simple-btn",children:"Adicionar Conteúdo"})]})]})})]})},Cursos=()=>{var ot;const[i,s]=reactExports.useState([]),[o,a]=reactExports.useState(null),[_,j]=reactExports.useState(!1),[$,_e]=reactExports.useState(""),[et,tt]=reactExports.useState(1),[nt,rt]=reactExports.useState([""]);reactExports.useEffect(()=>{listarCursos().then(s).catch(console.error)},[]);const st=async()=>{if(!$.trim())return alert("Informe nome");try{const ut=await criarCurso($),dt=[];for(const it of nt)if(it.trim()){const ct=await criarMateria(it,ut.id);dt.push({...ct,conteudos:[]})}const yt={...ut,materias:dt};s(it=>[...it,yt]),j(!1),_e(""),tt(1),rt([""])}catch{alert("Erro ao criar")}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"📚 Cursos"}),o&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:"→"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-600",children:o.nome}),jsxRuntimeExports.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:[((ot=o.materias)==null?void 0:ot.length)||0," matérias"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o&&jsxRuntimeExports.jsx(Button,{onClick:()=>a(null),className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700",children:"← Voltar aos Cursos"}),jsxRuntimeExports.jsx(Button,{onClick:()=>j(!0),className:"text-sm bg-blue-600 hover:bg-blue-700 text-white",children:"+ Novo Curso"})]})]}),!o&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[i.map(ut=>{var dt;return jsxRuntimeExports.jsxs("div",{onClick:()=>a(ut),className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-lg p-4 cursor-pointer hover:shadow-md hover:from-blue-100 hover:to-indigo-200 transition-all duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800 text-lg truncate pr-2",children:ut.nome}),jsxRuntimeExports.jsx("div",{className:"text-blue-600 text-xl",children:"📚"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[((dt=ut.materias)==null?void 0:dt.length)||0," matéria(s)"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:"Clique para abrir"}),jsxRuntimeExports.jsx("span",{children:"→"})]})]},ut.id)}),i.length===0&&jsxRuntimeExports.jsxs("div",{className:"col-span-full text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4 opacity-50",children:"📚"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"Nenhum curso encontrado"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Crie seu primeiro curso para começar"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0",children:o?jsxRuntimeExports.jsx(CursosArea,{curso:o,onVoltar:()=>a(null),onAtualizar:ut=>{s(i.map(dt=>dt.id===ut.id?ut:dt)),a(ut)}}):jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow h-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-8xl mb-6 opacity-30",children:"🎓"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"Bem-vindo aos seus Cursos"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Organize seus estudos criando cursos com matérias e conteúdos. Cada curso pode ter múltiplas matérias com PDFs, vídeos e materiais de estudo."}),jsxRuntimeExports.jsx(Button,{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 text-lg",children:"🚀 Criar Primeiro Curso"})]})})}),_&&jsxRuntimeExports.jsx(Modal,{title:"Novo Curso",onClose:()=>j(!1),children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Curso"}),jsxRuntimeExports.jsx(Input,{placeholder:"Ex: Concurso ALEGO 2025",value:$,onChange:ut=>_e(ut.target.value),className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantas matérias?"}),jsxRuntimeExports.jsx(Input,{type:"number",min:1,max:20,value:et,onChange:ut=>{const dt=parseInt(ut.target.value)||1;tt(dt),rt(yt=>Array.from({length:dt},(it,ct)=>yt[ct]||""))},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome das Matérias"}),Array.from({length:et}).map((ut,dt)=>jsxRuntimeExports.jsx(Input,{placeholder:`Matéria ${dt+1} - Ex: Regimento Interno`,value:nt[dt],onChange:yt=>{const it=[...nt];it[dt]=yt.target.value,rt(it)},className:"w-full"},dt))]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>j(!1),className:"bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{onClick:st,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"✅ Criar Curso"})]})]})})]})},initialState={theme:"system",setTheme:()=>null},ThemeProviderContext=reactExports.createContext(initialState);function ThemeProvider({children:i,defaultTheme:s="system",storageKey:o="vite-ui-theme",...a}){const[_,j]=reactExports.useState(()=>localStorage.getItem(o)||s);reactExports.useEffect(()=>{const _e=window.document.documentElement;if(_e.classList.remove("light","dark"),_==="system"){const et=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";_e.classList.add(et);return}_e.classList.add(_)},[_]);const $={theme:_,setTheme:_e=>{localStorage.setItem(o,_e),j(_e)}};return jsxRuntimeExports.jsx(ThemeProviderContext.Provider,{...a,value:$,children:i})}const App=()=>{const[i,s]=reactExports.useState("home"),o=()=>{switch(i){case"dashboard":return jsxRuntimeExports.jsx(Dashboard,{});case"cursos":return jsxRuntimeExports.jsx(Cursos,{});case"markdown":return jsxRuntimeExports.jsx(MarkdownEditor,{});case"flashcards":return jsxRuntimeExports.jsx(Flashcards,{});case"simulado":return jsxRuntimeExports.jsx(SimuladoArea,{});case"conteudos":return jsxRuntimeExports.jsx(MeusConteudos,{});case"admin":return jsxRuntimeExports.jsx(Admin,{});case"pdf":return jsxRuntimeExports.jsx(SimplePDFViewer,{});case"viewer":return jsxRuntimeExports.jsx(MarkdownViewer,{markdown:""});default:return jsxRuntimeExports.jsx(AppHome,{setCurrentPage:s})}};return jsxRuntimeExports.jsx(ThemeProvider,{defaultTheme:"light",storageKey:"alego-theme",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen",children:[jsxRuntimeExports.jsx(Header,{currentPage:i,setCurrentPage:s}),jsxRuntimeExports.jsx(Main,{children:o()}),jsxRuntimeExports.jsx(Footer,{})]})})};"serviceWorker"in navigator?window.addEventListener("load",async()=>{try{const i=await navigator.serviceWorker.register("/service-worker.js");console.info("✅ Service Worker registered:",i),i.addEventListener("updatefound",()=>{console.info("🔄 Nova versão disponível!")})}catch(i){console.error("❌ Service Worker registration failed:",i)}}):console.info("🔧 Service Worker desabilitado em desenvolvimento");window.addEventListener("beforeinstallprompt",i=>{i.preventDefault(),console.info("💫 PWA pode ser instalado")});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
